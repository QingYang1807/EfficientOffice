(function(){"use strict";var e={82629:function(e,t,n){var l=n(78676),a=n(45130),u=n(81387),r=n(14048),o=n(30388),i=(n(44114),n(56768)),c=n(24232),s=n(90144),d=n.p+"img/logo.67181788.svg",f=n.p+"img/logo-full.67522aa4.svg",v=n(57477),p=n(12933),m={__name:"RenderMenuNodes",props:{menuNodes:{type:Array,required:!0}},setup:function(e){var t=(0,u.rd)(),n=function(e){var n=e.path;n.startsWith("@")?window.open(n.slice(1),"_blank"):n.startsWith("#")?t.push({path:"/iframe-view",query:{url:n.slice(1),title:e.title}}):n.startsWith("/web-view")?t.push(n):n.startsWith("http://")||n.startsWith("https://")?t.push({path:"/web-view",query:{url:n,title:e.title}}):t.push(n)};return function(t,l){var a=(0,i.g2)("el-icon"),u=(0,i.g2)("RenderMenuNodes",!0),r=(0,i.g2)("el-sub-menu"),o=(0,i.g2)("el-menu-item");return(0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.menuNodes,(function(e){return(0,i.uX)(),(0,i.CE)(i.FK,{key:e.id},[e.children&&e.children.length&&e.visible?((0,i.uX)(),(0,i.Wv)(r,{key:0,index:e.path},{title:(0,i.k6)((function(){return[(0,i.bF)(a,null,{default:(0,i.k6)((function(){return[((0,i.uX)(),(0,i.Wv)((0,i.$y)(e.icon)))]})),_:2},1024),(0,i.Lk)("span",null,(0,c.v_)(e.title),1)]})),default:(0,i.k6)((function(){return[(0,i.bF)(u,{"menu-nodes":e.children},null,8,["menu-nodes"])]})),_:2},1032,["index"])):e.visible?((0,i.uX)(),(0,i.Wv)(o,{key:1,index:e.path,onClick:function(t){return n(e)}},{default:(0,i.k6)((function(){return[(0,i.bF)(a,null,{default:(0,i.k6)((function(){return[((0,i.uX)(),(0,i.Wv)((0,i.$y)(e.icon)))]})),_:2},1024),(0,i.Lk)("span",null,(0,c.v_)(e.title),1)]})),_:2},1032,["index","onClick"])):(0,i.Q3)("",!0)],64)})),128)}}};const k=m;var g=k,b={__name:"AppMenu",emits:["collapse-change"],setup:function(e,t){var n=t.emit,l=((0,u.rd)(),(0,u.lq)()),a=(0,i.EW)((function(){return l.path})),r=(0,s.KR)(!1),o=(0,i.EW)((function(){var e=localStorage.getItem("menu-config");return e?JSON.parse(e):[]})),c=function(){r.value=!r.value},d=n;return(0,i.wB)(r,(function(e){d("collapse-change",e)})),function(e,t){var n=(0,i.g2)("el-icon"),l=(0,i.g2)("el-menu");return(0,i.uX)(),(0,i.Wv)(l,{"default-active":a.value,class:"app-menu",collapse:r.value},{default:(0,i.k6)((function(){return[(0,i.Lk)("div",{class:"collapse-btn",onClick:c},[(0,i.bF)(n,null,{default:(0,i.k6)((function(){return[((0,i.uX)(),(0,i.Wv)((0,i.$y)(r.value?"Expand":"Fold")))]})),_:1})]),(0,i.bF)(g,{"menu-nodes":o.value},null,8,["menu-nodes"])]})),_:1},8,["default-active","collapse"])}}},h=n(71241);const y=(0,h.A)(b,[["__scopeId","data-v-5bd75526"]]);var _=y,F={key:0,src:d,alt:"Logo"},w={key:1,src:f,alt:"Logo"},L={class:"header-right"},C={class:"avatar-container"},x={class:"username"},A={__name:"MainLayout",setup:function(e){var t=(0,u.rd)(),n=(0,u.lq)(),l=(0,s.KR)(!1),a=((0,i.EW)((function(){return n.path})),(0,s.KR)({name:"测试用户",avatar:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"})),d=(0,i.EW)((function(){return a.value.avatar||""})),f=function(e){l.value=e},m=function(){var e=(0,o.A)((0,r.A)().mark((function e(n){return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.t0=n,e.next="profile"===e.t0?3:"settings"===e.t0?5:"logout"===e.t0?7:10;break;case 3:return t.push("/profile"),e.abrupt("break",10);case 5:return t.push("/settings"),e.abrupt("break",10);case 7:return e.next=9,k();case 9:return e.abrupt("break",10);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=(0,o.A)((0,r.A)().mark((function e(){return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.s.confirm("确定要退出登录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 3:t.push("/login"),e.next=8;break;case 6:e.prev=6,e.t0=e["catch"](0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return function(e,t){var n=(0,i.g2)("el-aside"),u=(0,i.g2)("el-avatar"),r=(0,i.g2)("el-icon"),o=(0,i.g2)("el-dropdown-item"),p=(0,i.g2)("el-dropdown-menu"),k=(0,i.g2)("el-dropdown"),g=(0,i.g2)("el-header"),b=(0,i.g2)("router-view"),h=(0,i.g2)("el-main"),y=(0,i.g2)("el-container");return(0,i.uX)(),(0,i.Wv)(y,{class:"layout-container"},{default:(0,i.k6)((function(){return[(0,i.bF)(n,{width:l.value?"64px":"200px",class:"aside"},{default:(0,i.k6)((function(){return[(0,i.Lk)("div",{class:(0,c.C4)(["logo",{collapsed:l.value}])},[l.value?((0,i.uX)(),(0,i.CE)("img",F)):((0,i.uX)(),(0,i.CE)("img",w))],2),(0,i.bF)(_,{onCollapseChange:f})]})),_:1},8,["width"]),(0,i.bF)(y,{class:"main-container"},{default:(0,i.k6)((function(){return[(0,i.bF)(g,null,{default:(0,i.k6)((function(){return[t[3]||(t[3]=(0,i.Lk)("div",{class:"header-left"},null,-1)),(0,i.Lk)("div",L,[(0,i.bF)(k,{onCommand:m},{dropdown:(0,i.k6)((function(){return[(0,i.bF)(p,null,{default:(0,i.k6)((function(){return[(0,i.bF)(o,{command:"profile"},{default:(0,i.k6)((function(){return[(0,i.bF)(r,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.User))]})),_:1}),t[0]||(t[0]=(0,i.eW)("个人信息 "))]})),_:1}),(0,i.bF)(o,{command:"settings"},{default:(0,i.k6)((function(){return[(0,i.bF)(r,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Setting))]})),_:1}),t[1]||(t[1]=(0,i.eW)("系统设置 "))]})),_:1}),(0,i.bF)(o,{divided:"",command:"logout"},{default:(0,i.k6)((function(){return[(0,i.bF)(r,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.SwitchButton))]})),_:1}),t[2]||(t[2]=(0,i.eW)("退出登录 "))]})),_:1})]})),_:1})]})),default:(0,i.k6)((function(){return[(0,i.Lk)("div",C,[(0,i.bF)(u,{size:32,src:d.value},{default:(0,i.k6)((function(){var e;return[(0,i.Lk)("span",null,(0,c.v_)(null===(e=a.value.name)||void 0===e||null===(e=e.charAt(0))||void 0===e?void 0:e.toUpperCase()),1)]})),_:1},8,["src"]),(0,i.Lk)("span",x,(0,c.v_)(a.value.name),1),(0,i.bF)(r,{class:"el-icon--right"},{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.ArrowDown))]})),_:1})])]})),_:1})])]})),_:1}),(0,i.bF)(h,null,{default:(0,i.k6)((function(){return[(0,i.bF)(b)]})),_:1})]})),_:1})]})),_:1})}}};const R=(0,h.A)(A,[["__scopeId","data-v-f0c4d530"]]);var V=R,D=n(41034),W=(n(98992),n(54520),n(3949),n(81454),n(8872),n(22212)),S=n(75095),E=n(38138),K=n(96177),X=n(80395),I=n(59372),M=n(89536),T=n(74016),U=n(9356),N=n(9722),O=n(17904),z=n(57780),P=n(51219),Y=n(55234),q=(0,Y.nY)("review",(function(){var e=(0,s.KR)([]),t=function(){var t=localStorage.getItem("reviews");t&&(e.value=JSON.parse(t))},n=function(){localStorage.setItem("reviews",JSON.stringify(e.value))},l=function(t){e.value.unshift(t),n()},a=function(t,l){var a=e.value.findIndex((function(e){return e.id===t}));-1!==a&&(e.value[a]=(0,D.A)((0,D.A)({},e.value[a]),l),n())},u=function(t){e.value=e.value.filter((function(e){return e.id!==t})),n()},r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return e.value.sort((function(e,t){return new Date(t.date)-new Date(e.date)})).slice(0,t)},o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";return e.value.filter((function(e){return"all"===t||e.type===t})).sort((function(e,t){return new Date(t.date)-new Date(e.date)}))};return{reviews:e,loadReviews:t,addReview:l,updateReview:a,deleteReview:u,getRecentReviews:r,getFilteredReviews:o}})),B={class:"dashboard-container"},J={class:"stats-container"},Q={class:"stat-content"},j={class:"stat-icon"},G={class:"stat-info"},$={class:"stat-title"},H={class:"stat-number"},Z={class:"stat-desc"},ee={class:"chart-header"},te={class:"card-header"},ne={class:"review-actions"},le={class:"review-item-header"},ae={class:"review-title"},ue={class:"review-content"},re={key:0,class:"review-section"},oe={key:1,class:"review-section"},ie={key:2,class:"review-section"},ce={class:"card-header"},se={class:"card-header"},de={class:"dialog-footer"},fe={__name:"Dashboard",setup:function(e){(0,W.Y)([S.a,E.a,K.a,X.a,I.a,M.a,T.a,U.a,N.a,O.a]);var t=(0,u.rd)(),n=(0,s.KR)([]),a=(0,s.KR)("week"),d=q(),f=function(){var e=localStorage.getItem("todos");e&&(n.value=JSON.parse(e))},p=function(){localStorage.setItem("todos",JSON.stringify(n.value))};(0,i.wB)((function(){return n.value}),(function(){p()}),{deep:!0});var m=(0,i.EW)((function(){return[{title:"待办任务",value:n.value.filter((function(e){return!e.completed})).length,description:"个待处理任务",class:"todo-card",icon:"List",type:"todo"},{title:"专注时长",value:k(),description:"个番茄钟",class:"focus-card",icon:"Timer",type:"pomodoro"},{title:"完成率",value:g(),description:b(),class:"completed-card",icon:"Check",type:"completed"},{title:"逾期任务",value:h().length,description:"需要关注",class:"overdue-card",icon:"Warning",type:"overdue"}]})),k=function(){return n.value.reduce((function(e,t){return e+(t.pomodoros||0)}),0)},g=function(){var e=n.value.length;if(0===e)return"0%";var t=n.value.filter((function(e){return e.completed})).length;return Math.round(t/e*100)+"%"},b=function(){var e=new Date;e.setDate(e.getDate()-7);var t=n.value.filter((function(t){return t.createdAt<e.getTime()})),l=t.filter((function(e){return e.completed})).length,a=t.length?l/t.length:0,u=parseFloat(g())/100,r=u-a;return Math.abs(r)<.01?"持平":r>0?"较上周 +".concat(Math.round(100*r),"%"):"较上周 ".concat(Math.round(100*r),"%")},h=function(){return n.value.filter((function(e){return!e.completed&&ge(e.dueDate)}))},y=function(e){if("year"===a.value){var t=e.getFullYear(),l=e.getMonth(),u=new Date(t,l,1),r=new Date(t,l+1,0);return n.value.filter((function(e){return e.completed&&e.completedAt>=u.getTime()&&e.completedAt<=r.getTime()})).length}var o=new Date(e);return o.setDate(e.getDate()+1),n.value.filter((function(t){return t.completed&&t.completedAt>=e.getTime()&&t.completedAt<o.getTime()})).length},_=function(e){if("year"===a.value){var t=e.getFullYear(),l=e.getMonth(),u=new Date(t,l,1),r=new Date(t,l+1,0);return n.value.filter((function(e){return e.createdAt>=u.getTime()&&e.createdAt<=r.getTime()})).length}var o=new Date(e);return o.setDate(e.getDate()+1),n.value.filter((function(t){return t.createdAt>=e.getTime()&&t.createdAt<o.getTime()})).length},F=(0,i.EW)((function(){var e,t,n,l,u=[],r=new Date;switch(a.value){case"week":for(var o=6;o>=0;o--){var i=new Date;i.setDate(i.getDate()-o),i.setHours(0,0,0,0),u.push(i)}break;case"month":e=r.getFullYear(),t=r.getMonth(),n=new Date(e,t+1,0).getDate();for(var c=0;c<n;c++){var s=new Date(e,t,c+1);s.setHours(0,0,0,0),u.push(s)}break;case"year":l=r.getFullYear();for(var d=0;d<12;d++){var f=new Date(l,d,1);u.push(f)}break}return u})),w=(0,i.EW)((function(){var e=F.value,t=e.map((function(e){return y(e)})),n=e.map((function(e){return _(e)}));return{tooltip:{trigger:"axis",formatter:function(t){var n=e[t[0].dataIndex];return ke(n)+"<br/>"+t.map((function(e){return e.seriesName+": "+e.value})).join("<br/>")}},legend:{data:["已完成","新增"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:e.map((function(e){return L(e)})),axisLabel:{interval:"week"===a.value?0:"auto",rotate:"month"===a.value?30:0}},yAxis:{type:"value",minInterval:1},series:[{name:"已完成",type:"line",data:t,smooth:!0,areaStyle:{opacity:.1},itemStyle:{color:"#67C23A"},lineStyle:{width:2}},{name:"新增",type:"line",data:n,smooth:!0,areaStyle:{opacity:.1},itemStyle:{color:"#409EFF"},lineStyle:{width:2}}]}})),L=function(e){switch(a.value){case"week":return"".concat(e.getMonth()+1,"/").concat(e.getDate());case"month":return"".concat(e.getDate(),"日");case"year":return"".concat(e.getMonth()+1,"月");default:return"".concat(e.getMonth()+1,"/").concat(e.getDate())}};(0,i.wB)((function(){return a.value}),(function(){}));var C=function(e){for(var t=[],n=new Date(e,0,1),l=new Date,a=n.getTime();a<=l.getTime();a+=864e5){var u=new Date(a),r=ke(u,"yyyy-MM-dd"),o=y(u),i=_(u);t.push([r,o+i])}return t},x=function(){var e=[],t=Date.now(),l=t-2592e5;n.value.filter((function(e){return e.completed&&e.completedAt>l})).forEach((function(t){e.push({id:"complete-".concat(t.id),content:'完成了任务 "'.concat(t.text,'"'),time:ke(t.completedAt),type:"success"})})),n.value.filter((function(e){return e.createdAt>l})).forEach((function(t){e.push({id:"create-".concat(t.id),content:'创建了新任务 "'.concat(t.text,'"'),time:ke(t.createdAt),type:"primary"})})),fe.value=e.sort((function(e,t){return new Date(t.time)-new Date(e.time)})).slice(0,5)};(0,i.wB)((function(){return n.value}),(function(){x()}),{deep:!0});var A=function(){var e={"工作目标":{total:0,completed:0,target:100},"学习目标":{total:0,completed:0,target:80},"生活目标":{total:0,completed:0,target:60},"其他目标":{total:0,completed:0,target:50}};return n.value.forEach((function(t){var n=t.category||"其他目标";e[n]&&(e[n].total++,t.completed&&e[n].completed++)})),Object.entries(e).map((function(e){var t=(0,l.A)(e,2),n=t[0],a=t[1];return{value:a.total?Math.round(a.completed/a.total*100):0,target:a.target,name:n,itemStyle:{color:R(n)}}}))},R=function(e){var t={"工作目标":"#409EFF","学习目标":"#67C23A","生活目标":"#E6A23C","其他目标":"#909399"};return t[e]},V=(0,i.EW)((function(){return{tooltip:{trigger:"axis",formatter:function(e){var t=e[0];return"".concat(t.name,"<br/>完成进度: ").concat(t.value,"%<br/>目标: ").concat(t.target,"%")}},grid:{top:"10%",left:"3%",right:"15%",bottom:"10%",containLabel:!0},xAxis:{type:"value",max:100,axisLabel:{formatter:"{value}%"}},yAxis:{type:"category",data:["工作目标","学习目标","生活目标","其他目标"],axisLine:{show:!1},axisTick:{show:!1}},series:[{type:"bar",name:"完成进度",data:A(),barWidth:"20px",label:{show:!0,position:"right",formatter:function(e){return"".concat(e.value,"%")}},markLine:{symbol:["none","none"],label:{show:!1},lineStyle:{type:"dashed"},data:A().map((function(e,t){return[{coord:[e.target,t],lineStyle:{color:e.itemStyle.color}},{coord:[e.target,t+.5]}]}))}}]}})),Y=(0,i.EW)((function(){var e=new Date,t=C(e.getFullYear());return{visualMap:{min:0,max:10,calculable:!0,orient:"horizontal",left:"center",bottom:0,inRange:{color:["#ebedf0","#9be9a8","#40c463","#30a14e","#216e39"]}},calendar:{top:30,left:30,right:30,cellSize:["auto",13],range:e.getFullYear(),itemStyle:{borderWidth:.5},yearLabel:{show:!1}},series:{type:"heatmap",coordinateSystem:"calendar",data:t}}})),fe=(0,s.KR)([{id:1,content:'完成了任务 "完善仪表盘设计"',time:"2024-01-20 10:30:00",type:"success"},{id:2,content:'新建目标 "学习 Vue.js 高级特性"',time:"2024-01-20 09:15:00",type:"primary"},{id:3,content:"完成了 25 分钟专注",time:"2024-01-20 08:45:00",type:"warning"}]),ve=(0,i.EW)((function(){return n.value.filter((function(e){return!e.completed})).sort((function(e,t){return(t.createdAt||0)-(e.createdAt||0)})).slice(0,5)})),pe=function(){t.push("/todos"),setTimeout((function(){var e=document.querySelector(".add_task_input input");e&&e.focus()}),100)},me=function(e){var t={"高":"danger","中":"warning","低":"success"};return t[e]||"info"},ke=function(e){if(!e)return"";var t=new Date(e);return t.toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})},ge=function(e){return!!e&&new Date(e)<new Date},be=function(e){switch(e){case"todo":t.push("/todos");break;case"pomodoro":t.push("/pomodoro-timer");break;case"completed":t.push({path:"/todos",query:{filter:"completed"}});break;case"overdue":t.push({path:"/todos",query:{filter:"overdue"}});break}};(0,i.sV)((function(){f(),x(),d.loadReviews()}));var he=(0,s.KR)("daily"),ye=(0,s.KR)(!1),_e=(0,s.KR)(null),Fe=(0,s.KR)({type:"daily",title:"",achievements:"",lessons:"",plans:""}),we={type:[{required:!0,message:"请选择复盘类型",trigger:"change"}],title:[{required:!0,message:"请输入复盘标题",trigger:"blur"}],achievements:[{required:!0,message:"请输入主要成就",trigger:"blur"}],lessons:[{required:!0,message:"请输入经验教训",trigger:"blur"}],plans:[{required:!0,message:"请输入下步计划",trigger:"blur"}]},Le=((0,i.EW)((function(){return d.getRecentReviews(5)})),(0,i.EW)((function(){return d.getFilteredReviews(he.value)}))),Ce=(0,i.EW)((function(){var e={daily:"日复盘",weekly:"周复盘",monthly:"月复盘"};return"新建".concat(e[Fe.value.type])})),xe=function(){Fe.value={type:he.value,title:"",achievements:"",lessons:"",plans:""},ye.value=!0},Ae=function(){var e=(0,o.A)((0,r.A)().mark((function e(){return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(_e.value){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,_e.value.validate((function(e){if(e){var t=new Date,n=t;Fe.value.title;var l=(0,D.A)((0,D.A)({id:Date.now()},Fe.value),{},{date:ke(n)});d.addReview(l),ye.value=!1,_e.value.resetFields(),P.nk.success("复盘记录已保存")}}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Re=function(e){var t={daily:"primary",weekly:"success",monthly:"warning"};return t[e]||"info"},Ve=function(e){var t={daily:"",weekly:"success",monthly:"warning"};return t[e]||"info"},De=function(e){var t={daily:"日复盘",weekly:"周复盘",monthly:"月复盘"};return t[e]||"未知类型"};return function(e,t){var n=(0,i.g2)("el-icon"),l=(0,i.g2)("el-card"),u=(0,i.g2)("el-col"),r=(0,i.g2)("el-row"),o=(0,i.g2)("el-radio-button"),d=(0,i.g2)("el-radio-group"),f=(0,i.g2)("el-button"),p=(0,i.g2)("el-button-group"),k=(0,i.g2)("el-tag"),g=(0,i.g2)("el-timeline-item"),b=(0,i.g2)("el-timeline"),h=(0,i.g2)("el-tooltip"),y=(0,i.g2)("el-table-column"),_=(0,i.g2)("el-table"),F=(0,i.g2)("el-option"),L=(0,i.g2)("el-select"),C=(0,i.g2)("el-form-item"),x=(0,i.g2)("el-input"),A=(0,i.g2)("el-form"),R=(0,i.g2)("el-dialog");return(0,i.uX)(),(0,i.CE)("div",B,[(0,i.Lk)("div",J,[(0,i.bF)(r,{gutter:20},{default:(0,i.k6)((function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(m.value,(function(e){return(0,i.uX)(),(0,i.Wv)(u,{span:6,key:e.title},{default:(0,i.k6)((function(){return[(0,i.bF)(l,{class:(0,c.C4)(["stat-card",[e.class,"clickable"]]),shadow:"hover",onClick:function(t){return be(e.type)}},{default:(0,i.k6)((function(){return[(0,i.Lk)("div",Q,[(0,i.Lk)("div",j,[(0,i.bF)(n,null,{default:(0,i.k6)((function(){return[((0,i.uX)(),(0,i.Wv)((0,i.$y)(e.icon)))]})),_:2},1024)]),(0,i.Lk)("div",G,[(0,i.Lk)("div",$,(0,c.v_)(e.title),1),(0,i.Lk)("div",H,(0,c.v_)(e.value),1),(0,i.Lk)("div",Z,(0,c.v_)(e.description),1)])])]})),_:2},1032,["class","onClick"])]})),_:2},1024)})),128))]})),_:1})]),(0,i.bF)(r,{gutter:20,class:"charts-container"},{default:(0,i.k6)((function(){return[(0,i.bF)(u,{span:16},{default:(0,i.k6)((function(){return[(0,i.bF)(l,{class:"chart-card"},{header:(0,i.k6)((function(){return[(0,i.Lk)("div",ee,[t[14]||(t[14]=(0,i.Lk)("span",null,"任务完成趋势",-1)),(0,i.bF)(d,{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.value=e}),size:"small"},{default:(0,i.k6)((function(){return[(0,i.bF)(o,{label:"week"},{default:(0,i.k6)((function(){return t[11]||(t[11]=[(0,i.eW)("本周")])})),_:1}),(0,i.bF)(o,{label:"month"},{default:(0,i.k6)((function(){return t[12]||(t[12]=[(0,i.eW)("本月")])})),_:1}),(0,i.bF)(o,{label:"year"},{default:(0,i.k6)((function(){return t[13]||(t[13]=[(0,i.eW)("本年")])})),_:1})]})),_:1},8,["modelValue"])])]})),default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(z.Ay),{class:"chart",option:w.value,autoresize:""},null,8,["option"])]})),_:1})]})),_:1}),(0,i.bF)(u,{span:8},{default:(0,i.k6)((function(){return[(0,i.bF)(l,{class:"chart-card"},{header:(0,i.k6)((function(){return t[15]||(t[15]=[(0,i.Lk)("div",{class:"chart-header"},[(0,i.Lk)("span",null,"目标完成进度")],-1)])})),default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(z.Ay),{class:"chart",option:V.value,autoresize:""},null,8,["option"])]})),_:1})]})),_:1})]})),_:1}),(0,i.bF)(r,{gutter:20,class:"review-container"},{default:(0,i.k6)((function(){return[(0,i.bF)(u,{span:24},{default:(0,i.k6)((function(){return[(0,i.bF)(l,{class:"review-card"},{header:(0,i.k6)((function(){return[(0,i.Lk)("div",te,[t[20]||(t[20]=(0,i.Lk)("span",null,"复盘记录",-1)),(0,i.Lk)("div",ne,[(0,i.bF)(p,null,{default:(0,i.k6)((function(){return[(0,i.bF)(f,{type:"primary",plain:"daily"!==he.value,onClick:t[1]||(t[1]=function(e){return he.value="daily"})},{default:(0,i.k6)((function(){return t[16]||(t[16]=[(0,i.eW)(" 日复盘 ")])})),_:1},8,["plain"]),(0,i.bF)(f,{type:"primary",plain:"weekly"!==he.value,onClick:t[2]||(t[2]=function(e){return he.value="weekly"})},{default:(0,i.k6)((function(){return t[17]||(t[17]=[(0,i.eW)(" 周复盘 ")])})),_:1},8,["plain"]),(0,i.bF)(f,{type:"primary",plain:"monthly"!==he.value,onClick:t[3]||(t[3]=function(e){return he.value="monthly"})},{default:(0,i.k6)((function(){return t[18]||(t[18]=[(0,i.eW)(" 月复盘 ")])})),_:1},8,["plain"])]})),_:1}),(0,i.bF)(f,{type:"primary",onClick:xe},{default:(0,i.k6)((function(){return[(0,i.bF)(n,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Plus))]})),_:1}),t[19]||(t[19]=(0,i.eW)("新建复盘 "))]})),_:1})])])]})),default:(0,i.k6)((function(){return[(0,i.bF)(b,null,{default:(0,i.k6)((function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(Le.value,(function(e){return(0,i.uX)(),(0,i.Wv)(g,{key:e.id,timestamp:e.date,type:Re(e.type)},{default:(0,i.k6)((function(){return[(0,i.bF)(l,{class:"review-item"},{header:(0,i.k6)((function(){return[(0,i.Lk)("div",le,[(0,i.bF)(k,{type:Ve(e.type)},{default:(0,i.k6)((function(){return[(0,i.eW)((0,c.v_)(De(e.type)),1)]})),_:2},1032,["type"]),(0,i.Lk)("span",ae,(0,c.v_)(e.title),1)])]})),default:(0,i.k6)((function(){return[(0,i.Lk)("div",ue,[e.achievements?((0,i.uX)(),(0,i.CE)("div",re,[t[21]||(t[21]=(0,i.Lk)("h4",null,"🎯 主要成就",-1)),(0,i.Lk)("p",null,(0,c.v_)(e.achievements),1)])):(0,i.Q3)("",!0),e.lessons?((0,i.uX)(),(0,i.CE)("div",oe,[t[22]||(t[22]=(0,i.Lk)("h4",null,"📝 经验教训",-1)),(0,i.Lk)("p",null,(0,c.v_)(e.lessons),1)])):(0,i.Q3)("",!0),e.plans?((0,i.uX)(),(0,i.CE)("div",ie,[t[23]||(t[23]=(0,i.Lk)("h4",null,"📋 下步计划",-1)),(0,i.Lk)("p",null,(0,c.v_)(e.plans),1)])):(0,i.Q3)("",!0)])]})),_:2},1024)]})),_:2},1032,["timestamp","type"])})),128))]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,i.bF)(r,{gutter:20,class:"bottom-container"},{default:(0,i.k6)((function(){return[(0,i.bF)(u,{span:12},{default:(0,i.k6)((function(){return[(0,i.bF)(l,{class:"timeline-card"},{header:(0,i.k6)((function(){return t[24]||(t[24]=[(0,i.Lk)("div",{class:"card-header"},[(0,i.Lk)("span",null,"近期活动")],-1)])})),default:(0,i.k6)((function(){return[(0,i.bF)(b,null,{default:(0,i.k6)((function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(fe.value,(function(e){return(0,i.uX)(),(0,i.Wv)(g,{key:e.id,timestamp:e.time,type:e.type},{default:(0,i.k6)((function(){return[(0,i.eW)((0,c.v_)(e.content),1)]})),_:2},1032,["timestamp","type"])})),128))]})),_:1})]})),_:1})]})),_:1}),(0,i.bF)(u,{span:12},{default:(0,i.k6)((function(){return[(0,i.bF)(l,{class:"heatmap-card"},{header:(0,i.k6)((function(){return[(0,i.Lk)("div",ce,[t[25]||(t[25]=(0,i.Lk)("span",null,"活跃度统计",-1)),(0,i.bF)(h,{content:"统计近一年的活动数据"},{default:(0,i.k6)((function(){return[(0,i.bF)(n,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.InfoFilled))]})),_:1})]})),_:1})])]})),default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(z.Ay),{class:"heatmap-chart",option:Y.value,autoresize:""},null,8,["option"])]})),_:1})]})),_:1})]})),_:1}),(0,i.bF)(l,{class:"recent-todos"},{header:(0,i.k6)((function(){return[(0,i.Lk)("div",se,[t[27]||(t[27]=(0,i.Lk)("span",null,"最近待办",-1)),(0,i.bF)(f,{type:"primary",link:"",onClick:pe},{default:(0,i.k6)((function(){return[t[26]||(t[26]=(0,i.eW)(" 查看全部 ")),(0,i.bF)(n,{class:"el-icon--right"},{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.ArrowRight))]})),_:1})]})),_:1})])]})),default:(0,i.k6)((function(){return[(0,i.bF)(_,{data:ve.value,style:{width:"100%"}},{default:(0,i.k6)((function(){return[(0,i.bF)(y,{prop:"text",label:"任务内容"}),(0,i.bF)(y,{prop:"priority",label:"优先级",width:"100"},{default:(0,i.k6)((function(e){var t=e.row;return[(0,i.bF)(k,{type:me(t.priority)},{default:(0,i.k6)((function(){return[(0,i.eW)((0,c.v_)(t.priority),1)]})),_:2},1032,["type"])]})),_:1}),(0,i.bF)(y,{prop:"dueDate",label:"截止日期",width:"180"},{default:(0,i.k6)((function(e){var t=e.row;return[(0,i.Lk)("span",{class:(0,c.C4)({"text-danger":ge(t.dueDate)})},(0,c.v_)(ke(t.dueDate)),3)]})),_:1})]})),_:1},8,["data"])]})),_:1}),(0,i.bF)(R,{modelValue:ye.value,"onUpdate:modelValue":t[10]||(t[10]=function(e){return ye.value=e}),title:Ce.value,width:"60%"},{footer:(0,i.k6)((function(){return[(0,i.Lk)("span",de,[(0,i.bF)(f,{onClick:t[9]||(t[9]=function(e){return ye.value=!1})},{default:(0,i.k6)((function(){return t[28]||(t[28]=[(0,i.eW)("取消")])})),_:1}),(0,i.bF)(f,{type:"primary",onClick:Ae},{default:(0,i.k6)((function(){return t[29]||(t[29]=[(0,i.eW)(" 确认 ")])})),_:1})])]})),default:(0,i.k6)((function(){return[(0,i.bF)(A,{model:Fe.value,ref_key:"reviewFormRef",ref:_e,rules:we},{default:(0,i.k6)((function(){return[(0,i.bF)(C,{label:"复盘类型",prop:"type"},{default:(0,i.k6)((function(){return[(0,i.bF)(L,{modelValue:Fe.value.type,"onUpdate:modelValue":t[4]||(t[4]=function(e){return Fe.value.type=e})},{default:(0,i.k6)((function(){return[(0,i.bF)(F,{label:"日复盘",value:"daily"}),(0,i.bF)(F,{label:"周复盘",value:"weekly"}),(0,i.bF)(F,{label:"月复盘",value:"monthly"})]})),_:1},8,["modelValue"])]})),_:1}),(0,i.bF)(C,{label:"标题",prop:"title"},{default:(0,i.k6)((function(){return[(0,i.bF)(x,{modelValue:Fe.value.title,"onUpdate:modelValue":t[5]||(t[5]=function(e){return Fe.value.title=e}),placeholder:"请输入复盘标题"},null,8,["modelValue"])]})),_:1}),(0,i.bF)(C,{label:"主要成就",prop:"achievements"},{default:(0,i.k6)((function(){return[(0,i.bF)(x,{modelValue:Fe.value.achievements,"onUpdate:modelValue":t[6]||(t[6]=function(e){return Fe.value.achievements=e}),type:"textarea",rows:3,placeholder:"记录本阶段的主要成就和进展"},null,8,["modelValue"])]})),_:1}),(0,i.bF)(C,{label:"经验教训",prop:"lessons"},{default:(0,i.k6)((function(){return[(0,i.bF)(x,{modelValue:Fe.value.lessons,"onUpdate:modelValue":t[7]||(t[7]=function(e){return Fe.value.lessons=e}),type:"textarea",rows:3,placeholder:"总结经验教训和改进点"},null,8,["modelValue"])]})),_:1}),(0,i.bF)(C,{label:"下步计划",prop:"plans"},{default:(0,i.k6)((function(){return[(0,i.bF)(x,{modelValue:Fe.value.plans,"onUpdate:modelValue":t[8]||(t[8]=function(e){return Fe.value.plans=e}),type:"textarea",rows:3,placeholder:"制定下一阶段的计划和目标"},null,8,["modelValue"])]})),_:1})]})),_:1},8,["model"])]})),_:1},8,["modelValue","title"])])}}};const ve=(0,h.A)(fe,[["__scopeId","data-v-890ca0b6"]]);var pe=ve,me={class:"background"},ke={class:"content"};function ge(e,t,n,l,a,u){var r=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",me,[(0,i.Lk)("div",ke,[t[1]||(t[1]=(0,i.Lk)("h1",null,"Welcome to Efficient Office",-1)),t[2]||(t[2]=(0,i.Lk)("p",null,"A platform to boost your office productivity",-1)),(0,i.bF)(r,{to:"/get-start",class:"btn btn-primary"},{default:(0,i.k6)((function(){return t[0]||(t[0]=[(0,i.eW)("Get Started")])})),_:1})])])}var be={name:"HelloWorld"};const he=(0,h.A)(be,[["render",ge]]);var ye=he,_e={class:"card-menu"},Fe={class:"container"},we={class:"row"},Le={class:"card"},Ce={class:"card-header"},xe={class:"card-title"},Ae={class:"card-body"},Re={class:"card-text"};function Ve(e,t,n,l,a,u){var r=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",_e,[(0,i.Lk)("div",Fe,[(0,i.Lk)("div",we,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(a.routes,(function(e){return(0,i.uX)(),(0,i.CE)("div",{class:"col-md-4",key:e.name},[(0,i.Lk)("div",Le,[(0,i.Lk)("div",Ce,[(0,i.Lk)("h5",xe,(0,c.v_)(e.name),1)]),(0,i.Lk)("div",Ae,[(0,i.Lk)("p",Re,(0,c.v_)(e.description),1),(0,i.bF)(r,{to:e.path,class:"btn btn-primary"},{default:(0,i.k6)((function(){return[(0,i.eW)("Go to "+(0,c.v_)(e.name),1)]})),_:2},1032,["to"])])])])})),128))])])])}var De={data:function(){var e=Ji.filter((function(e){return"GetStart"!==e.name}));return{routes:e}}};const We=(0,h.A)(De,[["render",Ve],["__scopeId","data-v-510474fc"]]);var Se=We,Ee={class:"password-generator"};function Ke(e,t,n,l,a,u){var r=(0,i.g2)("a-input-number"),o=(0,i.g2)("a-form-item"),c=(0,i.g2)("a-checkbox"),s=(0,i.g2)("a-checkbox-group"),d=(0,i.g2)("a-button"),f=(0,i.g2)("a-input"),v=(0,i.g2)("a-input-group"),p=(0,i.g2)("a-form"),m=(0,i.g2)("a-card");return(0,i.uX)(),(0,i.CE)("div",Ee,[(0,i.bF)(m,{title:"密码生成器",bordered:!1},{default:(0,i.k6)((function(){return[(0,i.bF)(p,{layout:"vertical"},{default:(0,i.k6)((function(){return[(0,i.bF)(o,{label:"密码长度"},{default:(0,i.k6)((function(){return[(0,i.bF)(r,{value:a.passwordLength,"onUpdate:value":t[0]||(t[0]=function(e){return a.passwordLength=e}),min:6,max:128,style:{width:"100%"}},null,8,["value"])]})),_:1}),(0,i.bF)(o,null,{default:(0,i.k6)((function(){return[(0,i.bF)(s,{value:a.selectedOptions,"onUpdate:value":t[1]||(t[1]=function(e){return a.selectedOptions=e})},{default:(0,i.k6)((function(){return[(0,i.bF)(c,{value:"uppercase"},{default:(0,i.k6)((function(){return t[3]||(t[3]=[(0,i.eW)("包含大写字母")])})),_:1}),(0,i.bF)(c,{value:"lowercase"},{default:(0,i.k6)((function(){return t[4]||(t[4]=[(0,i.eW)("包含小写字母")])})),_:1}),(0,i.bF)(c,{value:"numbers"},{default:(0,i.k6)((function(){return t[5]||(t[5]=[(0,i.eW)("包含数字")])})),_:1}),(0,i.bF)(c,{value:"symbols"},{default:(0,i.k6)((function(){return t[6]||(t[6]=[(0,i.eW)("包含特殊符号")])})),_:1})]})),_:1},8,["value"])]})),_:1}),(0,i.bF)(o,null,{default:(0,i.k6)((function(){return[(0,i.bF)(d,{type:"primary",block:"",onClick:u.generatePassword},{default:(0,i.k6)((function(){return t[7]||(t[7]=[(0,i.eW)(" 生成密码 ")])})),_:1},8,["onClick"])]})),_:1}),(0,i.bF)(o,null,{default:(0,i.k6)((function(){return[(0,i.bF)(v,{compact:""},{default:(0,i.k6)((function(){return[(0,i.bF)(f,{value:a.password,"onUpdate:value":t[2]||(t[2]=function(e){return a.password=e}),readonly:"",style:{width:"calc(100% - 80px)"}},null,8,["value"]),(0,i.bF)(d,{onClick:u.copyPassword,style:{width:"80px"}},{default:(0,i.k6)((function(){return t[8]||(t[8]=[(0,i.eW)(" 复制 ")])})),_:1},8,["onClick"])]})),_:1})]})),_:1})]})),_:1})]})),_:1})])}var Xe={data:function(){return{passwordLength:12,password:"",selectedOptions:["uppercase","lowercase","numbers","symbols"]}},methods:{generatePassword:function(){var e={uppercase:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",lowercase:"abcdefghijklmnopqrstuvwxyz",numbers:"0123456789",symbols:"!@#$%^&*()_-+={}[]|;:,.<>?"},t="";if(this.selectedOptions.forEach((function(n){"uppercase"===n?t+=e.uppercase:"lowercase"===n?t+=e.lowercase:"numbers"===n?t+=e.numbers:"symbols"===n&&(t+=e.symbols)})),""!==t){for(var n="",l=0;l<this.passwordLength;l++){var a=Math.floor(Math.random()*t.length);n+=t[a]}this.password=n}else alert("请至少选择一种字符类型")},copyPassword:function(){this.password&&navigator.clipboard.writeText(this.password).then((function(){alert("密码已复制到剪贴板")})).catch((function(){alert("复制失败，请手动复制")}))}}};const Ie=(0,h.A)(Xe,[["render",Ke],["__scopeId","data-v-982ba7ba"]]);var Me=Ie,Te={class:"report-header-left"},Ue={class:"report-header-right"},Ne={class:"report-date-info"};function Oe(e,t,n,l,a,u){var r=(0,i.g2)("el-radio-button"),o=(0,i.g2)("el-radio-group"),s=(0,i.g2)("el-date-picker"),d=(0,i.g2)("el-header"),f=(0,i.g2)("el-input"),v=(0,i.g2)("el-form-item"),p=(0,i.g2)("el-option"),m=(0,i.g2)("el-select"),k=(0,i.g2)("el-button"),g=(0,i.g2)("el-form"),b=(0,i.g2)("el-card"),h=(0,i.g2)("el-table-column"),y=(0,i.g2)("el-tag"),_=(0,i.g2)("el-table"),F=(0,i.g2)("el-main"),w=(0,i.g2)("el-container");return(0,i.uX)(),(0,i.Wv)(w,{class:"report-container"},{default:(0,i.k6)((function(){return[(0,i.bF)(d,{class:"report-header"},{default:(0,i.k6)((function(){return[(0,i.Lk)("div",Te,[(0,i.bF)(o,{modelValue:l.reportType,"onUpdate:modelValue":t[0]||(t[0]=function(e){return l.reportType=e}),onChange:l.handleReportTypeChange},{default:(0,i.k6)((function(){return[(0,i.bF)(r,{label:"daily"},{default:(0,i.k6)((function(){return t[7]||(t[7]=[(0,i.eW)("日报")])})),_:1}),(0,i.bF)(r,{label:"weekly"},{default:(0,i.k6)((function(){return t[8]||(t[8]=[(0,i.eW)("周报")])})),_:1}),(0,i.bF)(r,{label:"monthly"},{default:(0,i.k6)((function(){return t[9]||(t[9]=[(0,i.eW)("月报")])})),_:1}),(0,i.bF)(r,{label:"quarterly"},{default:(0,i.k6)((function(){return t[10]||(t[10]=[(0,i.eW)("季报")])})),_:1}),(0,i.bF)(r,{label:"annual"},{default:(0,i.k6)((function(){return t[11]||(t[11]=[(0,i.eW)("年报")])})),_:1})]})),_:1},8,["modelValue","onChange"])]),(0,i.Lk)("div",Ue,[(0,i.bF)(s,{modelValue:l.reportDate,"onUpdate:modelValue":t[1]||(t[1]=function(e){return l.reportDate=e}),type:"date",placeholder:l.datePlaceholder,"picker-options":l.datePickerOptions,onChange:l.handleDateChange,class:"report-date-picker"},null,8,["modelValue","placeholder","picker-options","onChange"]),(0,i.Lk)("div",Ne,(0,c.v_)(l.formattedDateInfo),1)])]})),_:1}),(0,i.bF)(F,{class:"report-main"},{default:(0,i.k6)((function(){return[(0,i.bF)(b,{class:"report-card"},{default:(0,i.k6)((function(){return[(0,i.bF)(g,{ref:"form",model:l.form,"label-width":"120px"},{default:(0,i.k6)((function(){return[(0,i.bF)(v,{label:"任务描述"},{default:(0,i.k6)((function(){return[(0,i.bF)(f,{type:"textarea",modelValue:l.form.description,"onUpdate:modelValue":t[2]||(t[2]=function(e){return l.form.description=e}),placeholder:"请输入任务描述"},null,8,["modelValue"])]})),_:1}),(0,i.bF)(v,{label:"完成状态"},{default:(0,i.k6)((function(){return[(0,i.bF)(m,{modelValue:l.form.status,"onUpdate:modelValue":t[3]||(t[3]=function(e){return l.form.status=e}),placeholder:"请选择完成状态"},{default:(0,i.k6)((function(){return[(0,i.bF)(p,{label:"完成",value:"completed"}),(0,i.bF)(p,{label:"进行中",value:"inprogress"}),(0,i.bF)(p,{label:"未开始",value:"pending"})]})),_:1},8,["modelValue"])]})),_:1}),(0,i.bF)(v,null,{default:(0,i.k6)((function(){return[(0,i.bF)(k,{type:"primary",onClick:l.onSubmit},{default:(0,i.k6)((function(){return t[12]||(t[12]=[(0,i.eW)("提交")])})),_:1},8,["onClick"])]})),_:1})]})),_:1},8,["model"])]})),_:1}),(0,i.bF)(b,{class:"report-input-card"},{default:(0,i.k6)((function(){return[(0,i.bF)(g,{inline:!0,model:l.reportInput,class:"report-input-form"},{default:(0,i.k6)((function(){return[(0,i.bF)(v,{label:"完成"},{default:(0,i.k6)((function(){return[(0,i.bF)(f,{modelValue:l.reportInput.done,"onUpdate:modelValue":t[4]||(t[4]=function(e){return l.reportInput.done=e}),placeholder:"完成"},null,8,["modelValue"])]})),_:1}),(0,i.bF)(v,{label:"进行中"},{default:(0,i.k6)((function(){return[(0,i.bF)(f,{modelValue:l.reportInput.doing,"onUpdate:modelValue":t[5]||(t[5]=function(e){return l.reportInput.doing=e}),placeholder:"进行中"},null,8,["modelValue"])]})),_:1}),(0,i.bF)(v,{label:"待办"},{default:(0,i.k6)((function(){return[(0,i.bF)(f,{modelValue:l.reportInput.todo,"onUpdate:modelValue":t[6]||(t[6]=function(e){return l.reportInput.todo=e}),placeholder:"待办"},null,8,["modelValue"])]})),_:1})]})),_:1},8,["model"])]})),_:1}),(0,i.bF)(_,{data:l.reports,style:{width:"100%"},class:"report-table"},{default:(0,i.k6)((function(){return[(0,i.bF)(h,{prop:"date",label:"日期",width:"180"}),(0,i.bF)(h,{prop:"description",label:"任务描述"}),(0,i.bF)(h,{prop:"status",label:"完成状态",width:"120"},{default:(0,i.k6)((function(e){var t=e.row;return[(0,i.bF)(y,{type:"completed"===t.status?"success":"inprogress"===t.status?"warning":"info",size:"small"},{default:(0,i.k6)((function(){return[(0,i.eW)((0,c.v_)("completed"===t.status?"完成":"inprogress"===t.status?"进行中":"未开始"),1)]})),_:2},1032,["type"])]})),_:1})]})),_:1},8,["data"])]})),_:1})]})),_:1})}var ze=n(1576),Pe=n.n(ze),Ye=(n(44514),n(7515)),qe=n.n(Ye),Be=n(51579),Je=n.n(Be);Pe().extend(qe()),Pe().extend(Je()),Pe().locale("zh-cn");var Qe={setup:function(){var e=(0,s.KR)("daily"),t=(0,s.KR)(new Date),n=(0,s.KR)({description:"",status:""}),l=(0,s.KR)([]),a=(0,s.KR)({done:"",doing:"",todo:""}),u=(0,i.EW)((function(){return"daily"===e.value?"选择日期":"weekly"===e.value?"选择周":"monthly"===e.value?"选择月份":"quarterly"===e.value?"选择季度":"选择年份"})),r=(0,i.EW)((function(){return"weekly"===e.value?{firstDayOfWeek:1,format:"yyyy 第W周",pickerType:"week"}:"monthly"===e.value?{format:"yyyy-MM",pickerType:"month"}:"quarterly"===e.value?{format:"yyyy 第Q季度",pickerType:"quarter"}:"annual"===e.value?{format:"yyyy",pickerType:"year"}:{}})),o=(0,i.EW)((function(){var e=Pe()(t.value),n=e.week(),l=e.format("MM"),a=e.quarter(),u=e.format("YYYY"),r=e.format("YYYY-MM-DD");return"".concat(r,"，第").concat(l,"月，第").concat(n,"周，第").concat(a,"季度，").concat(u,"年")})),c=function(){t.value=new Date},d=function(e){e&&(n.value.date=e)},f=function(){l.value.push((0,D.A)((0,D.A)({},n.value),{},{date:t.value})),n.value={description:"",status:""}};return{reportType:e,reportDate:t,form:n,reports:l,reportInput:a,datePlaceholder:u,datePickerOptions:r,formattedDateInfo:o,handleReportTypeChange:c,handleDateChange:d,onSubmit:f}}};const je=(0,h.A)(Qe,[["render",Oe],["__scopeId","data-v-8e8365a2"]]);var Ge=je,$e=n(59258),He=(n(72577),n(17694)),Ze={class:"pomodoro-container"},et={class:"timer-section"},tt={class:"clock-display"},nt={class:"time"},lt={class:"emoji"},at={class:"controls"},ut=["disabled"],rt={key:0},ot={key:1},it={class:"progress-bar"},ct={class:"settings"},st={class:"task-section"},dt={class:"search-box"},ft={class:"task-list-container"},vt={key:0,class:"no-tasks-prompt"},pt={key:1,class:"task-list"},mt=["onClick","onMouseenter"],kt={class:"task-content"},gt={class:"task-name"},bt={key:0,class:"pomodoro-count"},ht={key:0,class:"task-hover-card"},yt={class:"task-title"},_t={class:"task-info"},Ft={class:"info-item"},wt={class:"info-item"},Lt={key:0,class:"info-item"},Ct={class:"info-item"},xt={class:"completed-section"},At={class:"flex items-center gap-2 ml-auto"},Rt={class:"completed-count"},Vt={class:"task-toolbar"},Dt={class:"search-box"},Wt={class:"filter-sort-controls"},St={class:"completed-list-container"},Et={key:0,class:"no-tasks-prompt"},Kt={key:1,class:"task-list"},Xt=["onMouseenter"],It={class:"task-content"},Mt={class:"task-name completed"},Tt={class:"pomodoro-count"},Ut={key:0,class:"task-hover-card"},Nt={class:"task-title"},Ot={class:"task-info"},zt={class:"info-item"},Pt={class:"info-item"},Yt={key:0,class:"info-item"},qt={class:"info-item"},Bt={class:"info-item"},Jt={key:0,class:"confetti-container"},Qt={class:"completion-content"},jt={class:"completion-message"},Gt={class:"task-name"},$t={class:"dialog-footer"},Ht={class:"dialog-footer"},Zt={__name:"PomodoroTimer",setup:function(e){var t=(0,u.lq)(),l=(0,s.KR)([]),d=(0,s.KR)(null),f=(0,s.KR)(0),p=(0,s.KR)(0),m=(0,s.KR)(!1),k=(0,s.KR)("🍅"),g=(0,s.KR)(null),b=(0,s.KR)(25),h=(0,s.KR)(!1),y=(0,s.KR)(null),_=(0,s.KR)(""),F=(0,s.KR)(!1),w=(0,s.KR)(!1),L=(0,u.rd)(),C=(0,s.KR)(null),x=(0,s.KR)(null),A=((0,s.KR)(null),(0,s.KR)(!1)),R=(0,s.KR)("completedTime-desc"),V=(0,s.KR)(""),W=["🍅","📚","☕","🧘","💻"],S=(0,i.EW)((function(){var e=String(Math.floor(f.value/60)).padStart(2,"0"),t=String(f.value%60).padStart(2,"0");return"".concat(e,":").concat(t)})),E=function(){var e=localStorage.getItem("todos");e&&(l.value=JSON.parse(e))},K=function(){localStorage.setItem("todos",JSON.stringify(l.value))},X=(0,i.EW)((function(){return l.value.filter((function(e){return!e.completed}))})),I=(0,i.EW)((function(){return l.value.filter((function(e){return e.completed}))})),M=(0,i.EW)((function(){return X.value.filter((function(e){return e.text.toLowerCase().includes(_.value.toLowerCase())}))})),T=(0,s.KR)(""),U=(0,i.EW)((function(){var e=I.value;return T.value&&(e=e.filter((function(e){return e.text.toLowerCase().includes(T.value.toLowerCase())}))),V.value&&(e=e.filter((function(e){return e.priority===V.value}))),e=(0,$e.A)(e).sort((function(e,t){switch(R.value){case"completedTime-asc":return new Date(e.completedAt)-new Date(t.completedAt);case"completedTime-desc":return new Date(t.completedAt)-new Date(e.completedAt);case"pomodoros-asc":return(e.pomodoros||0)-(t.pomodoros||0);case"pomodoros-desc":return(t.pomodoros||0)-(e.pomodoros||0);default:return 0}})),e})),N=function(e){d.value&&(cancelAnimationFrame(d.value),d.value=null),m.value=!1,f.value=0,p.value=0,k.value="🍅",g.value=e},O=function(){g.value?m.value?(cancelAnimationFrame(d.value),d.value=null,m.value=!1,k.value="⏸️"):z():He.Ay.warning("请先选择一个任务")},z=function(){d.value&&(cancelAnimationFrame(d.value),d.value=null),m.value=!0,k.value="🍅";var e=60*b.value;C.value=performance.now(),x.value=C.value;var t=function(n){if(m.value){var l=Math.floor((n-C.value)/1e3);f.value=l,p.value=l/e*100,Math.floor(l/300)>Math.floor((l-1)/300)&&(k.value=W[Math.floor(Math.random()*W.length)]),l>=e?oe():(x.value=n,d.value=requestAnimationFrame(t))}};d.value=requestAnimationFrame(t)},P=function(){if(m.value){var e=confirm("计时器正在运行，确定要重置吗？");if(!e)return}cancelAnimationFrame(d.value),d.value=null,m.value=!1,f.value=0,p.value=0,k.value="🍅",C.value=null,x.value=null},Y=function(){F.value=!1,Q()},q=function(){F.value=!1,w.value=!0},B=function(){w.value=!1,j(),P(),z()},J=function(){w.value=!1},Q=function(){if(g.value){var e=l.value.find((function(e){return e.id===g.value.id}));e&&(e.completed=!0,j(),K(),G(),setTimeout((function(){g.value=null,P()}),5e3))}},j=function(){if(g.value){var e=l.value.find((function(e){return e.id===g.value.id}));e&&(e.pomodoros=(e.pomodoros||0)+1,K(),He.Ay.success("已累计完成 ".concat(e.pomodoros," 个番茄钟")))}},G=function(){var e=(0,o.A)((0,r.A)().mark((function e(){var t,l,a,u,o,c;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=function(e,t){return Math.random()*(t-e)+e},h.value=!0,e.next=4,(0,i.dY)();case 4:t=n(38446).A,l=3e3,a=Date.now()+l,u={startVelocity:30,spread:360,ticks:60,zIndex:9999},c=setInterval((function(){var e=a-Date.now();if(e<=0)return clearInterval(c),void(h.value=!1);var n=e/l*50;t((0,D.A)((0,D.A)({},u),{},{particleCount:n,origin:{x:o(.1,.3),y:Math.random()-.2},colors:["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff"]})),t((0,D.A)((0,D.A)({},u),{},{particleCount:n,origin:{x:o(.7,.9),y:Math.random()-.2},colors:["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff"]}))}),250);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){L.push("/todos"),(0,i.dY)((function(){var e=document.querySelector(".add_task_input input");e&&e.focus()}))},H=function(){var e=t.query.taskId;if(e){var n=l.value.find((function(t){return t.id===Number(e)}));if(n){g.value=n;var a=l.value.findIndex((function(e){return e.id===n.id}));a>0&&(l.value.splice(a,1),l.value.unshift(n),localStorage.setItem("todos",JSON.stringify(l.value))),He.Ay.success('已选择任务"'.concat(n.text,'"，准备开始番茄钟'))}}};(0,i.wB)((function(){return t.query.taskId}),(function(e){e&&H()}));var Z=(0,s.KR)(null),ee=(0,s.KR)({x:0,y:0}),te=function(e){Z.value=e,(0,i.dY)((function(){var e=document.querySelector(".task-hover-card");if(e){var t=e.getBoundingClientRect(),n=ee.value.x-t.width/2,l=ee.value.y-t.height-20,a=window.innerWidth-t.width-20,u=20,r=20,o=20;e.style.left="".concat(Math.min(Math.max(n,u),a),"px"),e.style.top="".concat(Math.min(Math.max(l,o),r),"px")}}))},ne=function(e){ee.value={x:e.clientX,y:e.clientY}},le=function(){Z.value=null},ae=function(e){var t={"高":"danger","中":"warning","低":"success"};return t[e]||"info"},ue=function(e){if(!e)return"";var t=new Date(e);return t.toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})},re=function(e){return!!e&&new Date(e)<new Date},oe=function(){cancelAnimationFrame(d.value),d.value=null,m.value=!1,k.value="🎉",F.value=!0},ie=function(){if(document.hidden)m.value&&(cancelAnimationFrame(d.value),x.value=performance.now());else if(m.value){var e=performance.now(),t=Math.floor((e-x.value)/1e3);C.value=C.value+1e3*t;var n=function(e){if(m.value){var t=Math.floor((e-C.value)/1e3),l=60*b.value;f.value=t,p.value=t/l*100,Math.floor(t/300)>Math.floor((t-1)/300)&&(k.value=W[Math.floor(Math.random()*W.length)]),t>=l?oe():(x.value=e,d.value=requestAnimationFrame(n))}};d.value=requestAnimationFrame(n)}},ce=function(){A.value=!A.value};return(0,i.sV)((function(){E(),H(),window.addEventListener("mousemove",ne),document.addEventListener("visibilitychange",ie)})),(0,i.hi)((function(){d.value&&(cancelAnimationFrame(d.value),d.value=null),window.removeEventListener("mousemove",ne),document.removeEventListener("visibilitychange",ie)})),function(e,t){var n=(0,i.g2)("el-tag"),l=(0,i.g2)("el-icon"),u=(0,i.g2)("el-input"),r=(0,i.g2)("el-option"),o=(0,i.g2)("el-select"),d=(0,i.g2)("el-button"),f=(0,i.g2)("el-dialog");return(0,i.uX)(),(0,i.CE)("div",Ze,[(0,i.Lk)("div",et,[(0,i.Lk)("div",tt,[(0,i.Lk)("span",nt,(0,c.v_)(S.value),1),(0,i.Lk)("span",lt,(0,c.v_)(k.value),1)]),(0,i.Lk)("div",at,[(0,i.Lk)("button",{class:"start-btn",onClick:O,disabled:!g.value},[m.value?((0,i.uX)(),(0,i.CE)("span",ot,"⏸️")):((0,i.uX)(),(0,i.CE)("span",rt,"▶️"))],8,ut),(0,i.Lk)("button",{class:"reset-btn",onClick:P},"🔄")]),(0,i.Lk)("div",it,[(0,i.Lk)("div",{class:"progress",style:(0,c.Tr)({width:"".concat(p.value,"%")})},null,4)]),(0,i.Lk)("div",ct,[t[7]||(t[7]=(0,i.Lk)("label",{for:"pomodoro-time"},"番茄钟时长 (分钟):",-1)),(0,i.bo)((0,i.Lk)("input",{type:"number",id:"pomodoro-time","onUpdate:modelValue":t[0]||(t[0]=function(e){return b.value=e}),min:"1",max:"60"},null,512),[[a.Jo,b.value,void 0,{number:!0}]])])]),(0,i.Lk)("div",st,[t[13]||(t[13]=(0,i.Lk)("div",{class:"section-header"},[(0,i.Lk)("div",{class:"w-1 h-6 bg-blue-500 rounded-full"}),(0,i.Lk)("h2",null,"待办任务")],-1)),(0,i.Lk)("div",dt,[(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return _.value=e}),placeholder:"搜索待办任务...",class:"search-input"},null,512),[[a.Jo,_.value]])]),(0,i.Lk)("div",ft,[0===M.value.length?((0,i.uX)(),(0,i.CE)("div",vt,[t[8]||(t[8]=(0,i.eW)(" 暂无任务，")),(0,i.Lk)("span",{class:"add-task-link",onClick:$},"去添加任务")])):((0,i.uX)(),(0,i.CE)("ul",pt,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(M.value,(function(e){var l;return(0,i.uX)(),(0,i.CE)("li",{key:e.id,class:(0,c.C4)(["task-item",{"selected-task":g.value&&g.value.id===e.id}]),onClick:function(t){return N(e)},onMouseenter:function(t){return te(e)},onMouseleave:le},[(0,i.Lk)("div",kt,[(0,i.Lk)("span",gt,(0,c.v_)(e.text),1),e.pomodoros?((0,i.uX)(),(0,i.CE)("span",bt,"🍅 x "+(0,c.v_)(e.pomodoros),1)):(0,i.Q3)("",!0)]),(null===(l=Z.value)||void 0===l?void 0:l.id)===e.id?((0,i.uX)(),(0,i.CE)("div",ht,[(0,i.Lk)("h4",yt,(0,c.v_)(e.text),1),(0,i.Lk)("div",_t,[(0,i.Lk)("div",Ft,[t[9]||(t[9]=(0,i.Lk)("span",{class:"info-label"},"优先级：",-1)),(0,i.bF)(n,{type:ae(e.priority),size:"small"},{default:(0,i.k6)((function(){return[(0,i.eW)((0,c.v_)(e.priority),1)]})),_:2},1032,["type"])]),(0,i.Lk)("div",wt,[t[10]||(t[10]=(0,i.Lk)("span",{class:"info-label"},"创建时间：",-1)),(0,i.Lk)("span",null,(0,c.v_)(ue(e.createdAt)),1)]),e.dueDate?((0,i.uX)(),(0,i.CE)("div",Lt,[t[11]||(t[11]=(0,i.Lk)("span",{class:"info-label"},"截止时间：",-1)),(0,i.Lk)("span",{class:(0,c.C4)({"text-red-500":re(e.dueDate)})},(0,c.v_)(ue(e.dueDate)),3)])):(0,i.Q3)("",!0),(0,i.Lk)("div",Ct,[t[12]||(t[12]=(0,i.Lk)("span",{class:"info-label"},"番茄数：",-1)),(0,i.Lk)("span",null,(0,c.v_)(e.pomodoros||0)+" 个",1)])])])):(0,i.Q3)("",!0)],42,mt)})),128))]))])]),(0,i.Lk)("div",xt,[(0,i.Lk)("div",{class:"section-header",onClick:ce},[t[14]||(t[14]=(0,i.Lk)("div",{class:"w-1 h-6 bg-green-500 rounded-full"},null,-1)),t[15]||(t[15]=(0,i.Lk)("h2",null,"已完成任务",-1)),(0,i.Lk)("div",At,[(0,i.Lk)("span",Rt,(0,c.v_)(U.value.length)+"个",1),(0,i.bF)(l,{class:(0,c.C4)(["transform transition-transform",{"rotate-180":!A.value}])},{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.ArrowDown))]})),_:1},8,["class"])])]),(0,i.bo)((0,i.Lk)("div",Vt,[(0,i.Lk)("div",Dt,[(0,i.bF)(u,{modelValue:T.value,"onUpdate:modelValue":t[2]||(t[2]=function(e){return T.value=e}),placeholder:"搜索已完成任务...","prefix-icon":"Search",clearable:""},null,8,["modelValue"])]),(0,i.Lk)("div",Wt,[(0,i.bF)(o,{modelValue:R.value,"onUpdate:modelValue":t[3]||(t[3]=function(e){return R.value=e}),placeholder:"排序方式",size:"small"},{default:(0,i.k6)((function(){return[(0,i.bF)(r,{label:"完成时间 ↑",value:"completedTime-asc"}),(0,i.bF)(r,{label:"完成时间 ↓",value:"completedTime-desc"}),(0,i.bF)(r,{label:"番茄数量 ↑",value:"pomodoros-asc"}),(0,i.bF)(r,{label:"番茄数量 ↓",value:"pomodoros-desc"})]})),_:1},8,["modelValue"]),(0,i.bF)(o,{modelValue:V.value,"onUpdate:modelValue":t[4]||(t[4]=function(e){return V.value=e}),placeholder:"优先级",size:"small",clearable:""},{default:(0,i.k6)((function(){return[(0,i.bF)(r,{label:"高优先级",value:"高"}),(0,i.bF)(r,{label:"中优先级",value:"中"}),(0,i.bF)(r,{label:"低优先级",value:"低"})]})),_:1},8,["modelValue"])])],512),[[a.aG,A.value]]),(0,i.bo)((0,i.Lk)("div",St,[0===U.value.length?((0,i.uX)(),(0,i.CE)("div",Et," 暂无完成的任务 ")):((0,i.uX)(),(0,i.CE)("ul",Kt,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(U.value,(function(e){var l;return(0,i.uX)(),(0,i.CE)("li",{key:e.id,class:"task-item",onMouseenter:function(t){return te(e)},onMouseleave:le},[(0,i.Lk)("div",It,[(0,i.Lk)("span",Mt,(0,c.v_)(e.text),1),(0,i.Lk)("span",Tt,"🍅 x "+(0,c.v_)(e.pomodoros||0),1)]),(null===(l=Z.value)||void 0===l?void 0:l.id)===e.id?((0,i.uX)(),(0,i.CE)("div",Ut,[(0,i.Lk)("h4",Nt,(0,c.v_)(e.text),1),(0,i.Lk)("div",Ot,[(0,i.Lk)("div",zt,[t[16]||(t[16]=(0,i.Lk)("span",{class:"info-label"},"优先级：",-1)),(0,i.bF)(n,{type:ae(e.priority),size:"small"},{default:(0,i.k6)((function(){return[(0,i.eW)((0,c.v_)(e.priority),1)]})),_:2},1032,["type"])]),(0,i.Lk)("div",Pt,[t[17]||(t[17]=(0,i.Lk)("span",{class:"info-label"},"创建时间：",-1)),(0,i.Lk)("span",null,(0,c.v_)(ue(e.createdAt)),1)]),e.dueDate?((0,i.uX)(),(0,i.CE)("div",Yt,[t[18]||(t[18]=(0,i.Lk)("span",{class:"info-label"},"截止时间：",-1)),(0,i.Lk)("span",null,(0,c.v_)(ue(e.dueDate)),1)])):(0,i.Q3)("",!0),(0,i.Lk)("div",qt,[t[19]||(t[19]=(0,i.Lk)("span",{class:"info-label"},"番茄数：",-1)),(0,i.Lk)("span",null,(0,c.v_)(e.pomodoros||0)+" 个",1)]),(0,i.Lk)("div",Bt,[t[20]||(t[20]=(0,i.Lk)("span",{class:"info-label"},"完成时间：",-1)),(0,i.Lk)("span",null,(0,c.v_)(ue(e.completedAt)),1)])])])):(0,i.Q3)("",!0)],40,Xt)})),128))]))],512),[[a.aG,A.value]])]),h.value?((0,i.uX)(),(0,i.CE)("div",Jt,[(0,i.Lk)("canvas",{ref_key:"confettiCanvas",ref:y,class:"confetti-canvas"},null,512)])):(0,i.Q3)("",!0),(0,i.bF)(f,{modelValue:F.value,"onUpdate:modelValue":t[5]||(t[5]=function(e){return F.value=e}),title:"番茄钟完成！",width:"360px","show-close":!1,"close-on-click-modal":!1,class:"pomodoro-dialog"},{footer:(0,i.k6)((function(){return[(0,i.Lk)("div",$t,[(0,i.bF)(d,{onClick:q},{default:(0,i.k6)((function(){return t[23]||(t[23]=[(0,i.eW)("继续专注")])})),_:1}),(0,i.bF)(d,{type:"primary",onClick:Y},{default:(0,i.k6)((function(){return t[24]||(t[24]=[(0,i.eW)("完成任务")])})),_:1})])]})),default:(0,i.k6)((function(){var e;return[(0,i.Lk)("div",Qt,[t[22]||(t[22]=(0,i.Lk)("div",{class:"completion-emoji"},"🎉",-1)),(0,i.Lk)("div",jt,[t[21]||(t[21]=(0,i.eW)(" 太棒了！你完成了一个番茄钟 ")),(0,i.Lk)("div",Gt,(0,c.v_)(null===(e=g.value)||void 0===e?void 0:e.text),1)])])]})),_:1},8,["modelValue"]),(0,i.bF)(f,{modelValue:w.value,"onUpdate:modelValue":t[6]||(t[6]=function(e){return w.value=e}),title:"继续专注",width:"360px","show-close":!1,"close-on-click-modal":!1,class:"pomodoro-dialog"},{footer:(0,i.k6)((function(){return[(0,i.Lk)("div",Ht,[(0,i.bF)(d,{onClick:J},{default:(0,i.k6)((function(){return t[25]||(t[25]=[(0,i.eW)("休息一下")])})),_:1}),(0,i.bF)(d,{type:"primary",onClick:B},{default:(0,i.k6)((function(){return t[26]||(t[26]=[(0,i.eW)("继续专注")])})),_:1})])]})),default:(0,i.k6)((function(){return[t[27]||(t[27]=(0,i.Lk)("div",{class:"continue-content"},[(0,i.Lk)("div",{class:"continue-emoji"},"💪"),(0,i.Lk)("div",{class:"continue-message"},"要开始下一个番茄钟吗？")],-1))]})),_:1},8,["modelValue"])])}}};const en=(0,h.A)(Zt,[["__scopeId","data-v-779c1200"]]);var tn=en,nn=n(57520),ln=n(64695),an=n(25046),un=n(52281),rn=n(76110),on=n(63536),cn=n(67388),sn=n(38446),dn={class:"h-full flex flex-col relative"},fn={class:"flex-none flex items-center justify-between px-6 py-2 border-b border-gray-100"},vn={class:"flex items-center gap-3"},pn={class:"text-sm text-gray-400"},mn={class:"flex items-center gap-2"},kn={class:"flex-none flex items-center gap-3 px-6 py-2 bg-white border-b border-gray-100"},gn={class:"flex-1 max-w-md"},bn={class:"flex items-center gap-2 px-3 py-1.5 rounded-lg cursor-pointer hover:bg-gray-50"},hn={class:"completed-count"},yn={class:"number"},_n={class:"flex-1 px-6 overflow-hidden"},Fn={class:"flex items-center gap-2"},wn={class:"flex items-center gap-2"},Ln={class:"flex items-center gap-2"},Cn={class:"flex items-center gap-2"},xn={key:1,class:"group flex items-center relative"},An=["onMouseenter"],Rn={class:"action-buttons flex items-center gap-2 transition-opacity"},Vn={key:0,class:"tooltip"},Dn={class:"tooltip-content"},Wn={class:"font-medium mb-2"},Sn={class:"text-sm text-gray-500"},En={class:"text-sm text-gray-500"},Kn={class:"text-sm text-gray-500"},Xn={key:0,class:"text-sm text-gray-500"},In={key:4,class:"flex items-center gap-2"},Mn=["onClick"],Tn={key:5,class:"pomodoro-count"},Un={key:6},Nn={class:"flex-none px-6 py-4"},On={class:"flex items-center gap-2"},zn={class:"flex items-center gap-2"},Pn={class:"flex items-center gap-2"},Yn={class:"flex items-center gap-2"},qn={class:"flex items-center gap-2"},Bn={class:"flex items-center gap-2"},Jn={key:0,class:"confetti-container"},Qn={class:"completion-content"},jn={class:"completion-message"},Gn={class:"task-name"},$n={class:"completion-time"},Hn={class:"dialog-footer"},Zn={__name:"TodoItems",setup:function(e){var t=(0,u.rd)(),n=(0,s.KR)([]),l=(0,s.KR)(""),d=(0,s.KR)(null),f=(0,s.KR)(""),v=(0,s.KR)(""),p=(0,s.KR)("all"),m=(0,s.KR)(null),k=(0,s.KR)(null),g=(0,s.KR)(!1),b=(0,s.KR)(null),h=(0,s.KR)(null),y=(0,s.KR)(null),_=((0,s.KR)(!1),(0,s.KR)(""),(0,s.KR)(!1)),F=(0,s.KR)(null),w=(0,s.KR)([]),L=(0,s.KR)({columnKey:"priority",order:"descend"}),C=(0,s.KR)(!1),x=(0,s.KR)(null),A=(0,s.KR)(!1),R=(0,s.KR)(null),V=(0,s.KR)(!1),W=[{title:"状态",key:"completed",width:60,sorter:function(e,t){return Number(e.completed)-Number(t.completed)}},{title:"任务内容",key:"text",ellipsis:!0,sorter:function(e,t){return e.text.localeCompare(t.text)}},{title:"优先级",key:"priority",width:100,sorter:function(e,t){var n={"高":3,"中":2,"低":1};return n[e.priority]-n[t.priority]}},{title:"分类",key:"category",width:120,sorter:function(e,t){return(e.category||"").localeCompare(t.category||"")}},{title:"创建时间",key:"createdAt",width:180,defaultSortOrder:"descend",sorter:function(e,t){return e.createdAt-t.createdAt}},{title:"截止日期",key:"dueDate",width:180,sorter:function(e,t){return e.dueDate||t.dueDate?e.dueDate?t.dueDate?e.dueDate-t.dueDate:-1:1:0}},{title:"番茄数",key:"pomodoros",width:100,sorter:function(e,t){return(e.pomodoros||0)-(t.pomodoros||0)}}],S=(0,i.EW)((function(){return(new Date).toLocaleDateString("zh-CN",{month:"long",day:"numeric",weekday:"long"})})),E=(0,i.EW)((function(){var e=n.value.filter((function(e){return!(!V.value&&e.completed)})),t={"高":3,"中":2,"低":1},l=L.value;return l&&l.order&&l.columnKey?"priority"===l.columnKey?e.sort((function(e,n){var l=t[n.priority]-t[e.priority];return 0!==l?l:n.createdAt-e.createdAt})):"createdAt"===l.columnKey?e.sort((function(e,t){return"descend"===l.order?t.createdAt-e.createdAt:e.createdAt-t.createdAt})):"text"===l.columnKey?e.sort((function(e,t){return"descend"===l.order?t.text.localeCompare(e.text):e.text.localeCompare(t.text)})):"dueDate"===l.columnKey?e.sort((function(e,t){return"descend"===l.order?(t.dueDate||0)-(e.dueDate||0):(e.dueDate||0)-(t.dueDate||0)})):"completed"===l.columnKey?e.sort((function(e,t){return"descend"===l.order?Number(t.completed)-Number(e.completed):Number(e.completed)-Number(t.completed)})):"pomodoros"===l.columnKey?e.sort((function(e,t){return"descend"===l.order?(t.pomodoros||0)-(e.pomodoros||0):(e.pomodoros||0)-(t.pomodoros||0)})):e.sort((function(e,n){var l=t[n.priority]-t[e.priority];return 0!==l?l:n.createdAt-e.createdAt})):e.sort((function(e,n){var l=t[n.priority]-t[e.priority];return 0!==l?l:n.createdAt-e.createdAt})),e})),K=(0,i.EW)((function(){return{active:n.value.filter((function(e){return!e.completed})).length,completed:n.value.filter((function(e){return e.completed})).length}})),X=function(e){var t={"高":"error","中":"warning","低":"success"};return t[e]||"default"},I=function(e){if(!e)return"";var t=new Date(e);return isNaN(t.getTime())?"":t.toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})},M=function(e){return!!e&&new Date(e)<new Date},T=function(){if(l.value.trim()){var e={id:Date.now(),text:l.value.trim(),completed:!1,category:y.value||"其他目标",priority:m.value||"中",dueDate:k.value,pomodoros:0,createdAt:Date.now()};n.value.push(e),Y(),l.value="",m.value=null,y.value=null,k.value=null,He.Ay.success("添加成功")}else He.Ay.warning("请输入任务内容")},U=function(e){var t=n.value.findIndex((function(t){return t.id===e.id}));-1!==t&&(w.value.push({todo:(0,D.A)({},e),index:t,timestamp:Date.now()}),n.value.splice(t,1),Y(),He.Ay.info({content:(0,i.h)("div",{class:"undo-message"},[(0,i.h)("span","任务已删除 "),(0,i.h)("a",{style:{color:"#1890ff",cursor:"pointer",marginLeft:"4px"},onClick:function(){return te(w.value[w.value.length-1])}},"Ctrl+Z撤销"),(0,i.h)("span",{style:{color:"#999",fontSize:"12px",marginLeft:"4px"}},"(3秒内有效)")]),duration:3,class:"custom-message"}))},N=function(e){d.value=e.id,f.value=e.text},O=function(){if(d.value){var e=n.value.find((function(e){return e.id===d.value}));e&&(e.text=f.value,Y()),d.value=null,f.value=""}},z=function(){q()},P=function(){q()},Y=function(){localStorage.setItem("todos",JSON.stringify(n.value))},q=function(){var e=localStorage.getItem("todos");e&&(n.value=JSON.parse(e))},B=function(e){m.value=e,He.Ay.success("已设置为".concat(e,"优先级"))},J=function(){g.value=!0},Q=function(e){b.value=e},j=function(){h.value&&(h.value.dueDate=b.value?b.value.valueOf():null,Y(),g.value=!1,h.value=null,b.value=null,He.Ay.success("已设置截止日期"))},G=function(){var e=(0,o.A)((0,r.A)().mark((function e(t,n){return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n?(R.value=t,A.value=!0,H()):(t.completed=n,Y());case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),$=function(){R.value&&(R.value.completed=!0,R.value.dueDate=Date.now(),Y(),A.value=!1,R.value=null)},H=function(){var e=(0,o.A)((0,r.A)().mark((function e(){var t,n,l,a,u;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=function(e,t){return Math.random()*(t-e)+e},C.value=!0,e.next=4,(0,i.dY)();case 4:t=3e3,n=Date.now()+t,l={startVelocity:30,spread:360,ticks:60,zIndex:9999},u=setInterval((function(){var e=n-Date.now();if(e<=0)return clearInterval(u),void(C.value=!1);var r=e/t*50;(0,sn.A)((0,D.A)((0,D.A)({},l),{},{particleCount:r,origin:{x:a(.1,.3),y:Math.random()-.2},colors:["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff"]})),(0,sn.A)((0,D.A)((0,D.A)({},l),{},{particleCount:r,origin:{x:a(.7,.9),y:Math.random()-.2},colors:["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff"]}))}),250);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(e){var t=Math.floor(e/1e3),n=Math.floor(t/60),l=Math.floor(n/60),a=Math.floor(l/24);return a>0?"".concat(a,"天").concat(l%24,"小时"):l>0?"".concat(l,"小时").concat(n%60,"分钟"):n>0?"".concat(n,"分钟"):"".concat(t,"秒")},ee=function(e){t.push({path:"/pomodoro-timer",query:{taskId:e.id}})},te=function(e){if(e)if(Date.now()-e.timestamp>3e3)He.Ay.error("撤销时间已过");else{n.value.splice(e.index,0,e.todo),Y();var t=w.value.findIndex((function(t){return t.timestamp===e.timestamp}));-1!==t&&w.value.splice(t,1),He.Ay.success("已撤销删除")}},ne=function(){var e=Date.now();w.value=w.value.filter((function(t){return e-t.timestamp<=3e3}))};(0,i.sV)((function(){window.addEventListener("keydown",le)})),(0,i.hi)((function(){window.removeEventListener("keydown",le)}));var le=function(e){if(e.ctrlKey&&"z"===e.key.toLowerCase()){e.preventDefault();var t=w.value[w.value.length-1];t&&te(t)}};(0,i.sV)((function(){var e=setInterval(ne,1e3);(0,i.hi)((function(){return clearInterval(e)}))}));var ae=function(e,t,n){L.value={columnKey:n.field,order:n.order}},ue=function(e,t){var l=(0,D.A)((0,D.A)({},e),{},{priority:t});n.value=n.value.map((function(t){return t.id===e.id?l:t})),Y()},re=function(e){h.value=e,b.value=e.dueDate?Pe()(e.dueDate):null,g.value=!0},oe=function(e){e.dueDate=null,Y(),He.Ay.success("已清除截止日期")},ie=function(e){y.value=e,He.Ay.success("已设置为".concat(e))},ce=function(e){var t={"工作目标":"blue","学习目标":"success","生活目标":"warning","其他目标":"default"};return t[e]||"default"},se=function(e){var t={"工作目标":"工作","学习目标":"学习","生活目标":"生活","其他目标":"其他"};return t[e]||"其他"},de=function(e,t){var l=(0,D.A)((0,D.A)({},e),{},{category:t});n.value=n.value.map((function(t){return t.id===e.id?l:t})),Y(),He.Ay.success("已更新分类为：".concat(t))},fe=function(e,t){F.value=e,_.value=!0;var n=t.target.getBoundingClientRect(),l=document.querySelector(".tooltip");l&&(l.style.top="".concat(n.top-10,"px"),l.style.left="".concat(n.left+n.width/2,"px"))},ve=function(){F.value=null,_.value=!1},pe=(0,i.EW)((function(){return n.value.filter((function(e){return e.completed}))})),me=function(){V.value=!V.value;var e=V.value?"👀":"🙈";He.Ay.success({content:(0,i.h)("div",[(0,i.h)("span",V.value?"显示已完成任务 ":"隐藏已完成任务 "),(0,i.h)("span",e)]),duration:2})},ke=function(e){return{"completed-row":e.completed,"completed-row-hidden":e.completed&&!V.value}};return q(),function(e,t){var n=(0,i.g2)("a-tag"),u=(0,i.g2)("a-input-search"),r=(0,i.g2)("a-select"),o=(0,i.g2)("a-checkbox"),k=(0,i.g2)("a-menu-item"),h=(0,i.g2)("a-menu"),w=(0,i.g2)("a-dropdown"),L=(0,i.g2)("a-input"),D=(0,i.g2)("a-button"),Y=(0,i.g2)("a-table"),q=(0,i.g2)("a-menu-item-group"),H=(0,i.g2)("a-menu-divider"),te=(0,i.g2)("a-date-picker"),ne=(0,i.g2)("a-modal"),le=(0,i.g2)("el-button"),ge=(0,i.g2)("el-dialog");return(0,i.uX)(),(0,i.CE)("div",dn,[(0,i.Lk)("div",fn,[(0,i.Lk)("div",vn,[t[16]||(t[16]=(0,i.Lk)("div",{class:"w-1 h-6 bg-blue-500 rounded-full"},null,-1)),t[17]||(t[17]=(0,i.Lk)("h1",{class:"text-xl font-medium text-gray-900"},"待办事项 📝",-1)),(0,i.Lk)("span",pn,(0,c.v_)(S.value),1)]),(0,i.Lk)("div",mn,[(0,i.bF)(n,{color:K.value.active>0?"processing":"default"},{default:(0,i.k6)((function(){return[(0,i.eW)(" 待完成 "+(0,c.v_)(K.value.active),1)]})),_:1},8,["color"]),(0,i.bF)(n,{color:"success"},{default:(0,i.k6)((function(){return[(0,i.eW)(" 已完成 "+(0,c.v_)(K.value.completed),1)]})),_:1})])]),(0,i.Lk)("div",kn,[(0,i.Lk)("div",gn,[(0,i.bF)(u,{value:v.value,"onUpdate:value":t[0]||(t[0]=function(e){return v.value=e}),placeholder:"搜索待办事项...",class:"!rounded-lg search-input",bordered:!1,onSearch:z},{prefix:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(nn.A),{class:"text-gray-400"})]})),_:1},8,["value"])]),(0,i.bF)(r,{value:p.value,"onUpdate:value":t[1]||(t[1]=function(e){return p.value=e}),class:"!rounded-lg min-w-[120px]",bordered:!1,onChange:P,options:[{value:"all",label:"全部任务"},{value:"active",label:"未完成 ⏳"},{value:"completed",label:"已完成 ✅"}]},null,8,["value"]),(0,i.Lk)("div",{class:"completed-tasks-control",onClick:me},[(0,i.Lk)("div",bn,[(0,i.Lk)("div",hn,[(0,i.Lk)("span",yn,(0,c.v_)(pe.value.length),1),t[18]||(t[18]=(0,i.Lk)("span",{class:"label"},"已完成",-1))]),(0,i.Lk)("div",{class:(0,c.C4)(["toggle-icon",{rotated:!V.value}])},t[19]||(t[19]=[(0,i.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[(0,i.Lk)("polyline",{points:"6 9 12 15 18 9"})],-1)]),2)])])]),(0,i.Lk)("div",_n,[(0,i.bF)(Y,{dataSource:E.value,columns:W,pagination:!1,scroll:{y:"calc(100vh - 340px)"},bordered:!1,size:"middle",class:"custom-table -mx-4",onChange:ae,rowClassName:ke},{bodyCell:(0,i.k6)((function(e){var l,a=e.column,u=e.record;return["completed"===a.key?((0,i.uX)(),(0,i.Wv)(o,{key:0,checked:u.completed,onChange:function(e){return G(u,e.target.checked)},class:"todo-checkbox"},null,8,["checked","onChange"])):"priority"===a.key?((0,i.uX)(),(0,i.Wv)(w,{key:1,trigger:["hover"]},{overlay:(0,i.k6)((function(){return[(0,i.bF)(h,{onClick:function(e){var t=e.key;return ue(u,t)}},{default:(0,i.k6)((function(){return[(0,i.bF)(k,{key:"高"},{default:(0,i.k6)((function(){return t[20]||(t[20]=[(0,i.Lk)("div",{class:"flex items-center gap-2"},[(0,i.Lk)("div",{class:"w-2 h-2 rounded-full bg-red-500"}),(0,i.Lk)("span",null,"高优先级")],-1)])})),_:1}),(0,i.bF)(k,{key:"中"},{default:(0,i.k6)((function(){return t[21]||(t[21]=[(0,i.Lk)("div",{class:"flex items-center gap-2"},[(0,i.Lk)("div",{class:"w-2 h-2 rounded-full bg-yellow-500"}),(0,i.Lk)("span",null,"中优先级")],-1)])})),_:1}),(0,i.bF)(k,{key:"低"},{default:(0,i.k6)((function(){return t[22]||(t[22]=[(0,i.Lk)("div",{class:"flex items-center gap-2"},[(0,i.Lk)("div",{class:"w-2 h-2 rounded-full bg-green-500"}),(0,i.Lk)("span",null,"低优先级")],-1)])})),_:1})]})),_:2},1032,["onClick"])]})),default:(0,i.k6)((function(){return[(0,i.bF)(n,{color:X(u.priority),class:"cursor-pointer"},{default:(0,i.k6)((function(){return[(0,i.eW)((0,c.v_)(u.priority),1)]})),_:2},1032,["color"])]})),_:2},1024)):"category"===a.key?((0,i.uX)(),(0,i.Wv)(w,{key:2,trigger:["hover"]},{overlay:(0,i.k6)((function(){return[(0,i.bF)(h,{onClick:function(e){var t=e.key;return de(u,t)}},{default:(0,i.k6)((function(){return[(0,i.bF)(k,{key:"工作目标"},{default:(0,i.k6)((function(){return[(0,i.Lk)("div",Fn,[(0,i.bF)(n,{color:"blue",size:"small"},{default:(0,i.k6)((function(){return t[23]||(t[23]=[(0,i.eW)("工作")])})),_:1}),t[24]||(t[24]=(0,i.Lk)("span",null,"工作目标",-1))])]})),_:1}),(0,i.bF)(k,{key:"学习目标"},{default:(0,i.k6)((function(){return[(0,i.Lk)("div",wn,[(0,i.bF)(n,{color:"success",size:"small"},{default:(0,i.k6)((function(){return t[25]||(t[25]=[(0,i.eW)("学习")])})),_:1}),t[26]||(t[26]=(0,i.Lk)("span",null,"学习目标",-1))])]})),_:1}),(0,i.bF)(k,{key:"生活目标"},{default:(0,i.k6)((function(){return[(0,i.Lk)("div",Ln,[(0,i.bF)(n,{color:"warning",size:"small"},{default:(0,i.k6)((function(){return t[27]||(t[27]=[(0,i.eW)("生活")])})),_:1}),t[28]||(t[28]=(0,i.Lk)("span",null,"生活目标",-1))])]})),_:1}),(0,i.bF)(k,{key:"其他目标"},{default:(0,i.k6)((function(){return[(0,i.Lk)("div",Cn,[(0,i.bF)(n,{color:"default",size:"small"},{default:(0,i.k6)((function(){return t[29]||(t[29]=[(0,i.eW)("其他")])})),_:1}),t[30]||(t[30]=(0,i.Lk)("span",null,"其他目标",-1))])]})),_:1})]})),_:2},1032,["onClick"])]})),default:(0,i.k6)((function(){return[(0,i.bF)(n,{color:ce(u.category),class:"cursor-pointer"},{default:(0,i.k6)((function(){return[(0,i.eW)((0,c.v_)(u.category||"其他目标"),1)]})),_:2},1032,["color"])]})),_:2},1024)):"text"===a.key?((0,i.uX)(),(0,i.CE)(i.FK,{key:3},[d.value===u.id?((0,i.uX)(),(0,i.Wv)(L,{key:0,value:f.value,"onUpdate:value":t[2]||(t[2]=function(e){return f.value=e}),onPressEnter:O,onBlur:O,class:"!rounded-lg !border-blue-200 focus:!border-blue-400",bordered:!0},null,8,["value"])):((0,i.uX)(),(0,i.CE)("div",xn,[(0,i.Lk)("span",{class:(0,c.C4)([{"line-through text-gray-400":u.completed,"in-progress-text":u.pomodoros>0&&!u.completed},"flex-1 truncate cursor-pointer"]),onMouseenter:function(e){return fe(u,e)},onMouseleave:ve},(0,c.v_)(u.text),43,An),(0,i.Lk)("div",Rn,[u.completed?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.Wv)(D,{key:0,type:"text",onClick:function(e){return ee(u)},class:"action-btn !px-2 hover:!bg-blue-50 hover:!text-blue-500",title:u.pomodoros>0?"继续任务":"开始任务"},{icon:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(ln.A))]})),_:2},1032,["onClick","title"])),(0,i.bF)(D,{type:"text",onClick:function(e){return N(u)},class:"action-btn !px-2 hover:!bg-gray-100",title:"编辑"},{icon:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(an.A))]})),_:2},1032,["onClick"]),(0,i.bF)(D,{type:"text",onClick:function(e){return U(u)},class:"action-btn !px-2 hover:!bg-red-50 hover:!text-red-500",title:"删除"},{icon:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(un.A))]})),_:2},1032,["onClick"])]),_.value&&(null===(l=F.value)||void 0===l?void 0:l.id)===u.id?((0,i.uX)(),(0,i.CE)("div",Vn,[(0,i.Lk)("div",Dn,[(0,i.Lk)("p",Wn,(0,c.v_)(u.text),1),(0,i.Lk)("p",Sn,"优先级："+(0,c.v_)(u.priority),1),(0,i.Lk)("p",En,"分类："+(0,c.v_)(u.category),1),(0,i.Lk)("p",Kn,"创建时间："+(0,c.v_)(I(u.createdAt)),1),u.dueDate?((0,i.uX)(),(0,i.CE)("p",Xn,[(0,i.eW)((0,c.v_)(u.completed?"完成时间":"截止时间")+"： ",1),(0,i.Lk)("span",{class:(0,c.C4)({"text-red-500":!u.completed&&M(u.dueDate)})},(0,c.v_)(I(u.dueDate)),3)])):(0,i.Q3)("",!0)])])):(0,i.Q3)("",!0)]))],64)):"dueDate"===a.key?((0,i.uX)(),(0,i.CE)("div",In,[(0,i.Lk)("span",{class:(0,c.C4)([{"text-red-500":!u.completed&&M(u.dueDate),"text-gray-400":u.completed},"cursor-pointer hover:text-blue-500"]),onClick:function(e){return re(u)}},(0,c.v_)(u.completed?"完成于："+I(u.dueDate):I(u.dueDate)||"设置截止日期"),11,Mn),u.dueDate?((0,i.uX)(),(0,i.Wv)(D,{key:0,type:"text",class:"action-btn !px-1",onClick:function(e){return oe(u)},title:"清除截止日期"},{icon:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(rn.A))]})),_:2},1032,["onClick"])):(0,i.Q3)("",!0)])):"pomodoros"===a.key?((0,i.uX)(),(0,i.CE)("span",Tn,"🍅 x "+(0,c.v_)(u.pomodoros||0),1)):"createdAt"===a.key?((0,i.uX)(),(0,i.CE)("span",Un,(0,c.v_)(I(u.createdAt)),1)):(0,i.Q3)("",!0)]})),_:1},8,["dataSource"])]),(0,i.Lk)("div",Nn,[(0,i.bF)(L,{value:l.value,"onUpdate:value":t[12]||(t[12]=function(e){return l.value=e}),placeholder:"添加新任务...",class:"add-task-input",bordered:!0,onKeyup:(0,a.jR)(T,["enter"])},{prefix:(0,i.k6)((function(){return[(0,i.Lk)("div",On,[(0,i.Lk)("div",zn,[(0,i.bF)(w,{trigger:["hover"],placement:"bottomLeft"},{overlay:(0,i.k6)((function(){return[(0,i.bF)(h,{onClick:t[3]||(t[3]=function(e){var t=e.key;return ie(t)})},{default:(0,i.k6)((function(){return[(0,i.bF)(k,{key:"工作目标"},{default:(0,i.k6)((function(){return[(0,i.bF)(n,{color:"blue",size:"small"},{default:(0,i.k6)((function(){return t[31]||(t[31]=[(0,i.eW)("工作")])})),_:1}),t[32]||(t[32]=(0,i.Lk)("span",{class:"ml-2"},"工作目标",-1))]})),_:1}),(0,i.bF)(k,{key:"学习目标"},{default:(0,i.k6)((function(){return[(0,i.bF)(n,{color:"success",size:"small"},{default:(0,i.k6)((function(){return t[33]||(t[33]=[(0,i.eW)("学习")])})),_:1}),t[34]||(t[34]=(0,i.Lk)("span",{class:"ml-2"},"学习目标",-1))]})),_:1}),(0,i.bF)(k,{key:"生活目标"},{default:(0,i.k6)((function(){return[(0,i.bF)(n,{color:"warning",size:"small"},{default:(0,i.k6)((function(){return t[35]||(t[35]=[(0,i.eW)("生活")])})),_:1}),t[36]||(t[36]=(0,i.Lk)("span",{class:"ml-2"},"生活目标",-1))]})),_:1}),(0,i.bF)(k,{key:"其他目标"},{default:(0,i.k6)((function(){return[(0,i.bF)(n,{color:"default",size:"small"},{default:(0,i.k6)((function(){return t[37]||(t[37]=[(0,i.eW)("其他")])})),_:1}),t[38]||(t[38]=(0,i.Lk)("span",{class:"ml-2"},"其他目标",-1))]})),_:1})]})),_:1})]})),default:(0,i.k6)((function(){return[y.value?((0,i.uX)(),(0,i.Wv)(n,{key:0,color:ce(y.value),size:"small",class:"hover:cursor-pointer"},{default:(0,i.k6)((function(){return[(0,i.eW)((0,c.v_)(se(y.value)),1)]})),_:1},8,["color"])):(0,i.Q3)("",!0)]})),_:1}),(0,i.bF)(w,{trigger:["hover"],placement:"bottomLeft"},{overlay:(0,i.k6)((function(){return[(0,i.bF)(h,{onClick:t[4]||(t[4]=function(e){var t=e.key;return B(t)})},{default:(0,i.k6)((function(){return[(0,i.bF)(k,{key:"高"},{default:(0,i.k6)((function(){return[(0,i.bF)(n,{color:"error",size:"small"},{default:(0,i.k6)((function(){return t[39]||(t[39]=[(0,i.eW)("高")])})),_:1}),t[40]||(t[40]=(0,i.Lk)("span",{class:"ml-2"},"高优先级",-1))]})),_:1}),(0,i.bF)(k,{key:"中"},{default:(0,i.k6)((function(){return[(0,i.bF)(n,{color:"warning",size:"small"},{default:(0,i.k6)((function(){return t[41]||(t[41]=[(0,i.eW)("中")])})),_:1}),t[42]||(t[42]=(0,i.Lk)("span",{class:"ml-2"},"中优先级",-1))]})),_:1}),(0,i.bF)(k,{key:"低"},{default:(0,i.k6)((function(){return[(0,i.bF)(n,{color:"success",size:"small"},{default:(0,i.k6)((function(){return t[43]||(t[43]=[(0,i.eW)("低")])})),_:1}),t[44]||(t[44]=(0,i.Lk)("span",{class:"ml-2"},"低优先级",-1))]})),_:1})]})),_:1})]})),default:(0,i.k6)((function(){return[m.value?((0,i.uX)(),(0,i.Wv)(n,{key:0,color:X(m.value),size:"small",class:"hover:cursor-pointer"},{default:(0,i.k6)((function(){return[(0,i.eW)((0,c.v_)(m.value),1)]})),_:1},8,["color"])):(0,i.Q3)("",!0)]})),_:1})]),(0,i.bF)(w,null,{overlay:(0,i.k6)((function(){return[(0,i.bF)(h,null,{default:(0,i.k6)((function(){return[(0,i.bF)(q,{title:"任务分类"},{default:(0,i.k6)((function(){return[(0,i.bF)(k,{key:"work",onClick:t[5]||(t[5]=function(e){return ie("工作目标")})},{default:(0,i.k6)((function(){return[(0,i.Lk)("div",Pn,[(0,i.bF)(n,{color:"blue",size:"small"},{default:(0,i.k6)((function(){return t[45]||(t[45]=[(0,i.eW)("工作")])})),_:1}),t[46]||(t[46]=(0,i.Lk)("span",null,"工作目标",-1))])]})),_:1}),(0,i.bF)(k,{key:"study",onClick:t[6]||(t[6]=function(e){return ie("学习目标")})},{default:(0,i.k6)((function(){return[(0,i.Lk)("div",Yn,[(0,i.bF)(n,{color:"success",size:"small"},{default:(0,i.k6)((function(){return t[47]||(t[47]=[(0,i.eW)("学习")])})),_:1}),t[48]||(t[48]=(0,i.Lk)("span",null,"学习目标",-1))])]})),_:1}),(0,i.bF)(k,{key:"life",onClick:t[7]||(t[7]=function(e){return ie("生活目标")})},{default:(0,i.k6)((function(){return[(0,i.Lk)("div",qn,[(0,i.bF)(n,{color:"warning",size:"small"},{default:(0,i.k6)((function(){return t[49]||(t[49]=[(0,i.eW)("生活")])})),_:1}),t[50]||(t[50]=(0,i.Lk)("span",null,"生活目标",-1))])]})),_:1}),(0,i.bF)(k,{key:"other",onClick:t[8]||(t[8]=function(e){return ie("其他目标")})},{default:(0,i.k6)((function(){return[(0,i.Lk)("div",Bn,[(0,i.bF)(n,{color:"default",size:"small"},{default:(0,i.k6)((function(){return t[51]||(t[51]=[(0,i.eW)("其他")])})),_:1}),t[52]||(t[52]=(0,i.Lk)("span",null,"其他目标",-1))])]})),_:1})]})),_:1}),(0,i.bF)(H),(0,i.bF)(q,{title:"优先级"},{default:(0,i.k6)((function(){return[(0,i.bF)(k,{key:"high",onClick:t[9]||(t[9]=function(e){return B("高")})},{default:(0,i.k6)((function(){return t[53]||(t[53]=[(0,i.Lk)("div",{class:"flex items-center gap-2"},[(0,i.Lk)("div",{class:"w-2 h-2 rounded-full bg-red-500"}),(0,i.Lk)("span",null,"高优先级")],-1)])})),_:1}),(0,i.bF)(k,{key:"medium",onClick:t[10]||(t[10]=function(e){return B("中")})},{default:(0,i.k6)((function(){return t[54]||(t[54]=[(0,i.Lk)("div",{class:"flex items-center gap-2"},[(0,i.Lk)("div",{class:"w-2 h-2 rounded-full bg-yellow-500"}),(0,i.Lk)("span",null,"中优先级")],-1)])})),_:1}),(0,i.bF)(k,{key:"low",onClick:t[11]||(t[11]=function(e){return B("低")})},{default:(0,i.k6)((function(){return t[55]||(t[55]=[(0,i.Lk)("div",{class:"flex items-center gap-2"},[(0,i.Lk)("div",{class:"w-2 h-2 rounded-full bg-green-500"}),(0,i.Lk)("span",null,"低优先级")],-1)])})),_:1})]})),_:1}),(0,i.bF)(H),(0,i.bF)(k,{key:"date",onClick:J},{default:(0,i.k6)((function(){return t[56]||(t[56]=[(0,i.eW)(" 📅 设置截止日期 ")])})),_:1})]})),_:1})]})),default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(on.A),{class:"text-gray-400 cursor-pointer hover:text-blue-500 text-lg"})]})),_:1})])]})),suffix:(0,i.k6)((function(){return[l.value.trim()?((0,i.uX)(),(0,i.Wv)((0,s.R1)(cn.A),{key:0,class:"text-gray-300 text-lg",title:"按回车键添加任务"})):(0,i.Q3)("",!0)]})),_:1},8,["value"])]),(0,i.bF)(ne,{visible:g.value,"onUpdate:visible":t[14]||(t[14]=function(e){return g.value=e}),title:"设置截止日期",footer:null},{default:(0,i.k6)((function(){return[(0,i.bF)(te,{value:b.value,"onUpdate:value":t[13]||(t[13]=function(e){return b.value=e}),"show-time":"",format:"YYYY-MM-DD HH:mm",onOk:j,onChange:Q},null,8,["value"])]})),_:1},8,["visible"]),C.value?((0,i.uX)(),(0,i.CE)("div",Jn,[(0,i.Lk)("canvas",{ref_key:"confettiCanvas",ref:x,class:"confetti-canvas"},null,512)])):(0,i.Q3)("",!0),(0,i.bF)(ge,{modelValue:A.value,"onUpdate:modelValue":t[15]||(t[15]=function(e){return A.value=e}),title:"任务完成！",width:"360px","show-close":!1,"close-on-click-modal":!1,class:"completion-dialog"},{footer:(0,i.k6)((function(){return[(0,i.Lk)("div",Hn,[(0,i.bF)(le,{type:"primary",onClick:$},{default:(0,i.k6)((function(){return t[59]||(t[59]=[(0,i.eW)("确定")])})),_:1})])]})),default:(0,i.k6)((function(){var e,n;return[(0,i.Lk)("div",Qn,[t[58]||(t[58]=(0,i.Lk)("div",{class:"completion-emoji"},"🎉",-1)),(0,i.Lk)("div",jn,[t[57]||(t[57]=(0,i.eW)(" 恭喜完成任务 ")),(0,i.Lk)("div",Gn,(0,c.v_)(null===(e=R.value)||void 0===e?void 0:e.text),1),(0,i.Lk)("div",$n," 用时："+(0,c.v_)(Z(Date.now()-(null===(n=R.value)||void 0===n?void 0:n.createdAt))),1)])])]})),_:1},8,["modelValue"])])}}};const el=(0,h.A)(Zn,[["__scopeId","data-v-39b08808"]]);var tl=el,nl={class:"todo-list-container"},ll={__name:"TodoList",setup:function(e){return function(e,t){return(0,i.uX)(),(0,i.CE)("div",nl,[(0,i.bF)(tl)])}}};const al=(0,h.A)(ll,[["__scopeId","data-v-0174cdd6"]]);var ul=al,rl=n(25361),ol=n(76900),il={class:"mind-map-container"},cl={__name:"GoalMindMap",props:{goals:{type:Array,required:!0,default:function(){return[]}}},emits:["node-click"],setup:function(e,t){var n=t.emit,l=e,a=n,u=(0,s.KR)(null),r=null,o=function(e){if(!e)return"未设置";var t=new Date(e),n=t.getFullYear(),l=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0");return"".concat(n,"-").concat(l,"-").concat(a)},c=function(e){console.log("转换目标数据:",e);var t=(new Date).getFullYear(),n={data:{text:"".concat(t,"年目标"),expand:!0,isActive:!1,style:{fontSize:"18px",fontWeight:"bold",color:"#409EFF"},children:(e||[]).map((function(e){return{text:e.title||"",id:e.id,expand:!0,isActive:!1,style:{fontSize:"16px",color:d(e.priority),border:"2px solid ".concat(d(e.priority))},tooltip:"\n          优先级: ".concat(e.priority,"\n          开始: ").concat(o(e.startDate),"\n          截止: ").concat(o(e.deadline),"\n          进度: ").concat(e.progress,"%\n        "),children:(e.steps||[]).map((function(t){return{text:t.title||"",id:"".concat(e.id,"-step-").concat(t.id),expand:!0,isActive:!1,style:{color:t.completed?"#67C23A":"#909399",fontSize:"14px"},tooltip:"\n            完成标准: ".concat(t.criteria,"\n            截止日期: ").concat(o(t.deadline),"\n            权重: ").concat(t.weight,"%\n          ")}}))}}))}};return console.log("转换后的思维导图数据:",n),n},d=function(e){var t={high:"#F56C6C",medium:"#E6A23C",low:"#67C23A"};return t[e]||"#909399"},f=function(){try{if(r){r.command.execute("resetLayout"),r.render();var e=r.view;if(e){var t=u.value,n=t.clientWidth,l=t.clientHeight,a=Math.min(n/(e.width||800),l/(e.height||600));r.view.scale=Math.min(Math.max(.5,a),2),r.render()}}}catch(o){console.error("Adjust view error:",o)}},v=function(){if(console.log("初始化思维导图, 容器:",u.value),u.value)try{var e=c(l.goals);console.log("思维导图配置:",e),r=new ol.A({el:u.value,data:e,layout:"circle",theme:{template:"classic",config:{backgroundColor:"#fff",lineColor:"#91d5ff",lineWidth:2,fontSize:14,fontFamily:"Arial",color:"#333",lineStyle:"curve",nodeStyle:{borderRadius:"50%",border:"2px solid #91d5ff",padding:"8px 16px"}}},width:u.value.clientWidth||800,height:u.value.clientHeight||600,xGap:60,yGap:60,mousewheelAction:"zoom",enableFreeDrag:!0,textOverflow:"ellipsis",enableAnimation:!0,expandAnimation:{enable:!0,duration:300}}),r.on("node_click",(function(e){try{if(!e||!e.data)return;var t=e.data.id;if(!t)return;var n=l.goals.find((function(e){return e.id===t}));n&&a("node-click",n)}catch(u){console.error("Node click error:",u)}})),setTimeout((function(){r.render(),f()}),0)}catch(t){console.error("Mind map initialization error:",t)}},p=function(){try{r&&(r.off("node_click"),r.destroy(),r=null)}catch(e){console.error("Mind map cleanup error:",e)}},m=function(){if(r&&u.value){var e=u.value,t=e.clientWidth,n=e.clientHeight;r.resize(t,n),f()}};return(0,i.sV)((function(){v(),window.addEventListener("resize",m)})),(0,i.wB)((function(){return l.goals}),(function(e){try{if(r){var t=c(e);r.setData(t),setTimeout((function(){r.render(),f()}),0)}}catch(n){console.error("Mind map update error:",n)}}),{deep:!0}),(0,i.xo)((function(){window.removeEventListener("resize",m),p()})),function(e,t){return(0,i.uX)(),(0,i.CE)("div",il,[(0,i.Lk)("div",{class:"mind-map",ref_key:"mindMapContainer",ref:u},null,512)])}}};const sl=(0,h.A)(cl,[["__scopeId","data-v-545b8792"]]);var dl=sl,fl={class:"goal-list"},vl={__name:"GoalList",props:{goals:{type:Array,required:!0}},emits:["select"],setup:function(e,t){var n=t.emit,l=n,a=(0,i.WQ)("goalUtils"),u=a.getStatusType,r=function(e){l("select",e)};return function(t,n){var l=(0,i.g2)("el-table-column"),a=(0,i.g2)("el-progress"),o=(0,i.g2)("el-tag"),d=(0,i.g2)("el-button"),f=(0,i.g2)("el-table");return(0,i.uX)(),(0,i.CE)("div",fl,[(0,i.bF)(f,{data:e.goals,style:{width:"100%"}},{default:(0,i.k6)((function(){return[(0,i.bF)(l,{prop:"title",label:"目标名称"}),(0,i.bF)(l,{prop:"progress",label:"进度",width:"200"},{default:(0,i.k6)((function(e){var t=e.row;return[(0,i.bF)(a,{percentage:t.progress},null,8,["percentage"])]})),_:1}),(0,i.bF)(l,{prop:"status",label:"状态",width:"120"},{default:(0,i.k6)((function(e){var t=e.row;return[(0,i.bF)(o,{type:(0,s.R1)(u)(t.status)},{default:(0,i.k6)((function(){return[(0,i.eW)((0,c.v_)(t.status),1)]})),_:2},1032,["type"])]})),_:1}),(0,i.bF)(l,{prop:"deadline",label:"截止日期",width:"180"}),(0,i.bF)(l,{label:"操作",width:"150"},{default:(0,i.k6)((function(e){var t=e.row;return[(0,i.bF)(d,{onClick:function(e){return r(t)},type:"primary",link:""},{default:(0,i.k6)((function(){return n[0]||(n[0]=[(0,i.eW)(" 查看详情 ")])})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"])])}}};const pl=(0,h.A)(vl,[["__scopeId","data-v-054877e8"]]);var ml=pl,kl=n(61527),gl=n.n(kl),bl=n(12687),hl=n(69655),yl={class:"kanban-board"},_l={class:"column-header"},Fl={class:"count"},wl=["onClick"],Ll={class:"card-header"},Cl={class:"card-content"},xl={class:"card-footer"},Al={class:"deadline"},Rl={__name:"GoalKanban",props:{goals:{type:Array,required:!0,default:function(){return[]}}},emits:["card-click","update"],setup:function(e,t){var n=t.emit,l=e,a=n,u=[{label:"待处理",value:"pending"},{label:"进行中",value:"in_progress"},{label:"已完成",value:"completed"}],r=function(e){return l.goals.filter((function(t){return t.status===e}))},o=function(e,t){var n=l.goals.map((function(n){var l=e.find((function(e){return e.id===n.id}));return l?(0,D.A)((0,D.A)({},l),{},{status:t}):n}));a("update",n)},d=function(e){var t={pending:"info",in_progress:"primary",completed:"success"};return t[e]||"default"},f=function(e){return e>=100?"success":e>=60?"primary":e>=30?"warning":"exception"},v=function(e){return e?new Date(e).toLocaleDateString():"未设置"};return function(e,t){return(0,i.uX)(),(0,i.CE)("div",yl,[((0,i.uX)(),(0,i.CE)(i.FK,null,(0,i.pI)(u,(function(t){return(0,i.Lk)("div",{class:"kanban-column",key:t.value},[(0,i.Lk)("div",_l,[(0,i.Lk)("h3",null,(0,c.v_)(t.label),1),(0,i.Lk)("span",Fl,(0,c.v_)(r(t.value).length),1)]),(0,i.bF)((0,s.R1)(kl.VueDraggable),{"model-value":r(t.value),"onUpdate:modelValue":function(e){return o(e,t.value)},group:{name:"goals",pull:!0,put:!0},"item-key":"id",class:"kanban-list","data-status":t.value},{item:(0,i.k6)((function(t){var n=t.element;return[(0,i.Lk)("div",{class:"goal-card",onClick:function(t){return e.$emit("card-click",n)}},[(0,i.Lk)("div",Ll,[(0,i.Lk)("h4",null,(0,c.v_)(n.title),1),(0,i.bF)((0,s.R1)(bl.u),{type:d(n.status),size:"small"},{default:(0,i.k6)((function(){return[(0,i.eW)((0,c.v_)(n.status),1)]})),_:2},1032,["type"])]),(0,i.Lk)("div",Cl,[(0,i.Lk)("p",null,(0,c.v_)(n.description),1),(0,i.bF)((0,s.R1)(hl.ve),{percentage:n.progress||0,status:f(n.progress)},null,8,["percentage","status"])]),(0,i.Lk)("div",xl,[(0,i.Lk)("span",Al," 截止日期: "+(0,c.v_)(v(n.deadline)),1)])],8,wl)]})),_:2},1032,["model-value","onUpdate:modelValue","data-status"])])})),64))])}}};const Vl=(0,h.A)(Rl,[["__scopeId","data-v-1710759e"]]);var Dl=Vl,Wl={class:"goal-detail"},Sl={class:"detail-header"},El={class:"detail-section"},Kl={class:"detail-section"},Xl={class:"detail-section"},Il={class:"detail-section"},Ml={class:"steps-list"},Tl={class:"detail-section"},Ul={class:"detail-actions"},Nl={__name:"GoalDetail",props:{goal:{type:Object,required:!0}},emits:["update"],setup:function(e,t){var n=t.emit,l=e,a=n,u=(0,i.WQ)("goalUtils"),r=u.getStatusType,o=u.getProgressStatus,d=u.getTaskStatusType,f=function(e,t){var n=(0,$e.A)(l.goal.steps);n[e]=(0,D.A)((0,D.A)({},n[e]),{},{completed:t,status:t?"completed":"in_progress"});var u=n.length,r=n.filter((function(e){return e.completed})).length,o=Math.round(r/u*100);a("update",(0,D.A)((0,D.A)({},l.goal),{},{steps:n,progress:o,status:100===o?"completed":"in_progress"}))},v=function(e){a("update",(0,D.A)((0,D.A)({},l.goal),{},{notes:e}))},p=function(){a("update",l.goal)},m=function(){};return function(t,n){var l=(0,i.g2)("el-tag"),a=(0,i.g2)("el-progress"),u=(0,i.g2)("el-descriptions-item"),k=(0,i.g2)("el-descriptions"),g=(0,i.g2)("el-checkbox"),b=(0,i.g2)("el-input"),h=(0,i.g2)("el-button");return(0,i.uX)(),(0,i.CE)("div",Wl,[(0,i.Lk)("div",Sl,[(0,i.Lk)("h2",null,(0,c.v_)(e.goal.title),1),(0,i.bF)(l,{type:(0,s.R1)(r)(e.goal.status)},{default:(0,i.k6)((function(){return[(0,i.eW)((0,c.v_)(e.goal.status),1)]})),_:1},8,["type"])]),(0,i.Lk)("div",El,[n[0]||(n[0]=(0,i.Lk)("h4",null,"进度",-1)),(0,i.bF)(a,{percentage:e.goal.progress,status:(0,s.R1)(o)(e.goal.progress)},null,8,["percentage","status"])]),(0,i.Lk)("div",Kl,[n[1]||(n[1]=(0,i.Lk)("h4",null,"描述",-1)),(0,i.Lk)("p",null,(0,c.v_)(e.goal.description),1)]),(0,i.Lk)("div",Xl,[n[2]||(n[2]=(0,i.Lk)("h4",null,"时间信息",-1)),(0,i.bF)(k,{column:1,border:""},{default:(0,i.k6)((function(){return[(0,i.bF)(u,{label:"开始时间"},{default:(0,i.k6)((function(){return[(0,i.eW)((0,c.v_)(e.goal.startDate),1)]})),_:1}),(0,i.bF)(u,{label:"截止时间"},{default:(0,i.k6)((function(){return[(0,i.eW)((0,c.v_)(e.goal.deadline),1)]})),_:1})]})),_:1})]),(0,i.Lk)("div",Il,[n[3]||(n[3]=(0,i.Lk)("h4",null,"子任务",-1)),(0,i.Lk)("div",Ml,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.goal.steps,(function(e,t){return(0,i.uX)(),(0,i.CE)("div",{key:t,class:"step-item"},[(0,i.bF)(g,{modelValue:e.completed,"onUpdate:modelValue":function(t){return e.completed=t},onChange:function(e){return f(t,e)}},{default:(0,i.k6)((function(){return[(0,i.eW)((0,c.v_)(e.title),1)]})),_:2},1032,["modelValue","onUpdate:modelValue","onChange"]),(0,i.bF)(l,{type:(0,s.R1)(d)(e.status),size:"small"},{default:(0,i.k6)((function(){return[(0,i.eW)((0,c.v_)(e.status),1)]})),_:2},1032,["type"])])})),128))])]),(0,i.Lk)("div",Tl,[n[4]||(n[4]=(0,i.Lk)("h4",null,"备注",-1)),(0,i.bF)(b,{"model-value":e.goal.notes,type:"textarea",rows:"4",placeholder:"添加备注...","onUpdate:modelValue":v},null,8,["model-value"])]),(0,i.Lk)("div",Ul,[(0,i.bF)(h,{type:"primary",onClick:p},{default:(0,i.k6)((function(){return n[5]||(n[5]=[(0,i.eW)("保存更改")])})),_:1}),(0,i.bF)(h,{onClick:m,type:"danger"},{default:(0,i.k6)((function(){return n[6]||(n[6]=[(0,i.eW)("删除目标")])})),_:1})])])}}};const Ol=(0,h.A)(Nl,[["__scopeId","data-v-713fab16"]]);var zl=Ol,Pl={class:"goal-creator"},Yl={class:"sub-tasks-section"},ql={class:"steps-container"},Bl={class:"step-item"},Jl={__name:"GoalCreator",props:{aiEnabled:{type:Boolean,default:!1}},emits:["create","cancel"],setup:function(e,t){var n=t.emit,l=n,a=(0,s.KR)(null),u=(0,s.KR)({title:"",description:"",startDate:"",deadline:"",priority:"medium",steps:[],status:"not_started",progress:0,year:(new Date).getFullYear(),category:"",expectedResults:""}),c={title:[{required:!0,message:"请输入目标名称",trigger:"blur"},{min:2,max:50,message:"长度在 2 到 50 个字符",trigger:"blur"}],description:[{required:!0,message:"请输入目标描述",trigger:"blur"}],startDate:[{type:"date",required:!0,message:"请选择开始日期",trigger:"change"}],deadline:[{type:"date",required:!0,message:"请选择截止日期",trigger:"change"}],priority:[{required:!0,message:"请选择优先级",trigger:"change"}],category:[{required:!0,message:"请选择目标类别",trigger:"change"}]},d=function(){u.value.steps.push({title:"",description:"",completed:!1,status:"not_started",deadline:"",criteria:"",weight:0})},f=function(e){u.value.steps.splice(e,1)},p=(0,s.KR)(!1),m=function(e){return e<new Date((new Date).setHours(0,0,0,0))},k=function(e,t){return t?e<t:m(e)},g=function(){return"goal_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)},b=function(){var e=(0,o.A)((0,r.A)().mark((function e(t){return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.validate((function(e){if(e){var n=(0,D.A)((0,D.A)({},u.value),{},{id:g(),status:"not_started",progress:0,createdAt:(new Date).toISOString(),steps:u.value.steps.map((function(e,t){return(0,D.A)((0,D.A)({},e),{},{id:"step_".concat(t,"_").concat(Date.now()),completed:!1,status:"not_started"})}))});l("create",n),P.nk.success("目标创建成功"),h(t)}else P.nk.error("请完善表单信息")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(e){e&&(e.resetFields(),u.value.steps=[])},y=function(){P.nk.info("AI 辅助功能开发中...")},_={title:[{required:!0,message:"请输入子任务名称",trigger:"blur"}],criteria:[{required:!0,message:"请设置完成标准",trigger:"blur"}],deadline:[{required:!0,message:"请设置截止日期",trigger:"change"}],weight:[{required:!0,type:"number",min:0,max:100,message:"权重需在0-100之间",trigger:"change"}]};return function(t,n){var l=(0,i.g2)("el-input"),r=(0,i.g2)("el-form-item"),o=(0,i.g2)("el-option"),g=(0,i.g2)("el-select"),F=(0,i.g2)("el-radio-button"),w=(0,i.g2)("el-radio-group"),L=(0,i.g2)("el-date-picker"),C=(0,i.g2)("el-col"),x=(0,i.g2)("el-input-number"),A=(0,i.g2)("el-button"),R=(0,i.g2)("el-icon"),V=(0,i.g2)("el-form");return(0,i.uX)(),(0,i.CE)("div",Pl,[(0,i.bF)(V,{ref_key:"formRef",ref:a,model:u.value,rules:c,"label-width":"100px"},{default:(0,i.k6)((function(){return[(0,i.bF)(r,{label:"目标名称",prop:"title"},{default:(0,i.k6)((function(){return[(0,i.bF)(l,{modelValue:u.value.title,"onUpdate:modelValue":n[0]||(n[0]=function(e){return u.value.title=e}),placeholder:"请输入目标名称"},null,8,["modelValue"])]})),_:1}),(0,i.bF)(r,{label:"目标类别",prop:"category"},{default:(0,i.k6)((function(){return[(0,i.bF)(g,{modelValue:u.value.category,"onUpdate:modelValue":n[1]||(n[1]=function(e){return u.value.category=e}),placeholder:"请选择目标类别"},{default:(0,i.k6)((function(){return[(0,i.bF)(o,{label:"工作",value:"work"}),(0,i.bF)(o,{label:"学习",value:"study"}),(0,i.bF)(o,{label:"生活",value:"life"}),(0,i.bF)(o,{label:"其他",value:"other"})]})),_:1},8,["modelValue"])]})),_:1}),(0,i.bF)(r,{label:"优先级",prop:"priority"},{default:(0,i.k6)((function(){return[(0,i.bF)(w,{modelValue:u.value.priority,"onUpdate:modelValue":n[2]||(n[2]=function(e){return u.value.priority=e})},{default:(0,i.k6)((function(){return[(0,i.bF)(F,{label:"high"},{default:(0,i.k6)((function(){return n[8]||(n[8]=[(0,i.eW)("高")])})),_:1}),(0,i.bF)(F,{label:"medium"},{default:(0,i.k6)((function(){return n[9]||(n[9]=[(0,i.eW)("中")])})),_:1}),(0,i.bF)(F,{label:"low"},{default:(0,i.k6)((function(){return n[10]||(n[10]=[(0,i.eW)("低")])})),_:1})]})),_:1},8,["modelValue"])]})),_:1}),(0,i.bF)(r,{label:"时间范围",required:""},{default:(0,i.k6)((function(){return[(0,i.bF)(C,{span:11},{default:(0,i.k6)((function(){return[(0,i.bF)(r,{prop:"startDate"},{default:(0,i.k6)((function(){return[(0,i.bF)(L,{modelValue:u.value.startDate,"onUpdate:modelValue":n[3]||(n[3]=function(e){return u.value.startDate=e}),type:"date",placeholder:"开始日期",style:{width:"100%"},"disabled-date":m},null,8,["modelValue"])]})),_:1})]})),_:1}),(0,i.bF)(C,{span:2,class:"text-center"},{default:(0,i.k6)((function(){return n[11]||(n[11]=[(0,i.eW)("-")])})),_:1}),(0,i.bF)(C,{span:11},{default:(0,i.k6)((function(){return[(0,i.bF)(r,{prop:"deadline"},{default:(0,i.k6)((function(){return[(0,i.bF)(L,{modelValue:u.value.deadline,"onUpdate:modelValue":n[4]||(n[4]=function(e){return u.value.deadline=e}),type:"date",placeholder:"截止日期",style:{width:"100%"},"disabled-date":function(e){return k(e,u.value.startDate)}},null,8,["modelValue","disabled-date"])]})),_:1})]})),_:1})]})),_:1}),(0,i.bF)(r,{label:"描述",prop:"description"},{default:(0,i.k6)((function(){return[(0,i.bF)(l,{modelValue:u.value.description,"onUpdate:modelValue":n[5]||(n[5]=function(e){return u.value.description=e}),type:"textarea",rows:"4",placeholder:"请描述你的目标..."},null,8,["modelValue"])]})),_:1}),(0,i.Lk)("div",Yl,[n[14]||(n[14]=(0,i.Lk)("h3",null,"子任务列表",-1)),(0,i.Lk)("div",ql,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(u.value.steps,(function(e,t){return(0,i.uX)(),(0,i.Wv)(r,{key:t,prop:"steps.".concat(t,".title"),rules:_.title},{default:(0,i.k6)((function(){return[(0,i.Lk)("div",Bl,[(0,i.bF)(l,{modelValue:e.title,"onUpdate:modelValue":function(t){return e.title=t},placeholder:"子任务名称",style:{width:"200px"}},null,8,["modelValue","onUpdate:modelValue"]),(0,i.bF)(l,{modelValue:e.criteria,"onUpdate:modelValue":function(t){return e.criteria=t},placeholder:"完成标准",style:{width:"200px"}},null,8,["modelValue","onUpdate:modelValue"]),(0,i.bF)(L,{modelValue:e.deadline,"onUpdate:modelValue":function(t){return e.deadline=t},type:"date",placeholder:"截止日期"},null,8,["modelValue","onUpdate:modelValue"]),(0,i.bF)(x,{modelValue:e.weight,"onUpdate:modelValue":function(t){return e.weight=t},min:0,max:100,placeholder:"权重"},null,8,["modelValue","onUpdate:modelValue"]),(0,i.bF)(A,{type:"danger",link:"",onClick:function(e){return f(t)}},{default:(0,i.k6)((function(){return n[12]||(n[12]=[(0,i.eW)(" 删除 ")])})),_:2},1032,["onClick"])])]})),_:2},1032,["prop","rules"])})),128)),(0,i.bF)(A,{type:"primary",link:"",onClick:d},{default:(0,i.k6)((function(){return[(0,i.bF)(R,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Plus))]})),_:1}),n[13]||(n[13]=(0,i.eW)(" 添加子任务 "))]})),_:1})])]),(0,i.bF)(r,null,{default:(0,i.k6)((function(){return[(0,i.bF)(A,{type:"primary",onClick:n[6]||(n[6]=function(e){return b(a.value)})},{default:(0,i.k6)((function(){return n[15]||(n[15]=[(0,i.eW)(" 创建目标 ")])})),_:1}),(0,i.bF)(A,{onClick:n[7]||(n[7]=function(e){return h(a.value)})},{default:(0,i.k6)((function(){return n[16]||(n[16]=[(0,i.eW)("重置")])})),_:1}),e.aiEnabled?((0,i.uX)(),(0,i.Wv)(A,{key:0,type:"success",onClick:y,loading:p.value},{default:(0,i.k6)((function(){return n[17]||(n[17]=[(0,i.eW)(" AI 辅助 ")])})),_:1},8,["loading"])):(0,i.Q3)("",!0)]})),_:1})]})),_:1},8,["model"])])}}};const Ql=(0,h.A)(Jl,[["__scopeId","data-v-2ab018bd"]]);var jl=Ql,Gl={class:"goal-manager"},$l={class:"nav-section"},Hl={class:"nav-header"},Zl={class:"goal-stats"},ea={class:"stats-text"},ta={class:"view-switcher"},na={class:"filter-section"},la={class:"quick-filters"},aa={class:"count"},ua={class:"help-section"},ra={class:"main-content"},oa={class:"view-info"},ia={class:"drawer-header"},ca={class:"dialog-header"},sa={__name:"GoalManager",setup:function(e){var t=(0,s.KR)("mind-map"),n=(0,s.KR)(!1),l=(0,s.KR)(!1),a=(0,s.KR)([]),u=(0,s.KR)(null),r=[{label:"全部",value:"all",type:""},{label:"进行中",value:"in_progress",type:"primary"},{label:"已完成",value:"completed",type:"success"},{label:"已延期",value:"overdue",type:"danger"}],o=(0,s.KR)("all"),d=(0,i.EW)((function(){return o.value&&"all"!==o.value?a.value.filter((function(e){switch(o.value){case"in_progress":return"in_progress"===e.status;case"completed":return"completed"===e.status;case"overdue":var t=new Date(e.deadline);return t<new Date&&"completed"!==e.status;default:return!0}})):a.value})),f=function(e){o.value=e.value},v=function(e){u.value=e,n.value=!0},m=function(e){var t=a.value.findIndex((function(t){return t.id===e.id}));-1!==t&&(a.value[t]=e,He.Ay.success("目标更新成功"))},k=function(e){a.value=[].concat((0,$e.A)(a.value),[e]),l.value=!1,rl.ElMessage.success("目标创建成功"),(0,i.dY)((function(){if("mind-map"===t.value){var e=(0,i.nI)().refs.mindMap;e&&e.initMindMap()}}))},g=function(e){var t={"进行中":"primary","已完成":"success","已暂停":"warning","已取消":"info"};return t[e]||"default"},b=function(e){return e>=100?"success":e>=60?"primary":e>=30?"warning":"exception"},h=function(e){var t={"待处理":"info","进行中":"primary","已完成":"success","已延期":"danger"};return t[e]||"default"},y=function(){l.value=!0};(0,i.Gt)("goalUtils",{getStatusType:g,getProgressStatus:b,getTaskStatusType:h}),(0,i.Gt)("goalState",{goals:a,selectedGoal:u,createNewGoal:y,handleGoalUpdate:m,handleGoalCreate:k,handleGoalSelect:v});var _=(0,s.KR)(1),F=(0,i.EW)((function(){return a.value.filter((function(e){return"completed"===e.status})).length})),w=(0,i.EW)((function(){return Math.round(F.value/a.value.length*100)||0})),L=(0,i.EW)((function(){switch(t.value){case"mind-map":return dl;case"list":return ml;case"kanban":return Dl;default:return ml}})),C=function(e){switch(e){case"all":return a.value.length;case"in_progress":return a.value.filter((function(e){return"in_progress"===e.status})).length;case"completed":return F.value;case"overdue":return a.value.filter((function(e){var t=new Date(e.deadline);return t<new Date&&"completed"!==e.status})).length;default:return 0}},x=function(e){p.s.confirm("确认关闭？未保存的内容将会丢失").then((function(){_.value=1,e()})).catch((function(){}))},A=function(e){_.value=e};return function(e,s){var p=(0,i.g2)("el-button"),g=(0,i.g2)("el-empty"),b=(0,i.g2)("el-progress"),h=(0,i.g2)("el-tooltip"),y=(0,i.g2)("el-radio-button"),R=(0,i.g2)("el-radio-group"),V=(0,i.g2)("el-icon"),D=(0,i.g2)("el-tag"),W=(0,i.g2)("el-collapse-item"),S=(0,i.g2)("el-collapse"),E=(0,i.g2)("el-alert"),K=(0,i.g2)("el-button-group"),X=(0,i.g2)("el-drawer"),I=(0,i.g2)("el-step"),M=(0,i.g2)("el-steps"),T=(0,i.g2)("el-dialog");return(0,i.uX)(),(0,i.CE)("div",Gl,[a.value.length?((0,i.uX)(),(0,i.CE)(i.FK,{key:1},[(0,i.Lk)("div",$l,[(0,i.Lk)("div",Hl,[s[8]||(s[8]=(0,i.Lk)("h2",null,"目标管理",-1)),(0,i.bF)(h,{content:"目标完成概览",placement:"right"},{default:(0,i.k6)((function(){return[(0,i.Lk)("div",Zl,[(0,i.bF)(b,{type:"circle",percentage:w.value,status:w.value>=80?"success":"primary",width:60},null,8,["percentage","status"]),(0,i.Lk)("div",ea,[(0,i.Lk)("div",null,"总目标: "+(0,c.v_)(a.value.length),1),(0,i.Lk)("div",null,"已完成: "+(0,c.v_)(F.value),1)])])]})),_:1})]),(0,i.bF)(p,{type:"primary",class:"create-button",onClick:s[1]||(s[1]=function(e){return l.value=!0})},{default:(0,i.k6)((function(){return s[9]||(s[9]=[(0,i.eW)(" 创建新目标 ")])})),_:1}),(0,i.Lk)("div",ta,[(0,i.bF)(R,{modelValue:t.value,"onUpdate:modelValue":s[2]||(s[2]=function(e){return t.value=e})},{default:(0,i.k6)((function(){return[(0,i.bF)(y,{label:"mind-map"},{default:(0,i.k6)((function(){return s[10]||(s[10]=[(0,i.eW)("思维导图")])})),_:1}),(0,i.bF)(y,{label:"list"},{default:(0,i.k6)((function(){return s[11]||(s[11]=[(0,i.eW)("列表视图")])})),_:1}),(0,i.bF)(y,{label:"kanban"},{default:(0,i.k6)((function(){return s[12]||(s[12]=[(0,i.eW)("看板视图")])})),_:1})]})),_:1},8,["modelValue"])]),(0,i.Lk)("div",na,[s[13]||(s[13]=(0,i.Lk)("h4",null,"快速筛选",-1)),(0,i.Lk)("div",la,[((0,i.uX)(),(0,i.CE)(i.FK,null,(0,i.pI)(r,(function(e){return(0,i.bF)(D,{key:e.value,type:e.type,effect:o.value===e.value?"dark":"light",onClick:function(t){return f(e)},class:"filter-tag"},{default:(0,i.k6)((function(){return[(0,i.bF)(V,null,{default:(0,i.k6)((function(){return[((0,i.uX)(),(0,i.Wv)((0,i.$y)(e.icon)))]})),_:2},1024),(0,i.eW)(" "+(0,c.v_)(e.label)+" ",1),(0,i.Lk)("span",aa,"("+(0,c.v_)(C(e.value))+")",1)]})),_:2},1032,["type","effect","onClick"])})),64))])]),(0,i.Lk)("div",ua,[(0,i.bF)(S,null,{default:(0,i.k6)((function(){return[(0,i.bF)(W,{title:"使用帮助",name:"1"},{default:(0,i.k6)((function(){return s[14]||(s[14]=[(0,i.Lk)("div",{class:"help-content"},[(0,i.Lk)("p",null,"1. 创建目标并设置关键信息"),(0,i.Lk)("p",null,"2. 将目标分解为可执行的子任务"),(0,i.Lk)("p",null,"3. 使用不同视图管理目标"),(0,i.Lk)("p",null,"4. 实时追踪目标完成进度")],-1)])})),_:1})]})),_:1})])]),(0,i.Lk)("div",ra,[(0,i.Lk)("div",oa,["mind-map"===t.value?((0,i.uX)(),(0,i.Wv)(E,{key:0,type:"info","show-icon":"",closable:!1},{default:(0,i.k6)((function(){return s[15]||(s[15]=[(0,i.eW)(" 思维导图视图可以帮助你更好地理解目标之间的关系 ")])})),_:1})):(0,i.Q3)("",!0),"kanban"===t.value?((0,i.uX)(),(0,i.Wv)(E,{key:1,type:"info","show-icon":"",closable:!1},{default:(0,i.k6)((function(){return s[16]||(s[16]=[(0,i.eW)(" 看板视图适合管理目标的执行状态和进度 ")])})),_:1})):(0,i.Q3)("",!0)]),((0,i.uX)(),(0,i.Wv)((0,i.$y)(L.value),{goals:d.value,onSelect:v,onUpdate:m},null,40,["goals"]))])],64)):((0,i.uX)(),(0,i.Wv)(g,{key:0,description:"开始创建你的第一个目标吧！",class:"empty-state"},{default:(0,i.k6)((function(){return[(0,i.bF)(p,{type:"primary",onClick:s[0]||(s[0]=function(e){return l.value=!0})},{default:(0,i.k6)((function(){return s[6]||(s[6]=[(0,i.eW)(" 创建新目标 ")])})),_:1}),s[7]||(s[7]=(0,i.Lk)("div",{class:"guide-text"},[(0,i.Lk)("p",null,"💡 目标管理可以帮助你："),(0,i.Lk)("ul",null,[(0,i.Lk)("li",null,"📝 制定清晰的目标计划"),(0,i.Lk)("li",null,"✅ 分解目标为可执行的子任务"),(0,i.Lk)("li",null,"📊 追踪目标完成进度"),(0,i.Lk)("li",null,"🎯 保持专注和动力")])],-1))]})),_:1})),(0,i.bF)(X,{modelValue:n.value,"onUpdate:modelValue":s[3]||(s[3]=function(e){return n.value=e}),title:"目标详情",size:"500px","show-close":!0,"with-header":!0},{header:(0,i.k6)((function(){return[(0,i.Lk)("div",ia,[s[19]||(s[19]=(0,i.Lk)("h3",null,"目标详情",-1)),(0,i.bF)(K,null,{default:(0,i.k6)((function(){return[(0,i.bF)(p,{size:"small",onClick:e.editGoal},{default:(0,i.k6)((function(){return s[17]||(s[17]=[(0,i.eW)("编辑")])})),_:1},8,["onClick"]),(0,i.bF)(p,{size:"small",type:"danger",onClick:e.deleteGoal},{default:(0,i.k6)((function(){return s[18]||(s[18]=[(0,i.eW)("删除")])})),_:1},8,["onClick"])]})),_:1})])]})),default:(0,i.k6)((function(){return[u.value?((0,i.uX)(),(0,i.Wv)(zl,{key:0,goal:u.value,onUpdate:m},null,8,["goal"])):(0,i.Q3)("",!0)]})),_:1},8,["modelValue"]),(0,i.bF)(T,{modelValue:l.value,"onUpdate:modelValue":s[5]||(s[5]=function(e){return l.value=e}),title:"创建新目标",width:"60%","before-close":x},{default:(0,i.k6)((function(){return[(0,i.Lk)("div",ca,[(0,i.bF)(M,{active:_.value,"finish-status":"success"},{default:(0,i.k6)((function(){return[(0,i.bF)(I,{title:"基本信息"}),(0,i.bF)(I,{title:"分解任务"}),(0,i.bF)(I,{title:"确认创建"})]})),_:1},8,["active"])]),(0,i.bF)(jl,{"ai-enabled":!0,onCreate:k,onCancel:s[4]||(s[4]=function(e){return l.value=!1}),"current-step":_.value,onStepChange:A},null,8,["current-step"])]})),_:1},8,["modelValue"])])}}};const da=(0,h.A)(sa,[["__scopeId","data-v-1bb65b52"]]);var fa=da,va={class:"login-container"},pa={class:"login-content"},ma={class:"login-right"},ka={class:"login-box"},ga={class:"remember-forgot"},ba={__name:"LoginView",setup:function(e){var t=(0,u.rd)(),n=(0,s.KR)(!1),l=(0,s.KR)(!1),a=(0,s.Kh)({username:"",password:""}),c={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能小于6位",trigger:"blur"}]},d=function(){var e=(0,o.A)((0,r.A)().mark((function e(){return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.value=!0,e.prev=1,e.next=4,new Promise((function(e){return setTimeout(e,1e3)}));case 4:P.nk.success("登录成功"),t.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),P.nk.error("登录失败");case 11:return e.prev=11,n.value=!1,e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return function(e,t){var u=(0,i.g2)("el-input"),r=(0,i.g2)("el-form-item"),o=(0,i.g2)("el-checkbox"),p=(0,i.g2)("el-link"),m=(0,i.g2)("el-button"),k=(0,i.g2)("el-form");return(0,i.uX)(),(0,i.CE)("div",va,[(0,i.Lk)("div",pa,[t[8]||(t[8]=(0,i.Lk)("div",{class:"login-left"},[(0,i.Lk)("div",{class:"login-banner"},[(0,i.Lk)("img",{src:f,alt:"Logo",class:"banner-logo"}),(0,i.Lk)("h1",null,"高效办公系统"),(0,i.Lk)("p",{class:"banner-desc"},"提升工作效率，助力职业发展")])],-1)),(0,i.Lk)("div",ma,[(0,i.Lk)("div",ka,[t[6]||(t[6]=(0,i.Lk)("h2",null,"欢迎登录",-1)),t[7]||(t[7]=(0,i.Lk)("p",{class:"login-desc"},"请使用您的账号密码登录系统",-1)),(0,i.bF)(k,{ref:"loginForm",model:a,rules:c,class:"login-form"},{default:(0,i.k6)((function(){return[(0,i.bF)(r,{prop:"username"},{default:(0,i.k6)((function(){return[(0,i.bF)(u,{modelValue:a.username,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.username=e}),placeholder:"请输入用户名","prefix-icon":(0,s.R1)(v.User),size:"large"},null,8,["modelValue","prefix-icon"])]})),_:1}),(0,i.bF)(r,{prop:"password"},{default:(0,i.k6)((function(){return[(0,i.bF)(u,{modelValue:a.password,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.password=e}),type:"password",placeholder:"请输入密码","prefix-icon":(0,s.R1)(v.Lock),"show-password":"",size:"large"},null,8,["modelValue","prefix-icon"])]})),_:1}),(0,i.Lk)("div",ga,[(0,i.bF)(o,{modelValue:l.value,"onUpdate:modelValue":t[2]||(t[2]=function(e){return l.value=e})},{default:(0,i.k6)((function(){return t[3]||(t[3]=[(0,i.eW)("记住我")])})),_:1},8,["modelValue"]),(0,i.bF)(p,{type:"primary"},{default:(0,i.k6)((function(){return t[4]||(t[4]=[(0,i.eW)("忘记密码？")])})),_:1})]),(0,i.bF)(r,null,{default:(0,i.k6)((function(){return[(0,i.bF)(m,{type:"primary",loading:n.value,class:"login-button",size:"large",onClick:d},{default:(0,i.k6)((function(){return t[5]||(t[5]=[(0,i.eW)(" 登录 ")])})),_:1},8,["loading"])]})),_:1})]})),_:1},8,["model"])])])])])}}};const ha=(0,h.A)(ba,[["__scopeId","data-v-e8d403ec"]]);var ya=ha,_a={class:"profile-container"},Fa={class:"profile-content"},wa={class:"sticky-card"},La={class:"user-info-header"},Ca={class:"avatar-wrapper"},xa={class:"avatar-hover"},Aa={class:"card-header"},Ra={class:"security-items"},Va={class:"security-item"},Da={class:"security-item"},Wa={__name:"ProfileView",setup:function(e){var t=(0,s.KR)(!1),n=(0,s.Kh)({avatar:"",username:"测试用户",nickname:"测试昵称",email:"test@example.com",emailVerified:!0,phone:"13800138000",phoneVerified:!1,region:[],bio:""}),l=(0,s.Kh)({twoFactor:!1}),a=[{value:"beijing",label:"北京",children:[{value:"chaoyang",label:"朝阳区"},{value:"haidian",label:"海淀区"}]}],u=function(){t.value=!0},d=function(){var e=(0,o.A)((0,r.A)().mark((function e(){return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise((function(e){return setTimeout(e,1e3)}));case 3:t.value=!1,P.nk.success("保存成功"),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),P.nk.error("保存失败");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),f=function(e){var t=e.type.startsWith("image/"),n=e.size/1024/1024<2;return t||P.nk.error("上传头像图片只能是图片格式!"),n||P.nk.error("上传头像图片大小不能超过 2MB!"),t&&n},p=function(e){n.avatar=e.url};return function(e,r){var o=(0,i.g2)("el-avatar"),m=(0,i.g2)("el-icon"),k=(0,i.g2)("el-upload"),g=(0,i.g2)("el-card"),b=(0,i.g2)("el-col"),h=(0,i.g2)("el-button"),y=(0,i.g2)("el-input"),_=(0,i.g2)("el-form-item"),F=(0,i.g2)("el-tag"),w=(0,i.g2)("el-cascader"),L=(0,i.g2)("el-form"),C=(0,i.g2)("el-switch"),x=(0,i.g2)("el-row");return(0,i.uX)(),(0,i.CE)("div",_a,[r[20]||(r[20]=(0,i.Lk)("div",{class:"profile-header"},[(0,i.Lk)("h2",null,"个人信息"),(0,i.Lk)("p",{class:"header-desc"},"管理您的账号信息和偏好设置")],-1)),(0,i.Lk)("div",Fa,[(0,i.bF)(x,{gutter:20},{default:(0,i.k6)((function(){return[(0,i.bF)(b,{span:8},{default:(0,i.k6)((function(){return[(0,i.Lk)("div",wa,[(0,i.bF)(g,{class:"profile-card info-card"},{default:(0,i.k6)((function(){return[(0,i.Lk)("div",La,[(0,i.bF)(k,{class:"avatar-uploader",action:"/api/upload","show-file-list":!1,"before-upload":f,"on-success":p},{default:(0,i.k6)((function(){return[(0,i.Lk)("div",Ca,[n.avatar?((0,i.uX)(),(0,i.Wv)(o,{key:0,size:120,src:n.avatar},null,8,["src"])):((0,i.uX)(),(0,i.Wv)(m,{key:1,class:"avatar-uploader-icon"},{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Plus))]})),_:1})),(0,i.Lk)("div",xa,[(0,i.bF)(m,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Camera))]})),_:1}),r[8]||(r[8]=(0,i.Lk)("span",null,"更换头像",-1))])])]})),_:1}),(0,i.Lk)("h3",null,(0,c.v_)(n.nickname||n.username),1),r[9]||(r[9]=(0,i.Lk)("p",{class:"user-role"},"高级用户",-1))]),r[10]||(r[10]=(0,i.Lk)("div",{class:"user-stats"},[(0,i.Lk)("div",{class:"stat-item"},[(0,i.Lk)("span",{class:"stat-value"},"138"),(0,i.Lk)("span",{class:"stat-label"},"待办完成")]),(0,i.Lk)("div",{class:"stat-item"},[(0,i.Lk)("span",{class:"stat-value"},"42h"),(0,i.Lk)("span",{class:"stat-label"},"专注时长")]),(0,i.Lk)("div",{class:"stat-item"},[(0,i.Lk)("span",{class:"stat-value"},"12"),(0,i.Lk)("span",{class:"stat-label"},"目标达成")])],-1))]})),_:1})])]})),_:1}),(0,i.bF)(b,{span:16},{default:(0,i.k6)((function(){return[(0,i.bF)(g,{class:"profile-card"},{header:(0,i.k6)((function(){return[(0,i.Lk)("div",Aa,[r[11]||(r[11]=(0,i.Lk)("h3",null,"基本信息",-1)),(0,i.bF)(h,{type:"primary",icon:t.value?"Check":"Edit",onClick:r[0]||(r[0]=function(e){return t.value?d():u()})},{default:(0,i.k6)((function(){return[(0,i.eW)((0,c.v_)(t.value?"保存":"编辑"),1)]})),_:1},8,["icon"])])]})),default:(0,i.k6)((function(){return[(0,i.bF)(L,{ref:"profileForm",model:n,disabled:!t.value,"label-width":"100px"},{default:(0,i.k6)((function(){return[(0,i.bF)(_,{label:"用户名"},{default:(0,i.k6)((function(){return[(0,i.bF)(y,{modelValue:n.username,"onUpdate:modelValue":r[1]||(r[1]=function(e){return n.username=e})},null,8,["modelValue"])]})),_:1}),(0,i.bF)(_,{label:"昵称"},{default:(0,i.k6)((function(){return[(0,i.bF)(y,{modelValue:n.nickname,"onUpdate:modelValue":r[2]||(r[2]=function(e){return n.nickname=e})},null,8,["modelValue"])]})),_:1}),(0,i.bF)(_,{label:"邮箱"},{default:(0,i.k6)((function(){return[(0,i.bF)(y,{modelValue:n.email,"onUpdate:modelValue":r[3]||(r[3]=function(e){return n.email=e})},{append:(0,i.k6)((function(){return[n.emailVerified?((0,i.uX)(),(0,i.Wv)(F,{key:0,type:"success",size:"small"},{default:(0,i.k6)((function(){return r[12]||(r[12]=[(0,i.eW)("已验证")])})),_:1})):((0,i.uX)(),(0,i.Wv)(h,{key:1,type:"primary",link:""},{default:(0,i.k6)((function(){return r[13]||(r[13]=[(0,i.eW)("验证邮箱")])})),_:1}))]})),_:1},8,["modelValue"])]})),_:1}),(0,i.bF)(_,{label:"手机号"},{default:(0,i.k6)((function(){return[(0,i.bF)(y,{modelValue:n.phone,"onUpdate:modelValue":r[4]||(r[4]=function(e){return n.phone=e})},{append:(0,i.k6)((function(){return[n.phoneVerified?((0,i.uX)(),(0,i.Wv)(F,{key:0,type:"success",size:"small"},{default:(0,i.k6)((function(){return r[14]||(r[14]=[(0,i.eW)("已验证")])})),_:1})):((0,i.uX)(),(0,i.Wv)(h,{key:1,type:"primary",link:""},{default:(0,i.k6)((function(){return r[15]||(r[15]=[(0,i.eW)("验证手机")])})),_:1}))]})),_:1},8,["modelValue"])]})),_:1}),(0,i.bF)(_,{label:"所在地区"},{default:(0,i.k6)((function(){return[(0,i.bF)(w,{modelValue:n.region,"onUpdate:modelValue":r[5]||(r[5]=function(e){return n.region=e}),options:a,placeholder:"请选择所在地区"},null,8,["modelValue"])]})),_:1}),(0,i.bF)(_,{label:"个人简介"},{default:(0,i.k6)((function(){return[(0,i.bF)(y,{modelValue:n.bio,"onUpdate:modelValue":r[6]||(r[6]=function(e){return n.bio=e}),type:"textarea",rows:3,placeholder:"介绍一下自己吧"},null,8,["modelValue"])]})),_:1})]})),_:1},8,["model","disabled"])]})),_:1}),(0,i.bF)(g,{class:"profile-card security-card"},{header:(0,i.k6)((function(){return r[16]||(r[16]=[(0,i.Lk)("div",{class:"card-header"},[(0,i.Lk)("h3",null,"安全设置")],-1)])})),default:(0,i.k6)((function(){return[(0,i.Lk)("div",Ra,[(0,i.Lk)("div",Va,[r[18]||(r[18]=(0,i.Lk)("div",{class:"security-info"},[(0,i.Lk)("h4",null,"登录密码"),(0,i.Lk)("p",null,"建议定期更换密码，确保账号安全")],-1)),(0,i.bF)(h,{link:"",type:"primary"},{default:(0,i.k6)((function(){return r[17]||(r[17]=[(0,i.eW)("修改密码")])})),_:1})]),(0,i.Lk)("div",Da,[r[19]||(r[19]=(0,i.Lk)("div",{class:"security-info"},[(0,i.Lk)("h4",null,"双因素认证"),(0,i.Lk)("p",null,"启用双因素认证，提供额外的安全保护")],-1)),(0,i.bF)(C,{modelValue:l.twoFactor,"onUpdate:modelValue":r[7]||(r[7]=function(e){return l.twoFactor=e})},null,8,["modelValue"])])])]})),_:1})]})),_:1})]})),_:1})])])}}};const Sa=(0,h.A)(Wa,[["__scopeId","data-v-7b4f3aa4"]]);var Ea=Sa,Ka=n(54119),Xa=(n(14603),n(47566),n(98721),n(34079)),Ia=n(29735),Ma={class:"menu-manager"},Ta={class:"menu-header"},Ua={class:"header-actions"},Na={class:"menu-content"},Oa={class:"menu-tree"},za={class:"tree-node"},Pa={class:"node-content"},Ya={key:2,class:"label"},qa={class:"node-actions"},Ba={key:0,class:"menu-form"},Ja={style:{"margin-left":"8px"}},Qa={__name:"MenuManager",setup:function(e){var t=(0,s.KR)(null),n=(0,s.KR)([]),l=(0,s.KR)(null),u=["HomeFilled","List","Timer","Aim","Share","Memo","Collection","Calendar","ChatDotRound","EditPen"],r=[{id:1,title:"仪表盘",path:"/dashboard",icon:"HomeFilled",visible:!0,children:[]},{id:2,title:"任务管理",path:"/tasks",icon:"List",visible:!0,children:[{id:21,title:"待办事项",path:"/todos",icon:"List",visible:!0,children:[]},{id:22,title:"目标管理",path:"/goals",icon:"Aim",visible:!0,children:[]}]}];(0,i.sV)((function(){o()}));var o=function(){var e=localStorage.getItem("menu-config");e?n.value=JSON.parse(e):(n.value=r,_())},d=function(){var e={id:Date.now(),title:"新菜单项",path:"",icon:"Menu",visible:!0,children:[],editing:!0};n.value.push(e),l.value=e},f=function(e){var t={id:Date.now(),title:"新子菜单",path:"",icon:"Menu",visible:!0,children:[],editing:!0};e.children||(e.children=[]),e.children.push(t),l.value=t,_()},m=function(e){l.value=e},k=function(e,t){p.s.confirm("确定要删除这个菜单项吗？","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var n,a=e.parent,u=a.data.children||a.data,r=u.findIndex((function(e){return e.id===t.id}));u.splice(r,1),_(),P.nk.success("删除成功"),(null===(n=l.value)||void 0===n?void 0:n.id)===t.id&&(l.value=null)}))},g=function(e){e.editing=!1,_()},b=function(){_(),P.nk.success("保存成功")},h=function(e,t,n){return e.data.id!==t.data.id},y=function(e,t,n){_()},_=function(){localStorage.setItem("menu-config",JSON.stringify(n.value))};return function(e,r){var o=(0,i.g2)("el-icon"),p=(0,i.g2)("el-button"),_=(0,i.g2)("el-input"),F=(0,i.g2)("el-button-group"),w=(0,i.g2)("el-tree"),L=(0,i.g2)("el-form-item"),C=(0,i.g2)("el-option"),x=(0,i.g2)("el-select"),A=(0,i.g2)("el-switch"),R=(0,i.g2)("el-form");return(0,i.uX)(),(0,i.CE)("div",Ma,[(0,i.Lk)("div",Ta,[r[5]||(r[5]=(0,i.Lk)("h3",null,"菜单管理",-1)),(0,i.Lk)("div",Ua,[(0,i.bF)(p,{type:"primary",onClick:d},{default:(0,i.k6)((function(){return[(0,i.bF)(o,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Plus))]})),_:1}),r[4]||(r[4]=(0,i.eW)("添加根菜单 "))]})),_:1})])]),(0,i.Lk)("div",Na,[(0,i.Lk)("div",Oa,[(0,i.bF)(w,{ref_key:"treeRef",ref:t,data:n.value,"node-key":"id",props:{label:"title"},draggable:"","allow-drop":h,onNodeDrop:y,"default-expand-all":""},{default:(0,i.k6)((function(e){var t=e.node,n=e.data;return[(0,i.Lk)("div",za,[(0,i.Lk)("div",Pa,[n.editing?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.Wv)(o,{key:0},{default:(0,i.k6)((function(){return[((0,i.uX)(),(0,i.Wv)((0,i.$y)(n.icon)))]})),_:2},1024)),n.editing?((0,i.uX)(),(0,i.Wv)(_,{key:1,modelValue:n.title,"onUpdate:modelValue":function(e){return n.title=e},size:"small",class:"edit-input",onBlur:function(e){return g(n)},onKeyup:(0,a.jR)((function(e){return g(n)}),["enter"])},null,8,["modelValue","onUpdate:modelValue","onBlur","onKeyup"])):((0,i.uX)(),(0,i.CE)("span",Ya,(0,c.v_)(t.label),1))]),(0,i.Lk)("div",qa,[(0,i.bF)(F,null,{default:(0,i.k6)((function(){return[(0,i.bF)(p,{type:"primary",size:"small",text:"",onClick:(0,a.D$)((function(e){return f(n)}),["stop"])},{default:(0,i.k6)((function(){return[(0,i.bF)(o,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Plus))]})),_:1})]})),_:2},1032,["onClick"]),(0,i.bF)(p,{type:"primary",size:"small",text:"",onClick:(0,a.D$)((function(e){return m(n)}),["stop"])},{default:(0,i.k6)((function(){return[(0,i.bF)(o,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Edit))]})),_:1})]})),_:2},1032,["onClick"]),(0,i.bF)(p,{type:"danger",size:"small",text:"",onClick:(0,a.D$)((function(e){return k(t,n)}),["stop"])},{default:(0,i.k6)((function(){return[(0,i.bF)(o,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Delete))]})),_:1})]})),_:2},1032,["onClick"])]})),_:2},1024)])])]})),_:1},8,["data"])]),l.value?((0,i.uX)(),(0,i.CE)("div",Ba,[(0,i.bF)(R,{model:l.value,"label-width":"80px"},{default:(0,i.k6)((function(){return[(0,i.bF)(L,{label:"菜单名称"},{default:(0,i.k6)((function(){return[(0,i.bF)(_,{modelValue:l.value.title,"onUpdate:modelValue":r[0]||(r[0]=function(e){return l.value.title=e})},null,8,["modelValue"])]})),_:1}),(0,i.bF)(L,{label:"路径"},{default:(0,i.k6)((function(){return[(0,i.bF)(_,{modelValue:l.value.path,"onUpdate:modelValue":r[1]||(r[1]=function(e){return l.value.path=e}),placeholder:"输入系统路由或外部URL"},null,8,["modelValue"])]})),_:1}),(0,i.bF)(L,{label:"图标"},{default:(0,i.k6)((function(){return[(0,i.bF)(x,{modelValue:l.value.icon,"onUpdate:modelValue":r[2]||(r[2]=function(e){return l.value.icon=e}),class:"icon-select"},{default:(0,i.k6)((function(){return[((0,i.uX)(),(0,i.CE)(i.FK,null,(0,i.pI)(u,(function(e){return(0,i.bF)(C,{key:e,label:e,value:e},{default:(0,i.k6)((function(){return[(0,i.bF)(o,null,{default:(0,i.k6)((function(){return[((0,i.uX)(),(0,i.Wv)((0,i.$y)(e)))]})),_:2},1024),(0,i.Lk)("span",Ja,(0,c.v_)(e),1)]})),_:2},1032,["label","value"])})),64))]})),_:1},8,["modelValue"])]})),_:1}),(0,i.bF)(L,{label:"显示"},{default:(0,i.k6)((function(){return[(0,i.bF)(A,{modelValue:l.value.visible,"onUpdate:modelValue":r[3]||(r[3]=function(e){return l.value.visible=e})},null,8,["modelValue"])]})),_:1}),(0,i.bF)(L,null,{default:(0,i.k6)((function(){return[(0,i.bF)(p,{type:"primary",onClick:b},{default:(0,i.k6)((function(){return r[6]||(r[6]=[(0,i.eW)("保存")])})),_:1})]})),_:1})]})),_:1},8,["model"])])):(0,i.Q3)("",!0)])])}}};const ja=(0,h.A)(Qa,[["__scopeId","data-v-10c374b6"]]);var Ga=ja,$a={class:"settings-container"},Ha={class:"color-picker-wrapper"},Za={class:"color-value"},eu={class:"time-input"},tu={class:"time-input"},nu={class:"shortcut-section"},lu={class:"shortcut-section"},au={class:"shortcut-section"},uu={class:"shortcut-section"},ru={class:"shortcut-section"},ou={class:"shortcut-tips"},iu={key:4,class:"space-y-6"},cu={class:"bg-white p-4 rounded-lg border border-gray-100"},su={class:"bg-white p-4 rounded-lg border border-gray-100"},du={class:"settings-actions"},fu={__name:"SettingsView",setup:function(e){var t=(0,s.KR)("appearance"),n=(0,s.Kh)({theme:"light",primaryColor:"#409EFF",compact:!1,notifications:!0,sound:!0,notificationPosition:"top-right",pomodoroLength:25,breakLength:5,autoStartBreak:!1,autoStartNextRound:!1}),a=["#409EFF","#67C23A","#E6A23C","#F56C6C","#909399"],u=function(e){t.value=e},d=function(){var e=(0,o.A)((0,r.A)().mark((function e(){return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise((function(e){return setTimeout(e,1e3)}));case 3:P.nk.success("设置保存成功"),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),P.nk.error("设置保存失败");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),f=function(){P.nk.success("已重置为默认设置"),Object.assign(n,{theme:"light",primaryColor:"#409EFF",compact:!1,notifications:!0,sound:!0,notificationPosition:"top-right",pomodoroLength:25,breakLength:5,autoStartBreak:!1,autoStartNextRound:!1})},p=function(){try{for(var e={},t=0;t<localStorage.length;t++){var n=localStorage.key(t);try{e[n]=JSON.parse(localStorage.getItem(n))}catch(r){e[n]=localStorage.getItem(n)}}e._exportedAt=(new Date).toISOString();var l=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),a=window.URL.createObjectURL(l),u=document.createElement("a");u.href=a,u.download="efficient-office-backup-".concat((new Date).toISOString().split("T")[0],".json"),document.body.appendChild(u),u.click(),document.body.removeChild(u),window.URL.revokeObjectURL(a),He.Ay.success("数据导出成功！")}catch(o){console.error("导出数据失败:",o),He.Ay.error("导出数据失败，请重试！")}},m=function(e){var t=new FileReader;return t.onload=function(e){try{var t=JSON.parse(e.target.result);if(!t||"object"!==(0,Ka.A)(t))throw new Error("无效的数据格式");var n=window.confirm("导入数据将覆盖当前的所有数据，确定要继续吗？");n&&(localStorage.clear(),Object.entries(t).forEach((function(e){var t=(0,l.A)(e,2),n=t[0],a=t[1];"_exportedAt"!==n&&localStorage.setItem(n,JSON.stringify(a))})),He.Ay.success("数据导入成功！请刷新页面以加载新数据。"),setTimeout((function(){window.location.reload()}),1500))}catch(a){console.error("导入数据失败:",a),He.Ay.error("导入数据失败，请确保文件格式正确！")}},t.readAsText(e),!1};return function(e,l){var r=(0,i.g2)("el-icon"),o=(0,i.g2)("el-menu-item"),k=(0,i.g2)("el-menu"),g=(0,i.g2)("el-card"),b=(0,i.g2)("el-col"),h=(0,i.g2)("el-radio-button"),y=(0,i.g2)("el-radio-group"),_=(0,i.g2)("el-form-item"),F=(0,i.g2)("el-color-picker"),w=(0,i.g2)("el-switch"),L=(0,i.g2)("el-form"),C=(0,i.g2)("el-option"),x=(0,i.g2)("el-select"),A=(0,i.g2)("el-input-number"),R=(0,i.g2)("el-tag"),V=(0,i.g2)("el-row"),D=(0,i.g2)("el-alert"),W=(0,i.g2)("a-button"),S=(0,i.g2)("a-upload"),E=(0,i.g2)("el-button");return(0,i.uX)(),(0,i.CE)("div",$a,[l[54]||(l[54]=(0,i.Lk)("div",{class:"settings-header"},[(0,i.Lk)("h2",null,"系统设置"),(0,i.Lk)("p",{class:"header-desc"},"自定义您的系统偏好设置")],-1)),(0,i.bF)(V,{gutter:20},{default:(0,i.k6)((function(){return[(0,i.bF)(b,{span:6},{default:(0,i.k6)((function(){return[(0,i.bF)(g,{class:"settings-menu"},{default:(0,i.k6)((function(){return[(0,i.bF)(k,{"default-active":t.value,onSelect:u},{default:(0,i.k6)((function(){return[(0,i.bF)(o,{index:"appearance"},{default:(0,i.k6)((function(){return[(0,i.bF)(r,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Brush))]})),_:1}),l[10]||(l[10]=(0,i.Lk)("span",null,"外观设置",-1))]})),_:1}),(0,i.bF)(o,{index:"notification"},{default:(0,i.k6)((function(){return[(0,i.bF)(r,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Bell))]})),_:1}),l[11]||(l[11]=(0,i.Lk)("span",null,"通知设置",-1))]})),_:1}),(0,i.bF)(o,{index:"pomodoro"},{default:(0,i.k6)((function(){return[(0,i.bF)(r,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Timer))]})),_:1}),l[12]||(l[12]=(0,i.Lk)("span",null,"番茄钟设置",-1))]})),_:1}),(0,i.bF)(o,{index:"shortcut"},{default:(0,i.k6)((function(){return[(0,i.bF)(r,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Operation))]})),_:1}),l[13]||(l[13]=(0,i.Lk)("span",null,"快捷键设置",-1))]})),_:1}),(0,i.bF)(o,{index:"data-management"},{default:(0,i.k6)((function(){return[(0,i.bF)(r,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Document))]})),_:1}),l[14]||(l[14]=(0,i.Lk)("span",null,"数据管理",-1))]})),_:1}),(0,i.bF)(o,{index:"menu-management"},{default:(0,i.k6)((function(){return[(0,i.bF)(r,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Grid))]})),_:1}),l[15]||(l[15]=(0,i.Lk)("span",null,"菜单管理",-1))]})),_:1})]})),_:1},8,["default-active"])]})),_:1})]})),_:1}),(0,i.bF)(b,{span:18},{default:(0,i.k6)((function(){return["appearance"===t.value?((0,i.uX)(),(0,i.Wv)(g,{key:0,class:"settings-card"},{header:(0,i.k6)((function(){return l[16]||(l[16]=[(0,i.Lk)("h3",null,"外观设置",-1)])})),default:(0,i.k6)((function(){return[(0,i.bF)(L,{"label-width":"120px"},{default:(0,i.k6)((function(){return[(0,i.bF)(_,{label:"主题模式"},{default:(0,i.k6)((function(){return[(0,i.bF)(y,{modelValue:n.theme,"onUpdate:modelValue":l[0]||(l[0]=function(e){return n.theme=e}),class:"theme-radio-group"},{default:(0,i.k6)((function(){return[(0,i.bF)(h,{label:"light"},{default:(0,i.k6)((function(){return[(0,i.bF)(r,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Sunny))]})),_:1}),l[17]||(l[17]=(0,i.eW)(" 浅色模式 "))]})),_:1}),(0,i.bF)(h,{label:"dark"},{default:(0,i.k6)((function(){return[(0,i.bF)(r,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Moon))]})),_:1}),l[18]||(l[18]=(0,i.eW)(" 深色模式 "))]})),_:1}),(0,i.bF)(h,{label:"system"},{default:(0,i.k6)((function(){return[(0,i.bF)(r,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Monitor))]})),_:1}),l[19]||(l[19]=(0,i.eW)(" 跟随系统 "))]})),_:1})]})),_:1},8,["modelValue"])]})),_:1}),(0,i.bF)(_,{label:"主题色"},{default:(0,i.k6)((function(){return[(0,i.Lk)("div",Ha,[(0,i.bF)(F,{modelValue:n.primaryColor,"onUpdate:modelValue":l[1]||(l[1]=function(e){return n.primaryColor=e}),"show-alpha":"",predefine:a},null,8,["modelValue"]),(0,i.Lk)("span",Za,(0,c.v_)(n.primaryColor),1)])]})),_:1}),(0,i.bF)(_,{label:"紧凑模式"},{default:(0,i.k6)((function(){return[(0,i.bF)(w,{modelValue:n.compact,"onUpdate:modelValue":l[2]||(l[2]=function(e){return n.compact=e})},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1})):(0,i.Q3)("",!0),"notification"===t.value?((0,i.uX)(),(0,i.Wv)(g,{key:1,class:"settings-card"},{header:(0,i.k6)((function(){return l[20]||(l[20]=[(0,i.Lk)("h3",null,"通知设置",-1)])})),default:(0,i.k6)((function(){return[(0,i.bF)(L,{"label-width":"120px"},{default:(0,i.k6)((function(){return[(0,i.bF)(_,{label:"消息通知"},{default:(0,i.k6)((function(){return[(0,i.bF)(w,{modelValue:n.notifications,"onUpdate:modelValue":l[3]||(l[3]=function(e){return n.notifications=e})},null,8,["modelValue"])]})),_:1}),(0,i.bF)(_,{label:"声音提醒"},{default:(0,i.k6)((function(){return[(0,i.bF)(w,{modelValue:n.sound,"onUpdate:modelValue":l[4]||(l[4]=function(e){return n.sound=e})},null,8,["modelValue"])]})),_:1}),(0,i.bF)(_,{label:"通知位置"},{default:(0,i.k6)((function(){return[(0,i.bF)(x,{modelValue:n.notificationPosition,"onUpdate:modelValue":l[5]||(l[5]=function(e){return n.notificationPosition=e})},{default:(0,i.k6)((function(){return[(0,i.bF)(C,{label:"右上角",value:"top-right"}),(0,i.bF)(C,{label:"右下角",value:"bottom-right"})]})),_:1},8,["modelValue"])]})),_:1})]})),_:1})]})),_:1})):(0,i.Q3)("",!0),"pomodoro"===t.value?((0,i.uX)(),(0,i.Wv)(g,{key:2,class:"settings-card"},{header:(0,i.k6)((function(){return l[21]||(l[21]=[(0,i.Lk)("h3",null,"番茄钟设置",-1)])})),default:(0,i.k6)((function(){return[(0,i.bF)(L,{"label-width":"120px"},{default:(0,i.k6)((function(){return[(0,i.bF)(_,{label:"专注时长"},{default:(0,i.k6)((function(){return[(0,i.Lk)("div",eu,[(0,i.bF)(A,{modelValue:n.pomodoroLength,"onUpdate:modelValue":l[6]||(l[6]=function(e){return n.pomodoroLength=e}),min:1,max:60,step:5},null,8,["modelValue"]),l[22]||(l[22]=(0,i.Lk)("span",{class:"unit"},"分钟",-1))])]})),_:1}),(0,i.bF)(_,{label:"休息时长"},{default:(0,i.k6)((function(){return[(0,i.Lk)("div",tu,[(0,i.bF)(A,{modelValue:n.breakLength,"onUpdate:modelValue":l[7]||(l[7]=function(e){return n.breakLength=e}),min:1,max:30,step:5},null,8,["modelValue"]),l[23]||(l[23]=(0,i.Lk)("span",{class:"unit"},"分钟",-1))])]})),_:1}),(0,i.bF)(_,{label:"自动开始休息"},{default:(0,i.k6)((function(){return[(0,i.bF)(w,{modelValue:n.autoStartBreak,"onUpdate:modelValue":l[8]||(l[8]=function(e){return n.autoStartBreak=e})},null,8,["modelValue"])]})),_:1}),(0,i.bF)(_,{label:"自动开始下一轮"},{default:(0,i.k6)((function(){return[(0,i.bF)(w,{modelValue:n.autoStartNextRound,"onUpdate:modelValue":l[9]||(l[9]=function(e){return n.autoStartNextRound=e})},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1})):(0,i.Q3)("",!0),"shortcut"===t.value?((0,i.uX)(),(0,i.Wv)(g,{key:3,class:"settings-card"},{header:(0,i.k6)((function(){return l[24]||(l[24]=[(0,i.Lk)("h3",null,"快捷键设置",-1)])})),default:(0,i.k6)((function(){return[(0,i.bF)(L,{"label-width":"100px",class:"shortcut-form"},{default:(0,i.k6)((function(){return[(0,i.bF)(V,{gutter:40},{default:(0,i.k6)((function(){return[(0,i.bF)(b,{span:12},{default:(0,i.k6)((function(){return[(0,i.Lk)("div",nu,[l[28]||(l[28]=(0,i.Lk)("h4",{class:"section-title"},"通用",-1)),(0,i.bF)(_,{label:"保存"},{default:(0,i.k6)((function(){return[(0,i.bF)(R,{class:"shortcut-tag"},{default:(0,i.k6)((function(){return l[25]||(l[25]=[(0,i.Lk)("kbd",null,"Ctrl",-1),(0,i.eW)(" + "),(0,i.Lk)("kbd",null,"S",-1)])})),_:1})]})),_:1}),(0,i.bF)(_,{label:"撤销"},{default:(0,i.k6)((function(){return[(0,i.bF)(R,{class:"shortcut-tag"},{default:(0,i.k6)((function(){return l[26]||(l[26]=[(0,i.Lk)("kbd",null,"Ctrl",-1),(0,i.eW)(" + "),(0,i.Lk)("kbd",null,"Z",-1)])})),_:1})]})),_:1}),(0,i.bF)(_,{label:"重做"},{default:(0,i.k6)((function(){return[(0,i.bF)(R,{class:"shortcut-tag"},{default:(0,i.k6)((function(){return l[27]||(l[27]=[(0,i.Lk)("kbd",null,"Ctrl",-1),(0,i.eW)(" + "),(0,i.Lk)("kbd",null,"Y",-1)])})),_:1})]})),_:1})]),(0,i.Lk)("div",lu,[l[32]||(l[32]=(0,i.Lk)("h4",{class:"section-title"},"待办事项",-1)),(0,i.bF)(_,{label:"新建待办"},{default:(0,i.k6)((function(){return[(0,i.bF)(R,{class:"shortcut-tag"},{default:(0,i.k6)((function(){return l[29]||(l[29]=[(0,i.Lk)("kbd",null,"Ctrl",-1),(0,i.eW)(" + "),(0,i.Lk)("kbd",null,"N",-1)])})),_:1})]})),_:1}),(0,i.bF)(_,{label:"完成待办"},{default:(0,i.k6)((function(){return[(0,i.bF)(R,{class:"shortcut-tag"},{default:(0,i.k6)((function(){return l[30]||(l[30]=[(0,i.Lk)("kbd",null,"Space",-1)])})),_:1})]})),_:1}),(0,i.bF)(_,{label:"删除待办"},{default:(0,i.k6)((function(){return[(0,i.bF)(R,{class:"shortcut-tag"},{default:(0,i.k6)((function(){return l[31]||(l[31]=[(0,i.Lk)("kbd",null,"Delete",-1)])})),_:1})]})),_:1})]),(0,i.Lk)("div",au,[l[35]||(l[35]=(0,i.Lk)("h4",{class:"section-title"},"番茄钟",-1)),(0,i.bF)(_,{label:"开始/暂停"},{default:(0,i.k6)((function(){return[(0,i.bF)(R,{class:"shortcut-tag"},{default:(0,i.k6)((function(){return l[33]||(l[33]=[(0,i.Lk)("kbd",null,"Ctrl",-1),(0,i.eW)(" + "),(0,i.Lk)("kbd",null,"Space",-1)])})),_:1})]})),_:1}),(0,i.bF)(_,{label:"重置"},{default:(0,i.k6)((function(){return[(0,i.bF)(R,{class:"shortcut-tag"},{default:(0,i.k6)((function(){return l[34]||(l[34]=[(0,i.Lk)("kbd",null,"Ctrl",-1),(0,i.eW)(" + "),(0,i.Lk)("kbd",null,"R",-1)])})),_:1})]})),_:1})])]})),_:1}),(0,i.bF)(b,{span:12},{default:(0,i.k6)((function(){return[(0,i.Lk)("div",uu,[l[39]||(l[39]=(0,i.Lk)("h4",{class:"section-title"},"目标管理",-1)),(0,i.bF)(_,{label:"新建目标"},{default:(0,i.k6)((function(){return[(0,i.bF)(R,{class:"shortcut-tag"},{default:(0,i.k6)((function(){return l[36]||(l[36]=[(0,i.Lk)("kbd",null,"Ctrl",-1),(0,i.eW)(" + "),(0,i.Lk)("kbd",null,"Shift",-1),(0,i.eW)(" + "),(0,i.Lk)("kbd",null,"N",-1)])})),_:1})]})),_:1}),(0,i.bF)(_,{label:"编辑目标"},{default:(0,i.k6)((function(){return[(0,i.bF)(R,{class:"shortcut-tag"},{default:(0,i.k6)((function(){return l[37]||(l[37]=[(0,i.Lk)("kbd",null,"Ctrl",-1),(0,i.eW)(" + "),(0,i.Lk)("kbd",null,"E",-1)])})),_:1})]})),_:1}),(0,i.bF)(_,{label:"归档目标"},{default:(0,i.k6)((function(){return[(0,i.bF)(R,{class:"shortcut-tag"},{default:(0,i.k6)((function(){return l[38]||(l[38]=[(0,i.Lk)("kbd",null,"Ctrl",-1),(0,i.eW)(" + "),(0,i.Lk)("kbd",null,"D",-1)])})),_:1})]})),_:1})]),(0,i.Lk)("div",ru,[l[43]||(l[43]=(0,i.Lk)("h4",{class:"section-title"},"导航",-1)),(0,i.bF)(_,{label:"切换菜单"},{default:(0,i.k6)((function(){return[(0,i.bF)(R,{class:"shortcut-tag"},{default:(0,i.k6)((function(){return l[40]||(l[40]=[(0,i.Lk)("kbd",null,"Ctrl",-1),(0,i.eW)(" + "),(0,i.Lk)("kbd",null,"B",-1)])})),_:1})]})),_:1}),(0,i.bF)(_,{label:"搜索"},{default:(0,i.k6)((function(){return[(0,i.bF)(R,{class:"shortcut-tag"},{default:(0,i.k6)((function(){return l[41]||(l[41]=[(0,i.Lk)("kbd",null,"Ctrl",-1),(0,i.eW)(" + "),(0,i.Lk)("kbd",null,"K",-1)])})),_:1})]})),_:1}),(0,i.bF)(_,{label:"帮助"},{default:(0,i.k6)((function(){return[(0,i.bF)(R,{class:"shortcut-tag"},{default:(0,i.k6)((function(){return l[42]||(l[42]=[(0,i.Lk)("kbd",null,"F1",-1)])})),_:1})]})),_:1})])]})),_:1})]})),_:1}),(0,i.Lk)("div",ou,[(0,i.bF)(D,{title:"提示",type:"info",closable:!1,"show-icon":""},{default:(0,i.k6)((function(){return l[44]||(l[44]=[(0,i.Lk)("p",null,"1. 部分快捷键可能与系统或浏览器快捷键冲突",-1),(0,i.Lk)("p",null,"2. Mac 用户请将 Ctrl 替换为 Command ⌘",-1),(0,i.Lk)("p",null,"3. 快捷键设置将在下次启动后生效",-1)])})),_:1})])]})),_:1})]})),_:1})):(0,i.Q3)("",!0),"data-management"===t.value?((0,i.uX)(),(0,i.CE)("div",iu,[l[51]||(l[51]=(0,i.Lk)("h2",{class:"text-lg font-medium mb-4"},"数据管理",-1)),(0,i.Lk)("div",cu,[l[46]||(l[46]=(0,i.Lk)("h3",{class:"text-base font-medium mb-2"},"导出数据",-1)),l[47]||(l[47]=(0,i.Lk)("p",{class:"text-sm text-gray-500 mb-4"}," 将您的待办事项数据导出为 JSON 文件，以便备份或迁移到其他设备。 ",-1)),(0,i.bF)(W,{type:"primary",onClick:p},{icon:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(Xa.A))]})),default:(0,i.k6)((function(){return[l[45]||(l[45]=(0,i.eW)(" 导出数据 "))]})),_:1})]),(0,i.Lk)("div",su,[l[49]||(l[49]=(0,i.Lk)("h3",{class:"text-base font-medium mb-2"},"导入数据",-1)),l[50]||(l[50]=(0,i.Lk)("p",{class:"text-sm text-gray-500 mb-4"},[(0,i.eW)(" 从之前导出的 JSON 文件中恢复您的待办事项数据。 "),(0,i.Lk)("br"),(0,i.Lk)("span",{class:"text-yellow-500"},"注意：导入数据将覆盖当前的所有数据！")],-1)),(0,i.bF)(S,{accept:".json","show-upload-list":!1,"before-upload":m},{default:(0,i.k6)((function(){return[(0,i.bF)(W,null,{icon:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(Ia.A))]})),default:(0,i.k6)((function(){return[l[48]||(l[48]=(0,i.eW)(" 导入数据 "))]})),_:1})]})),_:1})])])):(0,i.Q3)("",!0),"menu-management"===t.value?((0,i.uX)(),(0,i.Wv)(g,{key:5,class:"settings-card"},{default:(0,i.k6)((function(){return[(0,i.bF)(Ga)]})),_:1})):(0,i.Q3)("",!0),(0,i.Lk)("div",du,[(0,i.bF)(E,{type:"primary",onClick:d},{default:(0,i.k6)((function(){return l[52]||(l[52]=[(0,i.eW)("保存设置")])})),_:1}),(0,i.bF)(E,{onClick:f},{default:(0,i.k6)((function(){return l[53]||(l[53]=[(0,i.eW)("恢复默认")])})),_:1})])]})),_:1})]})),_:1})])}}};const vu=(0,h.A)(fu,[["__scopeId","data-v-1c286a15"]]);var pu=vu,mu=(n(37550),{class:"note-list"}),ku=["onTouchstart","onTouchmove","onTouchend","onMouseenter"],gu=["onClick"],bu={class:"note-header"},hu={class:"note-title"},yu={class:"note-actions"},_u={class:"note-preview"},Fu={class:"note-footer"},wu={class:"note-date"},Lu={class:"note-tags"},Cu=["onClick"],xu={__name:"NoteList",props:{notes:{type:Array,default:function(){return[]}}},emits:["select","delete"],setup:function(e,t){var n=t.emit,l=n,u=(0,s.KR)(null),r=(0,s.KR)(0),o=0,d=0,f=function(e,t){o=e.touches[0].clientX,d=t===u.value?r.value:0,u.value=t},p=function(e){if(u.value){var t=e.touches[0].clientX-o,n=Math.min(0,Math.max(-80,d+t));r.value=n}},m=function(e){u.value&&(r.value<=-40?r.value=-80:(r.value=0,u.value=null))},k=(0,s.KR)(null),g=(0,s.KR)(null),b=(0,s.KR)(null),h=(0,s.KR)([]),y=function(e){h.value.push(e),l("delete",e),u.value=null,r.value=0,b.value=setTimeout((function(){h.value.shift()}),3e3)},_=function(e){h.value.push(e),l("delete",e),b.value=setTimeout((function(){h.value.shift()}),3e3)},F=function(){b.value&&(clearTimeout(b.value),b.value=null);var e=h.value.pop();e&&l("undoDelete",e)},w=function(e){(e.ctrlKey||e.metaKey)&&"z"===e.key&&(e.preventDefault(),F())};(0,i.sV)((function(){window.addEventListener("keydown",w)})),(0,i.hi)((function(){window.removeEventListener("keydown",w)}));var L=function(e){return e?new Date(e).toLocaleString():""};return function(t,n){var l=(0,i.g2)("el-icon"),o=(0,i.g2)("el-button"),d=(0,i.g2)("el-tag");return(0,i.uX)(),(0,i.CE)("div",mu,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.notes,(function(e){return(0,i.uX)(),(0,i.CE)("div",{key:e.id,class:"note-item-wrapper",onTouchstart:function(t){return f(t,e)},onTouchmove:function(t){return p(t,e)},onTouchend:function(t){return m(e)},onMouseenter:function(t){return k.value=e},onMouseleave:n[0]||(n[0]=function(e){return k.value=null})},[(0,i.Lk)("div",{class:(0,c.C4)(["note-item",{"is-pinned":e.isPinned,sliding:e===u.value,deleting:e===g.value}]),style:(0,c.Tr)({transform:"translateX(".concat(e===u.value?r.value:0,"px)")}),onClick:function(n){return t.$emit("select",e)}},[(0,i.Lk)("div",bu,[(0,i.Lk)("h3",hu,(0,c.v_)(e.title||"无标题便签"),1),(0,i.Lk)("div",yu,[e.isPinned?((0,i.uX)(),(0,i.Wv)(l,{key:0},{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.StarFilled))]})),_:1})):(0,i.Q3)("",!0),k.value===e?((0,i.uX)(),(0,i.Wv)(o,{key:1,class:"delete-btn",onClick:(0,a.D$)((function(t){return _(e)}),["stop"])},{default:(0,i.k6)((function(){return[(0,i.bF)(l,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Delete))]})),_:1})]})),_:2},1032,["onClick"])):(0,i.Q3)("",!0)])]),(0,i.Lk)("p",_u,(0,c.v_)(e.content),1),(0,i.Lk)("div",Fu,[(0,i.Lk)("span",wu,(0,c.v_)(L(e.updatedAt)),1),(0,i.Lk)("div",Lu,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.tags,(function(e){return(0,i.uX)(),(0,i.Wv)(d,{key:e,size:"small",effect:"plain"},{default:(0,i.k6)((function(){return[(0,i.eW)((0,c.v_)(e),1)]})),_:2},1024)})),128))])])],14,gu),(0,i.Lk)("div",{class:(0,c.C4)(["delete-button",{visible:e===u.value&&r.value<=-50}]),onClick:function(t){return y(e)}},[(0,i.bF)(l,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Delete))]})),_:1})],10,Cu)],40,ku)})),128))])}}};const Au=(0,h.A)(xu,[["__scopeId","data-v-97d2a4da"]]);var Ru=Au,Vu=(n(17642),n(58004),n(33853),n(45876),n(32475),n(15024),n(31698),(0,Y.nY)("note",(function(){var e=(0,s.KR)(JSON.parse(localStorage.getItem("notes")||"[]")),t=(0,i.EW)((function(){return e.value.filter((function(e){return e.isPinned}))})),n=(0,i.EW)((function(){return e.value.filter((function(e){return!e.isPinned}))})),l=(0,i.EW)((function(){return e.value.filter((function(e){return e.isArchived}))})),a=function(){localStorage.setItem("notes",JSON.stringify(e.value))},u=function(t){var n={id:Date.now().toString(),title:t.title||"",content:t.content||"",tags:t.tags||[],isPinned:t.isPinned||!1,isArchived:!1,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};return e.value.unshift(n),a(),n},r=function(t,n){var l=e.value.findIndex((function(e){return e.id===t}));l>-1&&(e.value[l]=(0,D.A)((0,D.A)((0,D.A)({},e.value[l]),n),{},{updatedAt:(new Date).toISOString()}),a())},o=function(t){var n=e.value.findIndex((function(e){return e.id===t}));n>-1&&(e.value.splice(n,1),a())},c=function(t){var n=e.value.find((function(e){return e.id===t}));n&&(n.isPinned=!n.isPinned,a())},d=function(t){var n=e.value.find((function(e){return e.id===t}));n&&(n.isArchived=!n.isArchived,n.isPinned=!1,a())},f=function(t,n){var l=e.value.find((function(e){return e.id===t}));return l?(Array.isArray(l.tags)||(l.tags=[]),l.tags=(0,$e.A)(new Set([].concat((0,$e.A)(l.tags),[n]))),a(),(0,$e.A)(l.tags)):[]},v=function(t,n){var l=e.value.find((function(e){return e.id===t}));l&&(l.tags=l.tags.filter((function(e){return e!==n})),a())},p=function(t){e.value.push(t),a()};return{notes:e,pinnedNotes:t,unpinnedNotes:n,archivedNotes:l,addNote:u,updateNote:r,deleteNote:o,togglePin:c,toggleArchive:d,addTag:f,removeTag:v,restoreNote:p}}))),Du={class:"notes-container"},Wu={class:"notes-sidebar"},Su={class:"sidebar-header"},Eu={class:"notes-list"},Ku={class:"note-editor"},Xu={class:"note-title-section"},Iu={class:"editor-actions"},Mu={class:"note-tags-section"},Tu={class:"tags-row"},Uu={class:"tags-container"},Nu={class:"note-info"},Ou={class:"update-time"},zu={class:"word-count"},Pu={class:"note-content-section"},Yu={key:1,class:"empty-state"},qu={__name:"NotesView",setup:function(e){var t=(0,s.KR)(null),n=Vu(),l=(0,s.KR)(""),u=(0,s.KR)("all"),d=(0,s.KR)(null),f=(0,s.KR)(!1),m=(0,s.KR)(""),k=(0,s.KR)(!1),g=(0,s.KR)(!1),b=(0,s.KR)(null),h=(0,i.EW)((function(){var e=[].concat((0,$e.A)(n.pinnedNotes),(0,$e.A)(n.unpinnedNotes));if(!l.value)return e;var t=l.value.toLowerCase();return e.filter((function(e){return e.title.toLowerCase().includes(t)||e.content.toLowerCase().includes(t)||e.tags.some((function(e){return e.toLowerCase().includes(t)}))}))})),y=(0,i.EW)((function(){var e=n.archivedNotes;if(!l.value)return e;var t=l.value.toLowerCase();return e.filter((function(e){return e.title.toLowerCase().includes(t)||e.content.toLowerCase().includes(t)||e.tags.some((function(e){return e.toLowerCase().includes(t)}))}))})),_=(0,i.EW)((function(){var e=[].concat((0,$e.A)(n.pinnedNotes),(0,$e.A)(n.unpinnedNotes)).filter((function(e){return!e.isArchived}));if(!l.value)return e;var t=l.value.toLowerCase();return e.filter((function(e){return e.title.toLowerCase().includes(t)||e.content.toLowerCase().includes(t)||e.tags.some((function(e){return e.toLowerCase().includes(t)}))}))})),F=function(){var e=n.addNote({title:"",content:"",tags:[]});d.value=e},w=function(e){d.value=(0,D.A)({},e)},L=function(){d.value&&n.updateNote(d.value.id,d.value)},C=function(){var e=(0,o.A)((0,r.A)().mark((function e(){return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.s.confirm("确定要删除这个便签吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 3:n.deleteNote(d.value.id),d.value=null,e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),x=function(){d.value&&(n.togglePin(d.value.id),d.value.isPinned=!d.value.isPinned)},A=function(){if(d.value){n.toggleArchive(d.value.id);var e=!d.value.isArchived;d.value=(0,D.A)((0,D.A)({},d.value),{},{isArchived:e,isPinned:!e&&d.value.isPinned}),"archived"!==u.value||e||(d.value=null)}},R=function(){var e;if(null!==(e=m.value)&&void 0!==e&&e.trim()&&d.value){var t=m.value.trim();if(d.value.tags.includes(t))return;var l=n.addTag(d.value.id,t);Array.isArray(l)&&(d.value=(0,D.A)((0,D.A)({},d.value),{},{tags:(0,$e.A)(l)})),m.value="",f.value=!1}},V=function(e){d.value&&(n.removeTag(d.value.id,e),d.value=(0,D.A)((0,D.A)({},d.value),{},{tags:d.value.tags.filter((function(t){return t!==e}))}))},W=null,S=function(){W&&clearTimeout(W),W=setTimeout(L,1e3)};(0,i.wB)((function(){var e;return null===(e=d.value)||void 0===e?void 0:e.content}),S),(0,i.wB)((function(){var e;return null===(e=d.value)||void 0===e?void 0:e.title}),S);var E=function(){var e=(0,o.A)((0,r.A)().mark((function e(){var n;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return f.value=!0,e.next=3,(0,i.dY)();case 3:null===(n=t.value)||void 0===n||null===(n=n.input)||void 0===n||n.focus();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){g.value=!0,(0,i.dY)((function(){var e;null===(e=b.value)||void 0===e||null===(e=e.input)||void 0===e||e.focus()}))},X=function(){g.value=!1,k.value=!1,L()},I=function(e){if(!e)return"";var t=new Date(e),n=t.getFullYear(),l=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0"),u=String(t.getHours()).padStart(2,"0"),r=String(t.getMinutes()).padStart(2,"0"),o=String(t.getSeconds()).padStart(2,"0");return"".concat(n,"年").concat(l,"月").concat(a,"日 ").concat(u,":").concat(r,":").concat(o)};(0,i.wB)(u,(function(){d.value=null}));var M=function(e){n.restoreNote(e)};return function(e,n){var r,o=(0,i.g2)("el-input"),p=(0,i.g2)("el-icon"),L=(0,i.g2)("el-button"),D=(0,i.g2)("el-tab-pane"),W=(0,i.g2)("el-tabs"),S=(0,i.g2)("el-button-group"),T=(0,i.g2)("el-tag"),U=(0,i.g2)("el-empty");return(0,i.uX)(),(0,i.CE)("div",Du,[(0,i.Lk)("div",Wu,[(0,i.Lk)("div",Su,[(0,i.bF)(o,{modelValue:l.value,"onUpdate:modelValue":n[0]||(n[0]=function(e){return l.value=e}),placeholder:"搜索便签","prefix-icon":"Search",class:"search-input"},null,8,["modelValue"]),(0,i.bF)(L,{type:"primary",onClick:F,class:"create-btn"},{default:(0,i.k6)((function(){return[(0,i.bF)(p,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Plus))]})),_:1}),n[8]||(n[8]=(0,i.eW)("新建便签 "))]})),_:1})]),(0,i.Lk)("div",Eu,[(0,i.bF)(W,{modelValue:u.value,"onUpdate:modelValue":n[1]||(n[1]=function(e){return u.value=e})},{default:(0,i.k6)((function(){return[(0,i.bF)(D,{label:"全部",name:"all"},{default:(0,i.k6)((function(){return[(0,i.bF)(Ru,{notes:h.value,onSelect:w,onDelete:C,onUndoDelete:M},null,8,["notes"])]})),_:1}),(0,i.bF)(D,{label:"未归档",name:"unarchived"},{default:(0,i.k6)((function(){return[(0,i.bF)(Ru,{notes:_.value,onSelect:w,onDelete:C},null,8,["notes"])]})),_:1}),(0,i.bF)(D,{label:"已归档",name:"archived"},{default:(0,i.k6)((function(){return[(0,i.bF)(Ru,{notes:y.value,onSelect:w,onDelete:C},null,8,["notes"])]})),_:1})]})),_:1},8,["modelValue"])])]),(0,i.Lk)("div",Ku,[d.value?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[(0,i.Lk)("div",Xu,[(0,i.Lk)("div",{class:"title-content",onMouseenter:n[3]||(n[3]=function(e){return k.value=!0}),onMouseleave:n[4]||(n[4]=function(e){return k.value=!1})},[g.value?((0,i.uX)(),(0,i.Wv)(o,{key:0,modelValue:d.value.title,"onUpdate:modelValue":n[2]||(n[2]=function(e){return d.value.title=e}),placeholder:"标题",onBlur:X,onKeyup:(0,a.jR)(X,["enter"]),ref_key:"titleInputRef",ref:b},null,8,["modelValue"])):((0,i.uX)(),(0,i.CE)("h2",{key:1,class:"note-title",onClick:K},[(0,i.eW)((0,c.v_)(d.value.title||I(d.value.createdAt))+" ",1),(0,i.bo)((0,i.bF)(p,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Edit))]})),_:1},512),[[a.aG,k.value]])]))],32),(0,i.Lk)("div",Iu,[(0,i.bF)(S,null,{default:(0,i.k6)((function(){return[(0,i.bF)(L,{type:d.value.isPinned?"primary":"",onClick:x,title:d.value.isPinned?"取消收藏":"收藏"},{default:(0,i.k6)((function(){return[(0,i.bF)(p,null,{default:(0,i.k6)((function(){return[((0,i.uX)(),(0,i.Wv)((0,i.$y)(d.value.isPinned?"StarFilled":"Star")))]})),_:1})]})),_:1},8,["type","title"]),(0,i.bF)(L,{onClick:A,type:d.value.isArchived?"warning":"",title:d.value.isArchived?"取消归档":"归档"},{default:(0,i.k6)((function(){return[(0,i.bF)(p,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Box))]})),_:1})]})),_:1},8,["type","title"]),(0,i.bF)(L,{onClick:C,title:"删除"},{default:(0,i.k6)((function(){return[(0,i.bF)(p,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Delete))]})),_:1})]})),_:1})]})),_:1})])]),(0,i.Lk)("div",Mu,[(0,i.Lk)("div",Tu,[(0,i.Lk)("div",Uu,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(d.value.tags,(function(e){return(0,i.uX)(),(0,i.Wv)(T,{key:e,closable:"",onClose:function(t){return V(e)},class:"note-tag"},{default:(0,i.k6)((function(){return[(0,i.eW)((0,c.v_)(e),1)]})),_:2},1032,["onClose"])})),128)),f.value?((0,i.uX)(),(0,i.Wv)(o,{key:1,modelValue:m.value,"onUpdate:modelValue":n[5]||(n[5]=function(e){return m.value=e}),ref_key:"tagInputRef",ref:t,onKeyup:(0,a.jR)(R,["enter"]),onBlur:n[6]||(n[6]=function(e){return f.value=!1}),size:"small",style:{width:"100px"}},null,8,["modelValue"])):((0,i.uX)(),(0,i.Wv)(L,{key:0,link:"",onClick:E},{default:(0,i.k6)((function(){return n[9]||(n[9]=[(0,i.eW)(" + 新标签 ")])})),_:1}))]),(0,i.Lk)("div",Nu,[(0,i.Lk)("span",Ou,"更新时间："+(0,c.v_)(I(d.value.updatedAt)),1),(0,i.Lk)("span",zu,"当前字数："+(0,c.v_)((null===(r=d.value.content)||void 0===r?void 0:r.length)||0),1)])])]),(0,i.Lk)("div",Pu,[(0,i.bF)(o,{modelValue:d.value.content,"onUpdate:modelValue":n[7]||(n[7]=function(e){return d.value.content=e}),type:"textarea",placeholder:"开始输入..."},null,8,["modelValue"])])],64)):((0,i.uX)(),(0,i.CE)("div",Yu,[(0,i.bF)(U,{description:"选择或创建一个便签"})]))])])}}};const Bu=(0,h.A)(qu,[["__scopeId","data-v-3d3687b8"]]);var Ju=Bu,Qu={class:"kb-container"},ju={class:"kb-sidebar"},Gu={class:"tree-node"},$u={class:"kb-main"},Hu={class:"kb-toolbar"},Zu={key:0,class:"kb-editor"},er={class:"doc-meta"},tr={key:1,class:"empty-state"},nr={__name:"KnowledgeBaseView",setup:function(e){var t=["bold","underline","italic","strikethrough","sub","sup","quote","unorderedList","orderedList","codeRow","code","link","image","table","save"],n=(0,s.KR)([]),l=(0,s.KR)(""),a=(0,s.KR)(null),u={children:"children",label:"name"},d=function(e){console.log("节点点击:",e)},f=function(){},p=function(){},m=function(){},k=function(e){return e?new Date(e).toLocaleString():""},g=function(){var e=(0,o.A)((0,r.A)().mark((function e(t,n,l){var a;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:try{a="uploaded_image_url",n({url:a,desc:"图片描述"})}catch(t){console.error("图片上传失败:",t)}case 1:case"end":return e.stop()}}),e)})));return function(t,n,l){return e.apply(this,arguments)}}();return function(e,r){var o=(0,i.g2)("el-icon"),b=(0,i.g2)("el-tree"),h=(0,i.g2)("el-button"),y=(0,i.g2)("el-button-group"),_=(0,i.g2)("el-input"),F=(0,i.g2)("md-editor"),w=(0,i.g2)("el-tag"),L=(0,i.g2)("el-empty");return(0,i.uX)(),(0,i.CE)("div",Qu,[(0,i.Lk)("div",ju,[(0,i.bF)(b,{data:n.value,props:u,onNodeClick:d},{default:(0,i.k6)((function(e){var t=e.node;return[(0,i.Lk)("div",Gu,[(0,i.bF)(o,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Folder))]})),_:1}),(0,i.Lk)("span",null,(0,c.v_)(t.label),1)])]})),_:1},8,["data"])]),(0,i.Lk)("div",$u,[(0,i.Lk)("div",Hu,[(0,i.bF)(y,null,{default:(0,i.k6)((function(){return[(0,i.bF)(h,{onClick:f},{default:(0,i.k6)((function(){return r[3]||(r[3]=[(0,i.eW)("新建文档")])})),_:1}),(0,i.bF)(h,{onClick:p},{default:(0,i.k6)((function(){return r[4]||(r[4]=[(0,i.eW)("新建文件夹")])})),_:1})]})),_:1}),(0,i.bF)(_,{modelValue:l.value,"onUpdate:modelValue":r[0]||(r[0]=function(e){return l.value=e}),placeholder:"搜索文档","prefix-icon":"Search",style:{width:"200px"}},null,8,["modelValue"])]),a.value?((0,i.uX)(),(0,i.CE)("div",Zu,[(0,i.bF)(_,{modelValue:a.value.title,"onUpdate:modelValue":r[1]||(r[1]=function(e){return a.value.title=e}),placeholder:"文档标题"},null,8,["modelValue"]),(0,i.bF)(F,{modelValue:a.value.content,"onUpdate:modelValue":r[2]||(r[2]=function(e){return a.value.content=e}),height:"70vh",onSave:m,onUploadImg:g,toolbars:t},null,8,["modelValue"]),(0,i.Lk)("div",er,[(0,i.Lk)("span",null,"最后编辑: "+(0,c.v_)(k(a.value.updatedAt)),1),(0,i.bF)(w,{size:"small"},{default:(0,i.k6)((function(){return[(0,i.eW)((0,c.v_)(a.value.category),1)]})),_:1})])])):((0,i.uX)(),(0,i.CE)("div",tr,[(0,i.bF)(L,{description:"选择或创建一个文档"})]))])])}}};const lr=(0,h.A)(nr,[["__scopeId","data-v-391e8044"]]);var ar=lr,ur={class:"mindmap-container"},rr={class:"toolbar"},or={class:"sidebar"},ir={class:"map-list-header"},cr={class:"map-list"},sr=["onClick"],dr={class:"map-info"},fr={class:"main-content"},vr={key:0,class:"empty-state"},pr={__name:"MindMapView",setup:function(e){var t=(0,s.KR)(null),n=(0,s.KR)(null),l=(0,s.KR)(null),a=(0,s.KR)([]),u=(0,s.KR)(""),d=(0,s.KR)(!1),f=(0,s.KR)("default"),m=(0,s.KR)(!1),k=(0,s.KR)(!1),g=(0,s.KR)({title:"",description:""}),b=[{label:"默认主题",value:"default"},{label:"清新主题",value:"fresh"},{label:"暗色主题",value:"dark"},{label:"商务主题",value:"business"}],h=(0,i.EW)((function(){return u.value?a.value.filter((function(e){return e.title.toLowerCase().includes(u.value.toLowerCase())})):a.value})),y=null,_=function(e){if(l.value=e,n.value&&e.content){var a=e.content;t.value&&(n.value.destroy(),n.value=new ol.A({el:t.value,data:a,width:t.value.clientWidth,height:t.value.clientHeight,layout:"mindMap",draggable:!0,keyboard:!0,contextMenu:!0,theme:"classic",themeConfig:{nodeMargin:20,lineWidth:2,lineColor:"#666"},viewportOptions:{padding:50}}),n.value.on("data_change",(function(){y&&clearTimeout(y),y=setTimeout((function(){L()}),1e3)}))),n.value.render()}},F=function(){d.value=!0},w=function(){if(g.value.title){var e={id:Date.now(),title:g.value.title,description:g.value.description,content:{data:{text:g.value.title,expand:!0,uid:Date.now().toString(),children:[]}},createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};a.value.unshift(e),X(),d.value=!1,l.value=e,n.value||M(),(0,i.dY)((function(){_(e)})),P.nk.success("创建成功")}else P.nk.warning("请输入标题")},L=function(){var e,t;if(l.value){var u=(null===(e=n.value)||void 0===e?void 0:e.getData())||{},r={data:(0,D.A)((0,D.A)({},u.data),{},{children:(null===(t=u.data)||void 0===t?void 0:t.children)||[]})},o=a.value.findIndex((function(e){return e.id===l.value.id}));o>-1&&(a.value[o]=(0,D.A)((0,D.A)({},l.value),{},{content:r,updatedAt:(new Date).toISOString()}),X(),console.log("保存的数据:",r))}},C=function(){P.nk.info("导出功能开发中...")},x=function(){if(n.value){var e=n.value.getZoom();n.value.setZoom(e+.1)}},A=function(){if(n.value){var e=n.value.getZoom();n.value.setZoom(Math.max(.1,e-.1))}},R=function(){var e;return null===(e=n.value)||void 0===e?void 0:e.setZoom(1)},V=function(){var e;return null===(e=n.value)||void 0===e?void 0:e.undo()},W=function(){var e;return null===(e=n.value)||void 0===e?void 0:e.redo()},S=function(){var e=(0,o.A)((0,r.A)().mark((function e(t,u){var o,i,c,s,d,f,v,m;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.t0=t,e.next="rename"===e.t0?3:"duplicate"===e.t0?15:"delete"===e.t0?20:30;break;case 3:return e.prev=3,e.next=6,p.s.prompt("请输入新的标题","重命名",{confirmButtonText:"确定",cancelButtonText:"取消",inputValue:u.title,inputValidator:function(e){return!!e||"标题不能为空"}});case 6:c=e.sent,s=c.value,o=a.value.findIndex((function(e){return e.id===u.id})),o>-1&&(a.value[o]=(0,D.A)((0,D.A)({},u),{},{title:s,updatedAt:(new Date).toISOString()}),X(),P.nk.success("重命名成功")),e.next=14;break;case 12:e.prev=12,e.t1=e["catch"](3);case 14:return e.abrupt("break",30);case 15:return i=(0,D.A)((0,D.A)({},u),{},{id:Date.now(),title:"".concat(u.title," - 副本"),createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()}),a.value.unshift(i),X(),P.nk.success("复制成功"),e.abrupt("break",30);case 20:return e.prev=20,e.next=23,p.s.confirm("确定要删除该导图吗？","提示",{type:"warning"});case 23:o=a.value.findIndex((function(e){return e.id===u.id})),o>-1&&(a.value.splice(o,1),X(),(null===(d=l.value)||void 0===d?void 0:d.id)===u.id&&(l.value=null,null===(f=n.value)||void 0===f||f.setData({data:{text:"中心主题",expand:!0,uid:Date.now().toString(),children:[]}}),null===(v=n.value)||void 0===v||v.setLayout("mindMap"),null===(m=n.value)||void 0===m||m.render()),P.nk.success("删除成功")),e.next=29;break;case 27:e.prev=27,e.t2=e["catch"](20);case 29:return e.abrupt("break",30);case 30:case"end":return e.stop()}}),e,null,[[3,12],[20,27]])})));return function(t,n){return e.apply(this,arguments)}}(),E=function(){var e,t,l;null===(e=n.value)||void 0===e||e.setData({data:{text:"中心主题",expand:!0,uid:Date.now().toString(),children:[]}}),null===(t=n.value)||void 0===t||t.setLayout("mindMap"),null===(l=n.value)||void 0===l||l.render()},K=function(e){return e?new Date(e).toLocaleString():""},X=function(){localStorage.setItem("mindmaps",JSON.stringify(a.value))},I=function(){var e=localStorage.getItem("mindmaps");e&&(a.value=JSON.parse(e),a.value.length>0?_(a.value[0]):E())};(0,i.sV)((function(){I(),a.value.length>0&&(0,i.dY)((function(){M()}))})),(0,i.xo)((function(){var e;y&&clearTimeout(y),null===(e=n.value)||void 0===e||e.destroy()}));var M=function(){if(t.value){var e={data:{text:"中心主题",expand:!0,uid:Date.now().toString(),children:[]}};n.value=new ol.A({el:t.value,data:e,width:t.value.clientWidth,height:t.value.clientHeight,layout:"mindMap",draggable:!0,keyboard:!0,contextMenu:!0,theme:"classic",themeConfig:{nodeMargin:20,lineWidth:2,lineColor:"#666"},viewportOptions:{padding:50}}),n.value.on("data_change",(function(){L()})),(0,i.dY)((function(){n.value.render()}))}};return function(e,n){var r=(0,i.g2)("el-icon"),o=(0,i.g2)("el-button"),p=(0,i.g2)("el-button-group"),y=(0,i.g2)("el-option"),D=(0,i.g2)("el-select"),E=(0,i.g2)("el-input"),X=(0,i.g2)("el-dropdown-item"),I=(0,i.g2)("el-dropdown-menu"),M=(0,i.g2)("el-dropdown"),T=(0,i.g2)("el-empty"),U=(0,i.g2)("el-form-item"),N=(0,i.g2)("el-form"),O=(0,i.g2)("el-dialog");return(0,i.uX)(),(0,i.CE)("div",ur,[(0,i.Lk)("div",rr,[(0,i.bF)(p,null,{default:(0,i.k6)((function(){return[(0,i.bF)(o,{onClick:F},{default:(0,i.k6)((function(){return[(0,i.bF)(r,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Plus))]})),_:1}),n[6]||(n[6]=(0,i.eW)("新建导图 "))]})),_:1}),(0,i.bF)(o,{onClick:L},{default:(0,i.k6)((function(){return[(0,i.bF)(r,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Save))]})),_:1}),n[7]||(n[7]=(0,i.eW)("保存 "))]})),_:1}),(0,i.bF)(o,{onClick:C},{default:(0,i.k6)((function(){return[(0,i.bF)(r,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Download))]})),_:1}),n[8]||(n[8]=(0,i.eW)("导出 "))]})),_:1})]})),_:1}),(0,i.bF)(p,null,{default:(0,i.k6)((function(){return[(0,i.bF)(o,{onClick:x},{default:(0,i.k6)((function(){return[(0,i.bF)(r,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.ZoomIn))]})),_:1})]})),_:1}),(0,i.bF)(o,{onClick:A},{default:(0,i.k6)((function(){return[(0,i.bF)(r,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.ZoomOut))]})),_:1})]})),_:1}),(0,i.bF)(o,{onClick:R},{default:(0,i.k6)((function(){return[(0,i.bF)(r,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.FullScreen))]})),_:1})]})),_:1})]})),_:1}),(0,i.bF)(p,null,{default:(0,i.k6)((function(){return[(0,i.bF)(o,{onClick:V,disabled:!m.value},{default:(0,i.k6)((function(){return[(0,i.bF)(r,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Back))]})),_:1})]})),_:1},8,["disabled"]),(0,i.bF)(o,{onClick:W,disabled:!k.value},{default:(0,i.k6)((function(){return[(0,i.bF)(r,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Right))]})),_:1})]})),_:1},8,["disabled"])]})),_:1}),(0,i.bF)(D,{modelValue:f.value,"onUpdate:modelValue":n[0]||(n[0]=function(e){return f.value=e}),placeholder:"选择主题"},{default:(0,i.k6)((function(){return[((0,i.uX)(),(0,i.CE)(i.FK,null,(0,i.pI)(b,(function(e){return(0,i.bF)(y,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),64))]})),_:1},8,["modelValue"])]),(0,i.Lk)("div",or,[(0,i.Lk)("div",ir,[n[9]||(n[9]=(0,i.Lk)("h3",null,"我的导图",-1)),(0,i.bF)(E,{modelValue:u.value,"onUpdate:modelValue":n[1]||(n[1]=function(e){return u.value=e}),placeholder:"搜索导图...","prefix-icon":"Search"},null,8,["modelValue"])]),(0,i.Lk)("div",cr,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(h.value,(function(e){var t;return(0,i.uX)(),(0,i.CE)("div",{key:e.id,class:(0,c.C4)(["map-item",{active:(null===(t=l.value)||void 0===t?void 0:t.id)===e.id}]),onClick:function(t){return _(e)}},[(0,i.Lk)("div",dr,[(0,i.Lk)("h4",null,(0,c.v_)(e.title),1),(0,i.Lk)("p",null,(0,c.v_)(K(e.updatedAt)),1)]),(0,i.bF)(M,{trigger:"click",onCommand:function(t){return S(t,e)}},{dropdown:(0,i.k6)((function(){return[(0,i.bF)(I,null,{default:(0,i.k6)((function(){return[(0,i.bF)(X,{command:"rename"},{default:(0,i.k6)((function(){return n[10]||(n[10]=[(0,i.eW)("重命名")])})),_:1}),(0,i.bF)(X,{command:"duplicate"},{default:(0,i.k6)((function(){return n[11]||(n[11]=[(0,i.eW)("复制")])})),_:1}),(0,i.bF)(X,{command:"delete",divided:""},{default:(0,i.k6)((function(){return n[12]||(n[12]=[(0,i.eW)("删除")])})),_:1})]})),_:1})]})),default:(0,i.k6)((function(){return[(0,i.bF)(o,{type:"text"},{default:(0,i.k6)((function(){return[(0,i.bF)(r,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.More))]})),_:1})]})),_:1})]})),_:2},1032,["onCommand"])],10,sr)})),128))])]),(0,i.Lk)("div",fr,[0===a.value.length?((0,i.uX)(),(0,i.CE)("div",vr,[(0,i.bF)(T,{description:"还没有思维导图"},{default:(0,i.k6)((function(){return[(0,i.bF)(o,{type:"primary",onClick:F},{default:(0,i.k6)((function(){return n[13]||(n[13]=[(0,i.eW)(" 创建第一个思维导图 ")])})),_:1})]})),_:1})])):((0,i.uX)(),(0,i.CE)("div",{key:1,class:"mindmap-wrapper",ref_key:"mindMapContainer",ref:t},null,512))]),(0,i.bF)(O,{modelValue:d.value,"onUpdate:modelValue":n[5]||(n[5]=function(e){return d.value=e}),title:"新建思维导图",width:"30%"},{footer:(0,i.k6)((function(){return[(0,i.bF)(o,{onClick:n[4]||(n[4]=function(e){return d.value=!1})},{default:(0,i.k6)((function(){return n[14]||(n[14]=[(0,i.eW)("取消")])})),_:1}),(0,i.bF)(o,{type:"primary",onClick:w},{default:(0,i.k6)((function(){return n[15]||(n[15]=[(0,i.eW)("创建")])})),_:1})]})),default:(0,i.k6)((function(){return[(0,i.bF)(N,{model:g.value,"label-width":"80px"},{default:(0,i.k6)((function(){return[(0,i.bF)(U,{label:"标题"},{default:(0,i.k6)((function(){return[(0,i.bF)(E,{modelValue:g.value.title,"onUpdate:modelValue":n[2]||(n[2]=function(e){return g.value.title=e}),placeholder:"输入导图标题"},null,8,["modelValue"])]})),_:1}),(0,i.bF)(U,{label:"描述"},{default:(0,i.k6)((function(){return[(0,i.bF)(E,{modelValue:g.value.description,"onUpdate:modelValue":n[3]||(n[3]=function(e){return g.value.description=e}),type:"textarea",placeholder:"输入导图描述"},null,8,["modelValue"])]})),_:1})]})),_:1},8,["model"])]})),_:1},8,["modelValue"])])}}};const mr=(0,h.A)(pr,[["__scopeId","data-v-05b4c8aa"]]);var kr=mr,gr={class:"reviews-container"},br={class:"page-header"},hr={class:"filter-section"},yr={class:"review-item-header"},_r={class:"review-title"},Fr={class:"review-actions"},wr={class:"review-content"},Lr={key:0,class:"review-section"},Cr={key:1,class:"review-section"},xr={key:2,class:"review-section"},Ar={class:"dialog-footer"},Rr={__name:"ReviewsView",setup:function(e){var t=q(),n=(0,s.KR)("all"),l=(0,s.KR)(!1),a=(0,s.KR)(null),u=(0,s.KR)(!1),d=(0,s.KR)(null),f=(0,s.KR)({type:"daily",title:"",achievements:"",lessons:"",plans:""}),m={type:[{required:!0,message:"请选择复盘类型",trigger:"change"}],title:[{required:!0,message:"请输入复盘标题",trigger:"blur"}],achievements:[{required:!0,message:"请输入主要成就",trigger:"blur"}],lessons:[{required:!0,message:"请输入经验教训",trigger:"blur"}],plans:[{required:!0,message:"请输入下步计划",trigger:"blur"}]},k=(0,i.EW)((function(){return u.value?"编辑复盘":"新建复盘"})),g=(0,i.EW)((function(){return t.getFilteredReviews(n.value)}));(0,i.wB)((function(){return f.value.type}),(function(e){if(!u.value){var t=new Date;switch(e){case"daily":f.value.title=b(t);break;case"weekly":var n=new Date(t);n.setDate(t.getDate()-t.getDay()+1);var l=new Date(t.getFullYear(),0,1),a=Math.ceil(((t-l)/864e5+l.getDay()+1)/7);f.value.title="".concat(t.getFullYear(),"年").concat(t.getMonth()+1,"月 第").concat(a,"周");break;case"monthly":f.value.title="".concat(t.getFullYear(),"年").concat(t.getMonth()+1,"月");break}}}));var b=function(e){return e.toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g,"年").replace(/-/g,"月")+"日"},h=function(){u.value=!1,d.value=null;var e=new Date,t="all"===n.value?"daily":n.value,a="";switch(t){case"daily":a=b(e);break;case"weekly":var r=new Date(e);r.setDate(e.getDate()-e.getDay()+1);var o=new Date(e.getFullYear(),0,1),i=Math.ceil(((e-o)/864e5+o.getDay()+1)/7);a="".concat(e.getFullYear(),"年").concat(e.getMonth()+1,"月 第").concat(i,"周");break;case"monthly":a="".concat(e.getFullYear(),"年").concat(e.getMonth()+1,"月");break}f.value={type:t,title:a,achievements:"",lessons:"",plans:""},l.value=!0},y=function(e){u.value=!0,d.value=e.id,f.value=(0,D.A)({},e),l.value=!0},_=function(){var e=(0,o.A)((0,r.A)().mark((function e(n){return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.s.confirm("确定要删除这条复盘记录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 3:t.deleteReview(n.id),P.nk.success("删除成功"),e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=(0,o.A)((0,r.A)().mark((function e(){return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a.value){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,a.value.validate((function(e){if(e){var n=new Date,r=n;switch(f.value.type){case"weekly":r=new Date(n),r.setDate(n.getDate()-n.getDay()+1);break;case"monthly":r=new Date(n.getFullYear(),n.getMonth(),1);break}u.value?t.updateReview(d.value,(0,D.A)({},f.value)):t.addReview((0,D.A)((0,D.A)({id:Date.now()},f.value),{},{date:A(r)})),l.value=!1,a.value.resetFields(),P.nk.success(u.value?"更新成功":"复盘记录已保存")}}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(e){var t={daily:"primary",weekly:"success",monthly:"warning"};return t[e]||"info"},L=function(e){var t={daily:"",weekly:"success",monthly:"warning"};return t[e]||"info"},C=function(e){var t=new Date(e.date);switch(e.type){case"daily":return"日复盘";case"weekly":var n=new Date(t);n.setDate(t.getDate()-t.getDay()+1);var l=new Date(t);l.setDate(t.getDate()+(7-t.getDay()));var a=new Date(t.getFullYear(),0,1),u=Math.ceil(((t-a)/864e5+a.getDay()+1)/7);return"周复盘 第".concat(u,"周");case"monthly":var r=["一","二","三","四","五","六","七","八","九","十","十一","十二"];return"月复盘 ".concat(r[t.getMonth()],"月");default:return"未知类型"}},x=function(e){var t=new Date(e.date);switch(e.type){case"daily":return A(t);case"weekly":var n=new Date(t);n.setDate(t.getDate()-t.getDay()+1);var l=new Date(t);return l.setDate(t.getDate()+(7-t.getDay())),"".concat(A(n)," ~ ").concat(A(l));case"monthly":var a=new Date(t.getFullYear(),t.getMonth(),1),u=new Date(t.getFullYear(),t.getMonth()+1,0);return"".concat(A(a)," ~ ").concat(A(u));default:return e.date}},A=function(e){return e.toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g,"-")};return(0,i.sV)((function(){t.loadReviews()})),function(e,t){var u=(0,i.g2)("el-icon"),r=(0,i.g2)("el-button"),o=(0,i.g2)("el-radio-button"),d=(0,i.g2)("el-radio-group"),p=(0,i.g2)("el-tag"),b=(0,i.g2)("el-card"),A=(0,i.g2)("el-timeline-item"),R=(0,i.g2)("el-timeline"),V=(0,i.g2)("el-option"),D=(0,i.g2)("el-select"),W=(0,i.g2)("el-form-item"),S=(0,i.g2)("el-input"),E=(0,i.g2)("el-form"),K=(0,i.g2)("el-dialog");return(0,i.uX)(),(0,i.CE)("div",gr,[(0,i.Lk)("div",br,[t[9]||(t[9]=(0,i.Lk)("h2",null,"复盘记录",-1)),(0,i.bF)(r,{type:"primary",onClick:h},{default:(0,i.k6)((function(){return[(0,i.bF)(u,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Plus))]})),_:1}),t[8]||(t[8]=(0,i.eW)("新建复盘 "))]})),_:1})]),(0,i.Lk)("div",hr,[(0,i.bF)(d,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return n.value=e}),size:"large"},{default:(0,i.k6)((function(){return[(0,i.bF)(o,{label:"all"},{default:(0,i.k6)((function(){return t[10]||(t[10]=[(0,i.eW)("全部")])})),_:1}),(0,i.bF)(o,{label:"daily"},{default:(0,i.k6)((function(){return t[11]||(t[11]=[(0,i.eW)("日复盘")])})),_:1}),(0,i.bF)(o,{label:"weekly"},{default:(0,i.k6)((function(){return t[12]||(t[12]=[(0,i.eW)("周复盘")])})),_:1}),(0,i.bF)(o,{label:"monthly"},{default:(0,i.k6)((function(){return t[13]||(t[13]=[(0,i.eW)("月复盘")])})),_:1})]})),_:1},8,["modelValue"])]),(0,i.bF)(R,null,{default:(0,i.k6)((function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(g.value,(function(e){return(0,i.uX)(),(0,i.Wv)(A,{key:e.id,timestamp:x(e),type:w(e.type)},{default:(0,i.k6)((function(){return[(0,i.bF)(b,{class:"review-item"},{header:(0,i.k6)((function(){return[(0,i.Lk)("div",yr,[(0,i.bF)(p,{type:L(e.type)},{default:(0,i.k6)((function(){return[(0,i.eW)((0,c.v_)(C(e)),1)]})),_:2},1032,["type"]),(0,i.Lk)("span",_r,(0,c.v_)(e.title),1),(0,i.Lk)("div",Fr,[(0,i.bF)(r,{type:"primary",link:"",onClick:function(t){return y(e)}},{default:(0,i.k6)((function(){return t[14]||(t[14]=[(0,i.eW)(" 编辑 ")])})),_:2},1032,["onClick"]),(0,i.bF)(r,{type:"danger",link:"",onClick:function(t){return _(e)}},{default:(0,i.k6)((function(){return t[15]||(t[15]=[(0,i.eW)(" 删除 ")])})),_:2},1032,["onClick"])])])]})),default:(0,i.k6)((function(){return[(0,i.Lk)("div",wr,[e.achievements?((0,i.uX)(),(0,i.CE)("div",Lr,[t[16]||(t[16]=(0,i.Lk)("h4",null,"🎯 主要成就",-1)),(0,i.Lk)("p",null,(0,c.v_)(e.achievements),1)])):(0,i.Q3)("",!0),e.lessons?((0,i.uX)(),(0,i.CE)("div",Cr,[t[17]||(t[17]=(0,i.Lk)("h4",null,"📝 经验教训",-1)),(0,i.Lk)("p",null,(0,c.v_)(e.lessons),1)])):(0,i.Q3)("",!0),e.plans?((0,i.uX)(),(0,i.CE)("div",xr,[t[18]||(t[18]=(0,i.Lk)("h4",null,"📋 下步计划",-1)),(0,i.Lk)("p",null,(0,c.v_)(e.plans),1)])):(0,i.Q3)("",!0)])]})),_:2},1024)]})),_:2},1032,["timestamp","type"])})),128))]})),_:1}),(0,i.bF)(K,{modelValue:l.value,"onUpdate:modelValue":t[7]||(t[7]=function(e){return l.value=e}),title:k.value,width:"60%"},{footer:(0,i.k6)((function(){return[(0,i.Lk)("span",Ar,[(0,i.bF)(r,{onClick:t[6]||(t[6]=function(e){return l.value=!1})},{default:(0,i.k6)((function(){return t[19]||(t[19]=[(0,i.eW)("取消")])})),_:1}),(0,i.bF)(r,{type:"primary",onClick:F},{default:(0,i.k6)((function(){return t[20]||(t[20]=[(0,i.eW)(" 确认 ")])})),_:1})])]})),default:(0,i.k6)((function(){return[(0,i.bF)(E,{model:f.value,ref_key:"reviewFormRef",ref:a,rules:m},{default:(0,i.k6)((function(){return[(0,i.bF)(W,{label:"复盘类型",prop:"type"},{default:(0,i.k6)((function(){return[(0,i.bF)(D,{modelValue:f.value.type,"onUpdate:modelValue":t[1]||(t[1]=function(e){return f.value.type=e})},{default:(0,i.k6)((function(){return[(0,i.bF)(V,{label:"日复盘",value:"daily"}),(0,i.bF)(V,{label:"周复盘",value:"weekly"}),(0,i.bF)(V,{label:"月复盘",value:"monthly"})]})),_:1},8,["modelValue"])]})),_:1}),(0,i.bF)(W,{label:"复盘标题",prop:"title"},{default:(0,i.k6)((function(){return[(0,i.bF)(S,{modelValue:f.value.title,"onUpdate:modelValue":t[2]||(t[2]=function(e){return f.value.title=e}),placeholder:"请输入复盘标题"},null,8,["modelValue"])]})),_:1}),(0,i.bF)(W,{label:"主要成就",prop:"achievements"},{default:(0,i.k6)((function(){return[(0,i.bF)(S,{modelValue:f.value.achievements,"onUpdate:modelValue":t[3]||(t[3]=function(e){return f.value.achievements=e}),type:"textarea",rows:3,placeholder:"记录本阶段的主要成就和进展"},null,8,["modelValue"])]})),_:1}),(0,i.bF)(W,{label:"经验教训",prop:"lessons"},{default:(0,i.k6)((function(){return[(0,i.bF)(S,{modelValue:f.value.lessons,"onUpdate:modelValue":t[4]||(t[4]=function(e){return f.value.lessons=e}),type:"textarea",rows:3,placeholder:"总结经验教训和改进点"},null,8,["modelValue"])]})),_:1}),(0,i.bF)(W,{label:"下步计划",prop:"plans"},{default:(0,i.k6)((function(){return[(0,i.bF)(S,{modelValue:f.value.plans,"onUpdate:modelValue":t[5]||(t[5]=function(e){return f.value.plans=e}),type:"textarea",rows:3,placeholder:"制定下一阶段的计划和目标"},null,8,["modelValue"])]})),_:1})]})),_:1},8,["model"])]})),_:1},8,["modelValue","title"])])}}};const Vr=(0,h.A)(Rr,[["__scopeId","data-v-f79f615c"]]);var Dr=Vr,Wr=n(59804),Sr=n(629),Er=n(48030),Kr=(0,Y.nY)("todo",{state:function(){return{todos:JSON.parse(localStorage.getItem("todos")||"[]")}},actions:{addTodo:function(e){this.todos.push({id:Date.now(),text:e.title,completed:!1,category:e.category||"其他目标",priority:e.priority||"中",date:e.date,dueDate:e.dueDate||null,description:e.description||"",pomodoros:0,createdAt:Date.now()}),this.saveTodos()},updateTodo:function(e){var t=this.todos.findIndex((function(t){return t.id===e.id}));-1!==t&&(this.todos[t]=(0,D.A)((0,D.A)({},this.todos[t]),e),this.saveTodos())},toggleTodo:function(e,t){var n=this.todos.find((function(t){return t.id===e}));n&&(n.completed=t,this.saveTodos())},deleteTodo:function(e){var t=this.todos.findIndex((function(t){return t.id===e}));-1!==t&&(this.todos.splice(t,1),this.saveTodos())},deleteTodosByDate:function(e){var t=Pe()(e).format("YYYY-MM-DD");this.todos=this.todos.filter((function(e){return e.date!==t})),this.saveTodos()},saveTodos:function(){localStorage.setItem("todos",JSON.stringify(this.todos))}},getters:{getTodosByDate:function(e){return function(t){var n=Pe()(t).format("YYYY-MM-DD");return e.todos.filter((function(e){var t=e.date===n,l=e.dueDate&&Pe()(e.dueDate).format("YYYY-MM-DD")===n;return t||l}))}},activeTodos:function(e){return e.todos.filter((function(e){return!e.completed}))},completedTodos:function(e){return e.todos.filter((function(e){return e.completed}))},getTodosByCategory:function(e){return function(t){return e.todos.filter((function(e){return e.category===t}))}}}}),Xr={class:"calendar-container"},Ir={class:"calendar-header"},Mr={class:"calendar-header-left"},Tr={class:"calendar-header-right"},Ur=["onContextmenu"],Nr={class:"date-info"},Or={key:0,class:"holiday-mark"},zr={class:"lunar-date"},Pr={class:"todo-list"},Yr={key:0,class:"todo-tag"},qr={key:1,class:"todo-tag"},Br={__name:"CalendarView",setup:function(e){var t=(0,u.rd)(),n=Kr(),l=(0,s.KR)(Pe()()),r=(0,s.KR)(!1),o=(0,s.KR)(!1),d=(0,s.KR)({x:0,y:0}),f=(0,s.KR)(null),v=(0,s.KR)(!1),p=(0,s.KR)([]),m=(0,s.KR)({title:"",date:null,description:"",priority:"中",category:"其他目标",dueDate:null}),k=Pe()().year()-5,g=function(e){try{var t=Er.Lunar.fromDate(e.toDate()),n=t.getFestivals();if(n.length>0)return n[0];var l=t.getJieQi();return l||(1===t.getDay()?t.getMonthInChinese()+"月":t.getDayInChinese())}catch(a){return console.error("getLunarDate error:",a),""}},b=function(e){return n.getTodosByDate(e)},h=(0,i.EW)((function(){return{left:"".concat(d.value.x,"px"),top:"".concat(d.value.y,"px")}})),y=function(e,t){e.preventDefault(),o.value=!0,d.value={x:Math.min(e.clientX,window.innerWidth-200),y:Math.min(e.clientY,window.innerHeight-150)},f.value=t,v.value=!1,p.value=[t]},_=function(){m.value={title:"",description:"",priority:"中",category:"其他目标",date:Pe()(f.value).format("YYYY-MM-DD"),dueDate:null},r.value=!0,o.value=!1},F=function(){t.push("/todos"),o.value=!1},w=function(){Wr.A.confirm({title:"确认删除",content:"确定要删除这天的所有待办事项吗？",onOk:function(){n.deleteTodosByDate(f.value),He.Ay.success("删除成功"),o.value=!1}})},L=function(){m.value.title?(n.addTodo(m.value),He.Ay.success("添加成功"),r.value=!1):He.Ay.warning("请输入待办事项标题")},C=function(e){o.value&&!e.target.closest(".context-menu")&&(o.value=!1)};window.addEventListener("click",C);var x=function(e){var t=0===e.day()||6===e.day(),n=Er.Lunar.fromDate(e.toDate()),l=n.getFestivals(),a=["春节","元宵节","清明节","劳动节","端午节","中秋节","国庆节"],u=l.some((function(e){return a.some((function(t){return e.includes(t)}))}));return t||u},A=function(e,t){return!!t.dueDate&&Pe()(t.dueDate).format("YYYY-MM-DD")===Pe()(e).format("YYYY-MM-DD")},R=function(e,t){return!!t.date&&t.date===Pe()(e).format("YYYY-MM-DD")};return function(e,t){var u=(0,i.g2)("a-select-option"),d=(0,i.g2)("a-select"),p=(0,i.g2)("a-radio-button"),C=(0,i.g2)("a-radio-group"),V=(0,i.g2)("a-button"),D=(0,i.g2)("a-calendar"),W=(0,i.g2)("a-input"),S=(0,i.g2)("a-form-item"),E=(0,i.g2)("a-textarea"),K=(0,i.g2)("a-form"),X=(0,i.g2)("a-modal");return(0,i.uX)(),(0,i.CE)("div",Xr,[(0,i.bF)(D,{value:l.value,"onUpdate:value":t[0]||(t[0]=function(e){return l.value=e})},{headerRender:(0,i.k6)((function(e){var n=e.value,a=e.type,r=e.onChange,o=e.onTypeChange;return[(0,i.Lk)("div",Ir,[(0,i.Lk)("div",Mr,[(0,i.bF)(d,{size:"small",value:n.month(),style:{width:"80px","margin-right":"8px"},onChange:function(e){var t=n.clone().month(e);r(t)}},{default:(0,i.k6)((function(){return[((0,i.uX)(),(0,i.CE)(i.FK,null,(0,i.pI)(12,(function(e){return(0,i.bF)(u,{key:e-1,value:e-1},{default:(0,i.k6)((function(){return[(0,i.eW)((0,c.v_)(e)+"月 ",1)]})),_:2},1032,["value"])})),64))]})),_:2},1032,["value","onChange"]),(0,i.bF)(d,{size:"small",value:n.year(),style:{width:"100px"},onChange:function(e){var t=n.clone().year(e);r(t)}},{default:(0,i.k6)((function(){return[((0,i.uX)(),(0,i.CE)(i.FK,null,(0,i.pI)(10,(function(e){return(0,i.bF)(u,{key:k+e,value:k+e},{default:(0,i.k6)((function(){return[(0,i.eW)((0,c.v_)(k+e)+"年 ",1)]})),_:2},1032,["value"])})),64))]})),_:2},1032,["value","onChange"])]),(0,i.Lk)("div",Tr,[(0,i.bF)(C,{size:"small",value:a,onChange:function(e){return o(e.target.value)},style:{"margin-right":"8px"}},{default:(0,i.k6)((function(){return[(0,i.bF)(p,{value:"month"},{default:(0,i.k6)((function(){return t[7]||(t[7]=[(0,i.eW)("月")])})),_:1}),(0,i.bF)(p,{value:"year"},{default:(0,i.k6)((function(){return t[8]||(t[8]=[(0,i.eW)("年")])})),_:1})]})),_:2},1032,["value","onChange"]),(0,i.bF)(V,{type:"primary",size:"small",onClick:function(){var e=(0,s.R1)(Pe())();r(e),l.value=e}},{default:(0,i.k6)((function(){return t[9]||(t[9]=[(0,i.eW)(" 今天 ")])})),_:2},1032,["onClick"])])])]})),dateCellRender:(0,i.k6)((function(e){var t=e.current;return[(0,i.Lk)("div",{class:"date-cell",onContextmenu:(0,a.D$)((function(e){return y(e,t)}),["prevent"])},[(0,i.Lk)("div",Nr,[x(t)?((0,i.uX)(),(0,i.CE)("span",Or,"休")):(0,i.Q3)("",!0),(0,i.Lk)("span",{class:(0,c.C4)(["solar-date",{"is-holiday":x(t)}])},(0,c.v_)(t.date()),3),(0,i.Lk)("span",zr,(0,c.v_)(g(t)),1)]),(0,i.Lk)("div",Pr,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(b(t),(function(e){return(0,i.uX)(),(0,i.CE)("div",{key:e.id,class:(0,c.C4)(["todo-item",[e.priority,{completed:e.completed,"due-date":A(t,e),"create-date":R(t,e)}]])},[A(t,e)?((0,i.uX)(),(0,i.CE)("span",Yr,"截止")):(0,i.Q3)("",!0),R(t,e)?((0,i.uX)(),(0,i.CE)("span",qr,"开始")):(0,i.Q3)("",!0),(0,i.eW)(" "+(0,c.v_)(e.text),1)],2)})),128))])],40,Ur)]})),_:1},8,["value"]),o.value?((0,i.uX)(),(0,i.CE)("div",{key:0,style:(0,c.Tr)(h.value),class:"context-menu"},[(0,i.Lk)("div",{class:"menu-item",onClick:_},[(0,i.bF)((0,s.R1)(on.A)),t[10]||(t[10]=(0,i.Lk)("span",null,"添加待办事项",-1))]),(0,s.R1)(n).getTodosByDate(f.value).length?((0,i.uX)(),(0,i.CE)("div",{key:0,class:"menu-item",onClick:F},[(0,i.bF)((0,s.R1)(Sr.A)),t[11]||(t[11]=(0,i.Lk)("span",null,"查看待办事项",-1))])):(0,i.Q3)("",!0),(0,s.R1)(n).getTodosByDate(f.value).length?((0,i.uX)(),(0,i.CE)("div",{key:1,class:"menu-item",onClick:w},[(0,i.bF)((0,s.R1)(un.A)),t[12]||(t[12]=(0,i.Lk)("span",null,"删除待办事项",-1))])):(0,i.Q3)("",!0)],4)):(0,i.Q3)("",!0),(0,i.bF)(X,{open:r.value,"onUpdate:open":t[5]||(t[5]=function(e){return r.value=e}),title:v.value?"批量添加待办事项":"添加待办事项",onOk:L,onCancel:t[6]||(t[6]=function(e){return r.value=!1})},{default:(0,i.k6)((function(){return[(0,i.bF)(K,{model:m.value,layout:"vertical"},{default:(0,i.k6)((function(){return[(0,i.bF)(S,{label:"标题",required:""},{default:(0,i.k6)((function(){return[(0,i.bF)(W,{value:m.value.title,"onUpdate:value":t[1]||(t[1]=function(e){return m.value.title=e}),placeholder:"请输入待办事项标题"},null,8,["value"])]})),_:1}),(0,i.bF)(S,{label:"描述"},{default:(0,i.k6)((function(){return[(0,i.bF)(E,{value:m.value.description,"onUpdate:value":t[2]||(t[2]=function(e){return m.value.description=e}),rows:3,placeholder:"请输入详细描述"},null,8,["value"])]})),_:1}),(0,i.bF)(S,{label:"优先级"},{default:(0,i.k6)((function(){return[(0,i.bF)(d,{value:m.value.priority,"onUpdate:value":t[3]||(t[3]=function(e){return m.value.priority=e})},{default:(0,i.k6)((function(){return[(0,i.bF)(u,{value:"高"},{default:(0,i.k6)((function(){return t[13]||(t[13]=[(0,i.eW)("高")])})),_:1}),(0,i.bF)(u,{value:"中"},{default:(0,i.k6)((function(){return t[14]||(t[14]=[(0,i.eW)("中")])})),_:1}),(0,i.bF)(u,{value:"低"},{default:(0,i.k6)((function(){return t[15]||(t[15]=[(0,i.eW)("低")])})),_:1})]})),_:1},8,["value"])]})),_:1}),(0,i.bF)(S,{label:"分类"},{default:(0,i.k6)((function(){return[(0,i.bF)(d,{value:m.value.category,"onUpdate:value":t[4]||(t[4]=function(e){return m.value.category=e})},{default:(0,i.k6)((function(){return[(0,i.bF)(u,{value:"工作目标"},{default:(0,i.k6)((function(){return t[16]||(t[16]=[(0,i.eW)("工作目标")])})),_:1}),(0,i.bF)(u,{value:"学习目标"},{default:(0,i.k6)((function(){return t[17]||(t[17]=[(0,i.eW)("学习目标")])})),_:1}),(0,i.bF)(u,{value:"生活目标"},{default:(0,i.k6)((function(){return t[18]||(t[18]=[(0,i.eW)("生活目标")])})),_:1}),(0,i.bF)(u,{value:"其他目标"},{default:(0,i.k6)((function(){return t[19]||(t[19]=[(0,i.eW)("其他目标")])})),_:1})]})),_:1},8,["value"])]})),_:1})]})),_:1},8,["model"])]})),_:1},8,["open","title"])])}}};const Jr=(0,h.A)(Br,[["__scopeId","data-v-3021e2fb"]]);var Qr=Jr,jr=n(3604),Gr=(n(14533),n(82888),n(36824)),$r=n(52125),Hr=n.n($r),Zr={class:"ai-chat-container"},eo={class:"sidebar"},to={class:"model-selector"},no={class:"model-option"},lo={class:"model-info"},ao={class:"model-name"},uo={class:"model-desc"},ro={class:"chat-history"},oo=["onClick"],io={class:"history-content"},co={class:"chat-title-wrapper"},so={key:1,class:"chat-title"},fo={class:"history-actions"},vo={class:"sidebar-footer"},po={class:"chat-area"},mo={key:0,class:"messages-wrapper"},ko={class:"model-indicator"},go={key:0,class:"model-switch-divider"},bo=["onContextmenu"],ho={class:"message-avatar"},yo={class:"message-body"},_o={class:"message-header"},Fo={class:"message-role"},wo=["innerHTML"],Lo={key:1,class:"empty-chat"},Co={class:"empty-icon"},xo={class:"input-area"},Ao={class:"input-container"},Ro={class:"dialog-footer"},Vo="https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",Do="https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",Wo={__name:"AIChatView",setup:function(e){var t=(0,s.KR)(""),n=(0,s.KR)(""),l=(0,s.KR)(!1),u=(0,s.KR)(null),d=(0,s.KR)(null),f=(0,s.KR)(!1),p=(0,s.KR)([]),m=(0,s.KR)({id:null,title:"",time:new Date,messages:[],currentModel:null}),k=(0,i.EW)((function(){return t.value?p.value.filter((function(e){return e.title.toLowerCase().includes(t.value.toLowerCase())})):p.value})),g=function(e){u.value=e.id,m.value=JSON.parse(JSON.stringify(e)),m.value.currentModel?h.value=m.value.currentModel:m.value.currentModel=h.value,(0,i.dY)((function(){d.value&&(d.value.scrollTop=d.value.scrollHeight)}))},b=(0,s.KR)([{label:"kimi",value:"kimi",model:"moonshot-v1-8k",type:"kimi",description:"适用于大多数问题",tag:"推荐",systemPrompt:"你是 Kimi，由 Moonshot AI 提供的人工智能助手，你更擅长中文和英文的对话。你会为用户提供安全，有帮助，准确的回答。同时，你会拒绝一切涉及恐怖主义，种族歧视，黄色暴力等问题的回答。Moonshot AI 为专有名词，不可翻译成其他语言。"},{label:"DeepSeek",value:"deepseek",model:"deepseek-r1:latest",type:"deepseek",description:"快速进行高级推理",systemPrompt:"You are a helpful assistant."},{label:"通义千问Plus",value:"qwen",model:"qwen-plus",type:"qwen",description:"擅长编码和逻辑推理",systemPrompt:"You are a helpful assistant."}]),h=(0,s.KR)(b.value[0].value),y=(0,s.KR)({apiUrls:{kimi:"https://api.moonshot.cn/v1/chat/completions",deepseek:"http://localhost:8888/api/generate",qwen:"https://dashscope.aliyuncs.com/compatible-mode/v1"},apiKeys:{kimi:"",deepseek:"",qwen:""},autoSummarize:!0}),_=function(){localStorage.setItem("modelSettings",JSON.stringify(y.value)),f.value=!1},F=function(){var e=(0,o.A)((0,r.A)().mark((function e(t){var n,l;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return b.value.find((function(e){return e.value===h.value})),e.prev=1,e.next=4,fetch("/api/kimi/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(y.value.apiKeys.kimi)},body:JSON.stringify({model:"moonshot-v1-8k",messages:[{role:"system",content:"你是一个对话标题生成助手。请根据用户的对话内容，生成一个10字以内的简短标题，直接返回标题文本，不要包含任何其他内容。"},{role:"user",content:"请为以下对话生成一个10字以内的标题：\n".concat(t.map((function(e){return"".concat(e.role,": ").concat(e.content)})).join("\n"))}],temperature:.3,stream:!1})});case 4:return n=e.sent,e.next=7,n.json();case 7:return l=e.sent,e.abrupt("return",l.choices[0].message.content.trim());case 11:return e.prev=11,e.t0=e["catch"](1),console.error("生成标题失败:",e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=(0,o.A)((0,r.A)().mark((function e(){var t,a,o,c,s,f,v,k,g,_,w,C,x,A,R,V,D,W,S,E,K,X;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n.value.trim()&&!l.value){e.next=2;break}return e.abrupt("return");case 2:if(t=n.value,n.value="",a=!m.value.id,a&&(m.value={id:Date.now(),title:t.length<=10?t:"新对话",time:new Date,messages:[],currentModel:h.value},p.value.unshift(JSON.parse(JSON.stringify(m.value))),localStorage.setItem("chatHistory",JSON.stringify(p.value)),u.value=m.value.id),m.value.currentModel!==h.value&&(m.value.messages.push({modelSwitch:h.value,role:"system"}),m.value.currentModel=h.value,L()),m.value.messages.push({role:"user",content:t,model:h.value}),L(),l.value=!0,e.prev=10,o=b.value.find((function(e){return e.value===h.value})),c={role:"assistant",content:""},m.value.messages.push(c),L(),s=[{role:"system",content:o.systemPrompt}].concat((0,$e.A)(m.value.messages.filter((function(e){return"assistant"!==e.role||""!==e.content})))),"kimi"!==o.type){e.next=22;break}return e.next=19,fetch("/api/kimi/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(y.value.apiKeys.kimi)},body:JSON.stringify({model:"moonshot-v1-8k",messages:s,temperature:.3,stream:!0})});case 19:f=e.sent,e.next=32;break;case 22:if("qwen"!==o.type){e.next=28;break}return e.next=25,fetch("/api/qwen/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(y.value.apiKeys.qwen)},body:JSON.stringify({model:o.model,messages:s,stream:!0})});case 25:f=e.sent,e.next=32;break;case 28:if("deepseek"!==o.type){e.next=32;break}return e.next=31,fetch("/api/deepseek/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(y.value.apiKeys.deepseek)},body:JSON.stringify({model:o.model,messages:s,stream:!0,max_tokens:512,temperature:.7,top_p:.7,top_k:50,frequency_penalty:.5})});case 31:f=e.sent;case 32:return e.next=34,(0,i.dY)();case 34:d.value&&(v=d.value.lastElementChild,v&&v.scrollIntoView({behavior:"smooth",block:"end"})),k=f.body.getReader(),g=new TextDecoder,_=!1;case 38:if(_){e.next=53;break}return e.next=41,k.read();case 41:if(w=e.sent,C=w.done,x=w.value,_=C,x){e.next=47;break}return e.abrupt("continue",38);case 47:A=g.decode(x),R=A.split("\n"),V=(0,jr.A)(R);try{for(V.s();!(D=V.n()).done;)if(W=D.value,W.startsWith("data: "))try{E=JSON.parse(W.slice(6)),null!==(S=E.choices)&&void 0!==S&&null!==(S=S[0])&&void 0!==S&&null!==(S=S.delta)&&void 0!==S&&S.content&&(c.content+=E.choices[0].delta.content,L())}catch(r){console.warn("Failed to parse streaming data:",r)}}catch(I){V.e(I)}finally{V.f()}e.next=38;break;case 53:if(!(a&&y.value.autoSummarize&&t.length>10)){e.next=58;break}return e.next=56,F(m.value.messages);case 56:K=e.sent,K&&(m.value.title=K,X=p.value.findIndex((function(e){return e.id===m.value.id})),-1!==X&&(p.value[X].title=K,L()));case 58:e.next=66;break;case 60:e.prev=60,e.t0=e["catch"](10),console.error("Error:",e.t0),m.value.messages=m.value.messages.filter((function(e){return""!==e.content})),m.value.messages.push({role:"assistant",content:"抱歉，发生了错误，请稍后重试。"}),L();case 66:return e.prev=66,l.value=!1,e.finish(66);case 69:case"end":return e.stop()}}),e,null,[[10,60,66,69]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=p.value.findIndex((function(e){return e.id===m.value.id}));-1!==e&&(p.value[e]=JSON.parse(JSON.stringify(m.value)),localStorage.setItem("chatHistory",JSON.stringify(p.value)))},C=function(e){var t=p.value[e].id;p.value.splice(e,1),localStorage.setItem("chatHistory",JSON.stringify(p.value)),u.value===t&&(m.value={id:null,title:"",time:new Date,messages:[],currentModel:null},u.value=null)};(0,i.sV)((function(){var e=localStorage.getItem("chatHistory");if(e&&(p.value=JSON.parse(e),u.value)){var t=p.value.find((function(e){return e.id===u.value}));t&&(m.value=JSON.parse(JSON.stringify(t)))}var n=localStorage.getItem("modelSettings");n?y.value=JSON.parse(n):{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_KIMI_API_KEY&&(y.value.apiKeys.kimi={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_KIMI_API_KEY),document.addEventListener("click",(function(){K.value.visible=!1}))}));var x=function(){var e=new Date,t="".concat(e.getMonth()+1,"月").concat(e.getDate(),"日 ").concat(e.getHours(),":").concat(e.getMinutes());m.value={id:Date.now(),title:"新对话 - ".concat(t),time:new Date,messages:[],currentModel:h.value},p.value.unshift(JSON.parse(JSON.stringify(m.value))),u.value=m.value.id},A=function(e){if(!e)return"";e=e.replace(/^\s+/,"").replace(/\s+$/,"").replace(/\n{3,}/g,"\n\n").replace(/^[ \t]+|[ \t]+$/gm,"");var t=(0,Gr.xI)(e);return t=t.replace(/\n\s*\n\s*\n/g,"\n\n").replace(/<\/p>\s*\n+\s*<p>/g,"</p><p>").replace(/\n+<pre>/g,"\n<pre>").replace(/<\/pre>\n+/g,"</pre>\n").replace(/<\/li>\s*\n+\s*<li>/g,"</li><li>").replace(/>(\s|&nbsp;)+</g,"><").replace(/<pre><code>([\s\S]*?)<\/code><\/pre>/g,(function(e,t){var n=t.replace(/\n{3,}/g,"\n\n").replace(/^\s+|\s+$/g,"");return"<pre><code>".concat(n,"</code></pre>")})),t},R=(0,i.EW)((function(){var e=b.value.find((function(e){return e.value===h.value}));return e?"使用 ".concat(e.label," 提问..."):"请选择模型并输入问题..."})),V=function(e){navigator.clipboard.writeText(e).then((function(){(0,P.nk)({message:"复制成功",type:"success",duration:2e3})})).catch((function(){(0,P.nk)({message:"复制失败，请手动复制",type:"error",duration:2e3})}))},D=((0,s.KR)(!1),(0,s.KR)([])),W=function(e){var t=D.value.indexOf(e);-1===t?D.value.push(e):D.value.splice(t,1)},S=function(e){m.value.messages.splice(e,1),L()},E=function(){var e=(0,o.A)((0,r.A)().mark((function e(){var t,n,l;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(D.value.length){e.next=2;break}return e.abrupt("return");case 2:return t=document.createElement("div"),t.className="messages-container",D.value.forEach((function(e){var n=document.createElement("div");n.className="message ".concat(e.role),n.innerHTML='\n      <div class="message-header">\n        <span class="message-role">'.concat("user"===e.role?"用户":"AI",'</span>\n      </div>\n      <div class="message-content">').concat(A(e.content),"</div>\n    "),t.appendChild(n)})),document.body.appendChild(t),e.prev=6,e.next=9,Hr()(t,{backgroundColor:"#ffffff"});case 9:n=e.sent,l=document.createElement("a"),l.download="chat-".concat(Date.now(),".png"),l.href=n.toDataURL(),l.click(),e.next=20;break;case 16:e.prev=16,e.t0=e["catch"](6),console.error("Failed to generate image:",e.t0),P.nk.error("生成图片失败");case 20:return e.prev=20,document.body.removeChild(t),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[6,16,20,23]])})));return function(){return e.apply(this,arguments)}}(),K=(0,s.KR)({visible:!1,x:0,y:0,message:null,index:-1}),X=((0,i.EW)((function(){return{position:"fixed",left:K.value.x+"px",top:K.value.y+"px",display:K.value.visible?"block":"none"}})),function(e,t,n){K.value={visible:!0,x:e.clientX,y:e.clientY,message:t,index:n}}),I=function(e){var t=b.value.find((function(t){return t.value===e}))||b.value[0];return t?t.label:e},M=(0,s.KR)(null),T=(0,s.KR)(""),U=function(e){M.value=e.id,T.value=e.title},N=function(e){setTimeout((function(){O(e)}),100)},O=function(e){if(T.value.trim()){var t=p.value.find((function(t){return t.id===e.id}));t&&(t.title=T.value.trim(),m.value.id===e.id&&(m.value.title=T.value.trim()),L())}M.value=null,T.value=""};return function(e,t){var r=(0,i.g2)("el-icon"),o=(0,i.g2)("el-button"),p=(0,i.g2)("el-tag"),F=(0,i.g2)("el-option"),L=(0,i.g2)("el-select"),z=(0,i.g2)("el-input"),P=(0,i.g2)("el-avatar"),Y=(0,i.g2)("el-form-item"),q=(0,i.g2)("el-form"),B=(0,i.g2)("el-tab-pane"),J=(0,i.g2)("el-tabs"),Q=(0,i.g2)("el-divider"),j=(0,i.g2)("el-switch"),G=(0,i.g2)("el-dialog");return(0,i.uX)(),(0,i.CE)("div",Zr,[(0,i.Lk)("div",eo,[(0,i.bF)(o,{type:"primary",class:"new-chat-btn",onClick:x},{default:(0,i.k6)((function(){return[(0,i.bF)(r,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Plus))]})),_:1}),t[11]||(t[11]=(0,i.eW)(" 新建对话 "))]})),_:1}),(0,i.Lk)("div",to,[(0,i.bF)(L,{modelValue:h.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return h.value=e}),class:"model-select","popper-class":"model-select-dropdown"},{default:(0,i.k6)((function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(b.value,(function(e){return(0,i.uX)(),(0,i.Wv)(F,{key:e.value,label:e.label,value:e.value},{default:(0,i.k6)((function(){return[(0,i.Lk)("div",no,[(0,i.Lk)("div",lo,[(0,i.Lk)("div",ao,(0,c.v_)(e.label),1),(0,i.Lk)("div",uo,(0,c.v_)(e.description),1)]),e.tag?((0,i.uX)(),(0,i.Wv)(p,{key:0,size:"small",type:"info"},{default:(0,i.k6)((function(){return[(0,i.eW)((0,c.v_)(e.tag),1)]})),_:2},1024)):(0,i.Q3)("",!0)])]})),_:2},1032,["label","value"])})),128))]})),_:1},8,["modelValue"])]),(0,i.Lk)("div",ro,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(k.value,(function(e,n){return(0,i.uX)(),(0,i.CE)("div",{key:e.id,class:(0,c.C4)(["history-item",{active:u.value===e.id}]),onClick:function(t){return g(e)}},[(0,i.Lk)("div",io,[(0,i.bF)(r,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.ChatRound))]})),_:1}),(0,i.Lk)("div",co,[M.value===e.id?((0,i.uX)(),(0,i.Wv)(z,{key:0,modelValue:T.value,"onUpdate:modelValue":t[1]||(t[1]=function(e){return T.value=e}),size:"small",onClick:t[2]||(t[2]=(0,a.D$)((function(){}),["stop"])),onKeyup:(0,a.jR)((function(t){return O(e)}),["enter"]),onBlur:function(t){return N(e)},ref_for:!0,ref:"titleInputRef",autofocus:!0},null,8,["modelValue","onKeyup","onBlur"])):((0,i.uX)(),(0,i.CE)("span",so,(0,c.v_)(e.title),1))])]),(0,i.Lk)("div",fo,[(0,i.bF)(o,{link:"",size:"small",onClick:(0,a.D$)((function(t){return U(e)}),["stop"])},{default:(0,i.k6)((function(){return[(0,i.bF)(r,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Edit))]})),_:1})]})),_:2},1032,["onClick"]),(0,i.bF)(o,{link:"",type:"danger",size:"small",onClick:(0,a.D$)((function(e){return C(n)}),["stop"])},{default:(0,i.k6)((function(){return[(0,i.bF)(r,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Delete))]})),_:1})]})),_:2},1032,["onClick"])])],10,oo)})),128))]),(0,i.Lk)("div",vo,[(0,i.bF)(o,{link:"",onClick:t[3]||(t[3]=function(e){return f.value=!0})},{default:(0,i.k6)((function(){return[(0,i.bF)(r,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Setting))]})),_:1}),t[12]||(t[12]=(0,i.eW)(" 设置 "))]})),_:1})])]),(0,i.Lk)("div",po,[(0,i.Lk)("div",{class:"messages",ref_key:"messagesContainer",ref:d},[m.value.messages.length?((0,i.uX)(),(0,i.CE)("div",mo,[(0,i.Lk)("div",ko,[(0,i.bF)(p,{size:"small",effect:"plain"},{default:(0,i.k6)((function(){return[(0,i.eW)((0,c.v_)(I(m.value.currentModel||h.value.value)),1)]})),_:1})]),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(m.value.messages,(function(e,n){return(0,i.uX)(),(0,i.CE)(i.FK,{key:n},[e.modelSwitch?((0,i.uX)(),(0,i.CE)("div",go,[t[13]||(t[13]=(0,i.Lk)("div",{class:"divider-line"},null,-1)),(0,i.bF)(p,{size:"small",effect:"plain"},{default:(0,i.k6)((function(){return[(0,i.eW)(" 切换至 "+(0,c.v_)(I(e.modelSwitch)),1)]})),_:2},1024),t[14]||(t[14]=(0,i.Lk)("div",{class:"divider-line"},null,-1))])):((0,i.uX)(),(0,i.CE)("div",{key:1,class:(0,c.C4)(["message",e.role,{selected:D.value.includes(e)}]),onContextmenu:(0,a.D$)((function(t){return X(t,e,n)}),["prevent"])},[(0,i.Lk)("div",ho,[(0,i.bF)(P,{size:36,src:"user"===e.role?Vo:Do},null,8,["src"])]),(0,i.Lk)("div",yo,[(0,i.Lk)("div",_o,[(0,i.Lk)("span",Fo,(0,c.v_)("user"===e.role?"用户":"AI"),1)]),(0,i.Lk)("div",{class:"message-content",innerHTML:A(e.content)},null,8,wo)])],42,bo))],64)})),128))])):((0,i.uX)(),(0,i.CE)("div",Lo,[(0,i.Lk)("div",Co,[(0,i.bF)(r,{size:48},{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.ChatRound))]})),_:1})]),t[15]||(t[15]=(0,i.Lk)("h2",null,"开始新对话",-1)),t[16]||(t[16]=(0,i.Lk)("p",null,"选择模型并输入问题开始对话",-1))]))],512),(0,i.Lk)("div",xo,[(0,i.Lk)("div",Ao,[(0,i.bF)(z,{modelValue:n.value,"onUpdate:modelValue":t[4]||(t[4]=function(e){return n.value=e}),type:"textarea",rows:3,placeholder:R.value,resize:"none",onKeyup:(0,a.jR)((0,a.D$)(w,["ctrl"]),["enter"])},null,8,["modelValue","placeholder","onKeyup"]),(0,i.bF)(o,{class:"send-btn",type:"primary",loading:l.value,onClick:w},{default:(0,i.k6)((function(){return t[17]||(t[17]=[(0,i.eW)(" 发送 ")])})),_:1},8,["loading"])]),t[18]||(t[18]=(0,i.Lk)("div",{class:"input-tip"}," 按 Ctrl + Enter 发送 ",-1))])]),(0,i.bF)(G,{modelValue:f.value,"onUpdate:modelValue":t[7]||(t[7]=function(e){return f.value=e}),title:"模型设置",width:"500px"},{footer:(0,i.k6)((function(){return[(0,i.Lk)("span",Ro,[(0,i.bF)(o,{onClick:t[6]||(t[6]=function(e){return f.value=!1})},{default:(0,i.k6)((function(){return t[20]||(t[20]=[(0,i.eW)("取消")])})),_:1}),(0,i.bF)(o,{type:"primary",onClick:_},{default:(0,i.k6)((function(){return t[21]||(t[21]=[(0,i.eW)("保存")])})),_:1})])]})),default:(0,i.k6)((function(){return[(0,i.bF)(J,null,{default:(0,i.k6)((function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(b.value,(function(e){return(0,i.uX)(),(0,i.Wv)(B,{key:e.value,label:e.label},{default:(0,i.k6)((function(){return[(0,i.bF)(q,{"label-width":"100px"},{default:(0,i.k6)((function(){return[(0,i.bF)(Y,{label:"API地址"},{default:(0,i.k6)((function(){return[(0,i.bF)(z,{modelValue:y.value.apiUrls[e.value],"onUpdate:modelValue":function(t){return y.value.apiUrls[e.value]=t},placeholder:"请输入API地址"},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024),(0,i.bF)(Y,{label:"API密钥"},{default:(0,i.k6)((function(){return[(0,i.bF)(z,{modelValue:y.value.apiKeys[e.value],"onUpdate:modelValue":function(t){return y.value.apiKeys[e.value]=t},type:"password",placeholder:"请输入API密钥","show-password":""},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024)]})),_:2},1024)]})),_:2},1032,["label"])})),128))]})),_:1}),(0,i.bF)(Q,null,{default:(0,i.k6)((function(){return t[19]||(t[19]=[(0,i.eW)("通用设置")])})),_:1}),(0,i.bF)(q,{"label-width":"200px"},{default:(0,i.k6)((function(){return[(0,i.bF)(Y,{label:"自动总结对话标题"},{default:(0,i.k6)((function(){return[(0,i.bF)(j,{modelValue:y.value.autoSummarize,"onUpdate:modelValue":t[5]||(t[5]=function(e){return y.value.autoSummarize=e}),"active-text":"开启","inactive-text":"关闭"},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"]),K.value.visible?((0,i.uX)(),(0,i.CE)("div",{key:0,class:"context-menu",style:(0,c.Tr)({top:K.value.y+"px",left:K.value.x+"px"})},[(0,i.Lk)("ul",null,[(0,i.Lk)("li",{onClick:t[8]||(t[8]=function(e){var t;return V(null===(t=K.value.message)||void 0===t?void 0:t.content)})},[(0,i.bF)(r,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Document))]})),_:1}),t[22]||(t[22]=(0,i.Lk)("span",null,"复制",-1))]),(0,i.Lk)("li",{onClick:t[9]||(t[9]=function(e){return W(K.value.message)})},[(0,i.bF)(r,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Select))]})),_:1}),(0,i.Lk)("span",null,(0,c.v_)(D.value.includes(K.value.message)?"取消选择":"选择"),1)]),D.value.length>0?((0,i.uX)(),(0,i.CE)("li",{key:0,onClick:E},[(0,i.bF)(r,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Download))]})),_:1}),t[23]||(t[23]=(0,i.Lk)("span",null,"下载选中消息",-1))])):(0,i.Q3)("",!0),(0,i.Lk)("li",{class:"danger",onClick:t[10]||(t[10]=function(e){return S(K.value.index)})},[(0,i.bF)(r,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Delete))]})),_:1}),t[24]||(t[24]=(0,i.Lk)("span",null,"删除",-1))])])],4)):(0,i.Q3)("",!0)])}}};const So=(0,h.A)(Wo,[["__scopeId","data-v-28680df8"]]);var Eo=So,Ko={class:"diary-list"},Xo={class:"diary-list-header"},Io={class:"diary-list-content"},Mo={class:"diary-content"},To={class:"diary-date"},Uo={class:"diary-items"},No={class:"diary-actions"},Oo={__name:"GratitudeDiaryItems",props:{diaries:{type:Array,required:!0}},emits:["edit","delete"],setup:function(e){var t=e,n=(0,s.KR)(""),l=(0,s.KR)("newest"),a=(0,i.EW)((function(){var e=(0,$e.A)(t.diaries);return n.value&&(e=e.filter((function(e){return e.items.some((function(e){return e.toLowerCase().includes(n.value.toLowerCase())}))}))),e.sort((function(e,t){var n=new Date(e.date),a=new Date(t.date);return"newest"===l.value?a-n:n-a})),e})),u=function(e){var t=(new Date).toLocaleDateString("zh-CN");return e===t},r=function(e){var t=new Date(e);return t.toLocaleDateString("zh-CN",{weekday:"long",month:"long",day:"numeric"})},o=function(){var e;null===(e=document.querySelector(".diary-input"))||void 0===e||e.scrollIntoView({behavior:"smooth"})};return function(e,t){var d=(0,i.g2)("el-input"),f=(0,i.g2)("el-option"),p=(0,i.g2)("el-select"),m=(0,i.g2)("el-button"),k=(0,i.g2)("el-empty"),g=(0,i.g2)("el-tag"),b=(0,i.g2)("el-icon"),h=(0,i.g2)("el-timeline-item"),y=(0,i.g2)("el-timeline");return(0,i.uX)(),(0,i.CE)("div",Ko,[(0,i.Lk)("div",Xo,[(0,i.bF)(d,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return n.value=e}),placeholder:"搜索感恩内容...","prefix-icon":"Search",clearable:"",class:"search-input"},null,8,["modelValue"]),(0,i.bF)(p,{modelValue:l.value,"onUpdate:modelValue":t[1]||(t[1]=function(e){return l.value=e}),placeholder:"排序方式",class:"sort-select"},{default:(0,i.k6)((function(){return[(0,i.bF)(f,{label:"最新日期",value:"newest"}),(0,i.bF)(f,{label:"最早日期",value:"oldest"})]})),_:1},8,["modelValue"])]),(0,i.Lk)("div",Io,[0===a.value.length?((0,i.uX)(),(0,i.Wv)(k,{key:0,description:"还没有记录感恩的事呢"},{default:(0,i.k6)((function(){return[(0,i.bF)(m,{type:"primary",onClick:o},{default:(0,i.k6)((function(){return t[2]||(t[2]=[(0,i.eW)("现在开始记录")])})),_:1})]})),_:1})):((0,i.uX)(),(0,i.Wv)(y,{key:1},{default:(0,i.k6)((function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(a.value,(function(n,l){return(0,i.uX)(),(0,i.Wv)(h,{key:n.date,timestamp:n.date,type:n.items.length>=3?"success":"primary"},{default:(0,i.k6)((function(){return[(0,i.Lk)("div",{class:(0,c.C4)(["diary-entry",{"diary-entry-highlight":u(n.date)}])},[(0,i.Lk)("div",Mo,[(0,i.Lk)("div",To,[(0,i.eW)((0,c.v_)(r(n.date))+" ",1),u(n.date)?((0,i.uX)(),(0,i.Wv)(g,{key:0,size:"small",type:"success"},{default:(0,i.k6)((function(){return t[3]||(t[3]=[(0,i.eW)("Today")])})),_:1})):(0,i.Q3)("",!0)]),(0,i.Lk)("ul",Uo,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.items,(function(e,t){return(0,i.uX)(),(0,i.CE)("li",{key:t,class:"diary-item"},[(0,i.bF)(b,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Star))]})),_:1}),(0,i.eW)(" "+(0,c.v_)(e),1)])})),128))])]),(0,i.Lk)("div",No,[(0,i.bF)(m,{type:"primary",link:"",onClick:function(t){return e.$emit("edit",l)}},{default:(0,i.k6)((function(){return[(0,i.bF)(b,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Edit))]})),_:1})]})),_:2},1032,["onClick"]),(0,i.bF)(m,{type:"danger",link:"",onClick:function(t){return e.$emit("delete",l)}},{default:(0,i.k6)((function(){return[(0,i.bF)(b,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Delete))]})),_:1})]})),_:2},1032,["onClick"])])],2)]})),_:2},1032,["timestamp","type"])})),128))]})),_:1}))])])}}};const zo=(0,h.A)(Oo,[["__scopeId","data-v-1a46f95c"]]);var Po=zo,Yo={class:"gratitude-diary"},qo={class:"diary-header"},Bo={class:"diary-stats"},Jo={class:"diary-content"},Qo={class:"diary-input-section"},jo={class:"card-header"},Go={class:"diary-list-section"},$o="gratitude-diaries",Ho={__name:"GratitudeDiaryView",setup:function(e){var t=(0,s.KR)({item1:"",item2:"",item3:""}),n=(0,s.KR)([]),l=(0,s.KR)(!1),a=(0,s.KR)(-1),u=(0,i.EW)((function(){return n.value.length})),r=(0,i.EW)((function(){return n.value.reduce((function(e,t){return e+t.items.length}),0)}));(0,i.sV)((function(){var e=localStorage.getItem($o);e&&(n.value=JSON.parse(e))}));var o=function(){localStorage.setItem($o,JSON.stringify(n.value))},d=function(){var e=[t.value.item1,t.value.item2,t.value.item3].filter((function(e){return""!==e.trim()}));if(0!==e.length){if(l.value)n.value[a.value]=(0,D.A)((0,D.A)({},n.value[a.value]),{},{items:e}),l.value=!1,a.value=-1,P.nk.success("修改成功");else{var u=(new Date).toLocaleDateString("zh-CN");if(n.value.some((function(e){return e.date===u})))return void P.nk.warning("今天已经记录过啦，请明天再来~");var r={date:u,items:e};n.value.unshift(r),P.nk.success("记录成功")}o(),g()}else P.nk.warning("请至少填写一件感恩的事")},f=function(e){var u=n.value[e];t.value={item1:u.items[0]||"",item2:u.items[1]||"",item3:u.items[2]||""},l.value=!0,a.value=e},m=function(){l.value=!1,a.value=-1,g()},k=function(e){p.s.confirm("确定要删除这条感恩日记吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){n.value.splice(e,1),o(),P.nk.success("删除成功")})).catch((function(){}))},g=function(){t.value={item1:"",item2:"",item3:""}};return function(e,a){var o=(0,i.g2)("el-icon"),p=(0,i.g2)("el-tag"),g=(0,i.g2)("el-tooltip"),b=(0,i.g2)("el-button"),h=(0,i.g2)("el-input"),y=(0,i.g2)("el-form-item"),_=(0,i.g2)("el-form"),F=(0,i.g2)("el-card");return(0,i.uX)(),(0,i.CE)("div",Yo,[(0,i.Lk)("div",qo,[(0,i.Lk)("h2",null,[(0,i.bF)(o,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.StarFilled))]})),_:1}),a[0]||(a[0]=(0,i.eW)(" 今日感恩 "))]),(0,i.Lk)("div",Bo,[(0,i.bF)(g,{content:"已记录天数"},{default:(0,i.k6)((function(){return[(0,i.bF)(p,{type:"info"},{default:(0,i.k6)((function(){return[(0,i.bF)(o,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Calendar))]})),_:1}),(0,i.eW)(" "+(0,c.v_)(u.value)+"天 ",1)]})),_:1})]})),_:1}),(0,i.bF)(g,{content:"感恩事项总数"},{default:(0,i.k6)((function(){return[(0,i.bF)(p,{type:"success"},{default:(0,i.k6)((function(){return[(0,i.bF)(o,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Star))]})),_:1}),(0,i.eW)(" "+(0,c.v_)(r.value)+"条 ",1)]})),_:1})]})),_:1})])]),(0,i.Lk)("div",Jo,[(0,i.Lk)("div",Qo,[(0,i.bF)(F,{class:"input-card","body-style":{padding:"20px"}},{header:(0,i.k6)((function(){return[(0,i.Lk)("div",jo,[(0,i.Lk)("span",null,(0,c.v_)(l.value?"修改感恩日记":"记录新的感恩"),1),l.value?((0,i.uX)(),(0,i.Wv)(b,{key:0,link:"",onClick:m},{default:(0,i.k6)((function(){return[(0,i.bF)(o,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Close))]})),_:1})]})),_:1})):(0,i.Q3)("",!0)])]})),default:(0,i.k6)((function(){return[(0,i.bF)(_,null,{default:(0,i.k6)((function(){return[((0,i.uX)(),(0,i.CE)(i.FK,null,(0,i.pI)(3,(function(e){return(0,i.Lk)("div",{key:e,class:"diary-input-item"},[(0,i.bF)(h,{modelValue:t.value["item".concat(e)],"onUpdate:modelValue":function(n){return t.value["item".concat(e)]=n},type:"textarea",placeholder:"第".concat(e,"件感恩的事..."),rows:2,maxlength:"200","show-word-limit":""},{prefix:(0,i.k6)((function(){return[(0,i.bF)(o,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Star))]})),_:1})]})),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])])})),64)),(0,i.bF)(y,null,{default:(0,i.k6)((function(){return[(0,i.bF)(b,{type:"primary",onClick:d,icon:l.value?"Check":"Plus"},{default:(0,i.k6)((function(){return[(0,i.eW)((0,c.v_)(l.value?"保存修改":"记录感恩"),1)]})),_:1},8,["icon"])]})),_:1})]})),_:1})]})),_:1})]),(0,i.Lk)("div",Go,[(0,i.bF)(Po,{diaries:n.value,onEdit:f,onDelete:k},null,8,["diaries"])])])])}}};const Zo=(0,h.A)(Ho,[["__scopeId","data-v-93bd9ff6"]]);var ei=Zo,ti={class:"iframe-container"},ni=["src","title"],li=["src","title"],ai={__name:"IframeView",setup:function(e){var t=(0,u.lq)(),n=(0,s.KR)(!0),l=(0,i.EW)((function(){return t.query.url||""})),a=(0,i.EW)((function(){return t.query.title||""})),r=(0,i.EW)((function(){return l.value?"/api/proxy?url=".concat(encodeURIComponent(l.value)):""}));return function(e,t){return(0,i.uX)(),(0,i.CE)("div",ti,[n.value?((0,i.uX)(),(0,i.CE)("iframe",{key:0,src:r.value,title:a.value,frameborder:"0",class:"iframe-content",sandbox:"allow-same-origin allow-scripts allow-popups allow-forms",referrerpolicy:"no-referrer"},null,8,ni)):((0,i.uX)(),(0,i.CE)("iframe",{key:1,src:l.value,title:a.value,frameborder:"0",class:"iframe-content"},null,8,li))])}}};const ui=(0,h.A)(ai,[["__scopeId","data-v-1e57d300"]]);var ri=ui,oi={class:"web-view"},ii={class:"web-header"},ci={class:"url-bar"},si={class:"controls"},di={class:"web-content"},fi=["src"],vi={__name:"WebView",setup:function(e){var t=(0,u.lq)(),n=(0,s.KR)(null),l=(0,s.KR)(""),r=(0,s.KR)(!1);(0,i.sV)((function(){l.value=t.query.url||"",l.value&&o()}));var o=function(){l.value=t.query.url||"",l.value&&(r.value=!1,/^https?:\/\//i.test(l.value)||(l.value="https://"+l.value))},c=function(){var e=n.value;if(e){var t=e.src;e.src="",setTimeout((function(){e.src=t}),100)}},d=function(){l.value&&window.open(l.value,"_blank")},f=function(){r.value=!1},p=function(){r.value=!0};return function(e,t){var u=(0,i.g2)("el-icon"),m=(0,i.g2)("el-input"),k=(0,i.g2)("el-button"),g=(0,i.g2)("el-button-group"),b=(0,i.g2)("el-alert");return(0,i.uX)(),(0,i.CE)("div",oi,[(0,i.Lk)("div",ii,[(0,i.Lk)("div",ci,[(0,i.bF)(m,{modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return l.value=e}),placeholder:"输入网址",clearable:"",onKeyup:(0,a.jR)(o,["enter"])},{prefix:(0,i.k6)((function(){return[(0,i.bF)(u,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Link))]})),_:1})]})),_:1},8,["modelValue"])]),(0,i.Lk)("div",si,[(0,i.bF)(g,null,{default:(0,i.k6)((function(){return[(0,i.bF)(k,{onClick:c},{default:(0,i.k6)((function(){return[(0,i.bF)(u,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Refresh))]})),_:1})]})),_:1}),(0,i.bF)(k,{onClick:d},{default:(0,i.k6)((function(){return[(0,i.bF)(u,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Position))]})),_:1})]})),_:1})]})),_:1})])]),(0,i.Lk)("div",di,[r.value?((0,i.uX)(),(0,i.Wv)(b,{key:0,title:"无法在iframe中显示此网站",type:"warning",description:"由于安全限制，此网站不允许被嵌入。点击'在新窗口打开'按钮访问。","show-icon":"",closable:!1,style:{"margin-bottom":"16px"}})):(0,i.Q3)("",!0),(0,i.Lk)("iframe",{ref_key:"iframeRef",ref:n,src:l.value,class:"iframe-content",onLoad:f,onError:p,sandbox:"allow-same-origin allow-scripts allow-popups allow-forms"},null,40,fi)])])}}};const pi=(0,h.A)(vi,[["__scopeId","data-v-19522b54"]]);var mi=pi,ki=n(25320),gi=n(87383),bi={class:"top-section"},hi={class:"datetime"},yi={class:"time"},_i={class:"date"},Fi={class:"search-box"},wi=["src"],Li={class:"search-history"},Ci=["onClick"],xi={class:"nav-content"},Ai={class:"toolbar"},Ri={class:"filter-box"},Vi={class:"website-grid"},Di=["onContextmenu","onClick","data-id","data-type","onDragenter","onDragover","onDragleave"],Wi={class:"website-icon"},Si=["src","alt","onError"],Ei={class:"website-name"},Ki={class:"website-icon add-icon"},Xi={class:"icon-preview"},Ii=["src"],Mi={class:"dialog-footer"},Ti={class:"dialog-footer"},Ui={class:"folder-content"},Ni=["onContextmenu"],Oi={class:"website-icon"},zi=["src","alt","onError"],Pi={class:"website-name"},Yi={__name:"WebNav",emits:["search"],setup:function(e,t){var n=t.emit,u=(0,s.KR)(null),d=n,f=(0,s.KR)([]),p=(0,s.KR)(""),m=(0,s.KR)(!1),k=(0,s.KR)(null),g=((0,s.KR)(!1),(0,s.KR)("")),b=(0,s.KR)(""),h=(0,s.KR)({show:!1,x:0,y:0,website:null}),y=(0,s.KR)({name:"",url:"",icon:""}),_=(0,s.KR)(!1),F=(0,gi.HrR)(),w=F.isFullscreen,L=F.toggle,C=[{name:"必应",icon:"https://www.bing.com/favicon.ico",url:"https://www.bing.com/search?q="},{name:"谷歌",icon:"https://www.google.com/favicon.ico",url:"https://www.google.com/search?q="},{name:"百度",icon:"https://www.baidu.com/favicon.ico",url:"https://www.baidu.com/s?wd="}],x=(0,s.KR)(0),A=(0,i.EW)((function(){return C[x.value]})),R=(0,s.KR)(1),V=(0,s.KR)(24),W=(0,s.KR)(""),S=(0,i.EW)((function(){return f.value.filter((function(e){return e.name.toLowerCase().includes(W.value.toLowerCase())}))})),E=(0,i.EW)({get:function(){var e=(R.value-1)*V.value,t=e+V.value;return S.value.slice(e,t)},set:function(e){var t=(R.value-1)*V.value,n=t+V.value,l=(0,$e.A)(f.value);l.splice.apply(l,[t,n-t].concat((0,$e.A)(e))),f.value=l,Fe()}}),K=function(){x.value=(x.value+1)%C.length},X=(0,s.KR)([]),I=(0,s.KR)(!1),M=function(){p.value&&(X.value.includes(p.value)||(X.value.unshift(p.value),X.value.length>10&&X.value.pop(),localStorage.setItem("search-history",JSON.stringify(X.value))),d("search",{engine:A.value,query:p.value}),p.value="",I.value=!1)},T=(0,s.KR)({show:!1,x:0,y:0}),U=(0,i.EW)((function(){return{position:"fixed",left:"".concat(T.value.x,"px"),top:"".concat(T.value.y,"px"),zIndex:1e3}})),N=function(e){e.preventDefault(),T.value={show:!0,x:e.clientX,y:e.clientY}},O=function(){T.value.show=!1},z=(0,s.KR)(!1),Y=(0,s.KR)(""),q=(0,s.KR)(null),B=(0,s.KR)(null),J=(0,s.KR)(!1),Q=(0,s.KR)({isDragging:!1,draggedItem:null,draggedElement:null,dropTarget:null,dropType:null}),j=function(e){var t;return(null===(t=Q.value.dropTarget)||void 0===t?void 0:t.id)===e.id&&"inside"===Q.value.dropType},G=(0,s.KR)({show:!1,x:0,y:0,width:0,height:0,type:"line"}),$=function(e){var t=f.value.find((function(t){return t.id.toString()===e.item.dataset.id}));t&&(Q.value={isDragging:!0,draggedItem:e.item,draggedElement:t,dropTarget:null,dropType:null})},H=function(e,t){var n;if(Q.value.isDragging&&t.id!==(null===(n=Q.value.draggedElement)||void 0===n?void 0:n.id)){var l=e.currentTarget.getBoundingClientRect(),a=e.clientY-l.top;if("folder"===t.type)Q.value.dropTarget=t,Q.value.dropType="inside";else{var u=.3*l.height;a<u?(Q.value.dropTarget=t,Q.value.dropType="before"):a>l.height-u?(Q.value.dropTarget=t,Q.value.dropType="after"):(Q.value.dropTarget=t,Q.value.dropType="inside")}}},Z=function(e,t){e.preventDefault()},ee=function(e,t){var n;t.id===(null===(n=Q.value.dropTarget)||void 0===n?void 0:n.id)&&(Q.value.dropTarget=null,Q.value.dropType=null)},te=function(e){var t=Q.value,n=t.draggedElement,a=t.dropTarget,u=t.dropType;if(n&&a&&u){if("inside"===u&&"folder"===a.type)a.children=a.children||[],a.children.push(n),f.value=f.value.filter((function(e){return e.id!==n.id}));else if("inside"===u){var r={id:Date.now(),type:"folder",name:"",icon:ae(),children:[a,n]};f.value=f.value.filter((function(e){return e.id!==n.id&&e.id!==a.id})),f.value.push(r),z.value=!0,(0,i.dY)((function(){var e;null===(e=q.value)||void 0===e||e.focus()}))}else{var o=f.value.findIndex((function(e){return e.id===n.id})),c=f.value.findIndex((function(e){return e.id===a.id}));if(-1!==o&&-1!==c){var s=f.value.splice(o,1),d=(0,l.A)(s,1),v=d[0],p="before"===u?c:c+(o<c?0:1);f.value.splice(p,0,v)}}Fe()}Q.value={isDragging:!1,draggedItem:null,draggedElement:null,dropTarget:null,dropType:null}},ne=function(e){"folder"===e.type?(B.value=e,J.value=!0):_e(e)},le=function(){var e={id:Date.now(),type:"folder",name:"",icon:ae(),children:[]};f.value.push(e),z.value=!0,O(),(0,i.dY)((function(){var e;null===(e=q.value)||void 0===e||e.focus()}))},ae=function(){var e=document.createElement("canvas");e.width=64,e.height=64;var t=e.getContext("2d");return t.fillStyle="#FFB74D",t.beginPath(),t.moveTo(8,16),t.lineTo(24,16),t.lineTo(28,12),t.lineTo(56,12),t.lineTo(56,52),t.lineTo(8,52),t.closePath(),t.fill(),t.fillStyle="#FFA726",t.beginPath(),t.moveTo(4,16),t.lineTo(60,16),t.lineTo(56,56),t.lineTo(8,56),t.closePath(),t.fill(),e.toDataURL()},ue=function(e){return"folder"===e.type?e.icon||ae():e.icon||he(e.url)},re=function(){if(Y.value.trim()){var e=f.value.find((function(e){return"folder"===e.type&&!e.name}));e&&(e.name=Y.value.trim(),Fe(),P.nk.success("文件夹创建成功")),Y.value="",z.value=!1}else P.nk.warning("请输入文件夹名称")},oe=function(){var e=f.value.findIndex((function(e){return"folder"===e.type&&!e.name}));-1!==e&&f.value.splice(e,1),Y.value="",z.value=!1},ie=function(){Y.value.trim()||oe()},ce=function(){O()},se=(0,i.EW)((function(){return{left:"".concat(h.value.x,"px"),top:"".concat(h.value.y,"px")}})),de=function(){var e=new Date;g.value=e.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit",hour12:!1}),b.value=e.toLocaleDateString("zh-CN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})},fe=function(e,t){e.preventDefault(),h.value={show:!0,x:e.clientX,y:e.clientY,website:t}},ve=function(){h.value.show=!1},pe=function(){k.value=h.value.website,y.value=(0,D.A)({},k.value),m.value=!0,ve()},me=function(){var e=document.createElement("input");e.type="file",e.accept="image/*",e.onchange=function(){var e=(0,o.A)((0,r.A)().mark((function e(t){var n,l;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.target.files[0],n)try{l=new FileReader,l.onload=function(e){k.value?k.value.icon=e.target.result:y.value.icon=e.target.result},l.readAsDataURL(n)}catch(a){P.nk.error("上传图标失败")}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.click(),ve()},ke=function(e){var t=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEEAD","#D4A5A5"],n=t[Math.floor(Math.random()*t.length)],l=document.createElement("canvas");l.width=64,l.height=64;var a=l.getContext("2d");a.fillStyle=n,a.beginPath(),a.arc(32,32,32,0,2*Math.PI),a.fill(),a.fillStyle="#FFFFFF",a.font="bold 32px Arial",a.textAlign="center",a.textBaseline="middle",a.fillText(e.name.charAt(0).toUpperCase(),32,32),e.icon=l.toDataURL(),Fe(),ve()},ge=function(){var e=f.value.findIndex((function(e){return e.id===h.value.website.id}));-1!==e&&(f.value.splice(e,1),Fe(),P.nk.success("删除成功")),ve()},be=function(){y.value.name&&y.value.url?(k.value?Object.assign(k.value,y.value):f.value.push((0,D.A)({id:Date.now()},y.value)),Fe(),m.value=!1,k.value=null,y.value={name:"",url:"",icon:""},P.nk.success(k.value?"更新成功":"添加成功")):P.nk.warning("请填写完整信息")},he=function(e){try{var t=new URL(e),n=["".concat(t.origin,"/favicon.ico"),"".concat(t.origin,"/favicon.png"),"".concat(t.origin,"/apple-touch-icon.png"),"https://www.google.com/s2/favicons?domain=".concat(t.hostname,"&sz=64")];return n[0]}catch(l){return""}},ye=function(e,t){try{var n=new URL(t.url);e.target.src="https://www.google.com/s2/favicons?domain=".concat(n.hostname,"&sz=64")}catch(l){ke(t)}},_e=function(e){e.url&&window.open(e.url,"_blank")},Fe=function(){localStorage.setItem("websites",JSON.stringify(f.value))},we=function(){var e=localStorage.getItem("websites");e&&(f.value=JSON.parse(e))},Le=function(){var e=(0,o.A)((0,r.A)().mark((function e(){var t,n,l,a,o,i,c,s;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=y.value.url,t){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,n=t.startsWith("http")?t:"https://".concat(t),l=new URL(n),_.value=!0,u.value=ki.Ks.service({target:".el-dialog",text:"获取网站信息..."}),e.prev=8,e.next=11,fetch(n);case 11:return a=e.sent,e.next=14,a.text();case 14:return o=e.sent,i=(new DOMParser).parseFromString(o,"text/html"),c=i.title||l.hostname.replace("www.",""),y.value.name=c,y.value.url=n,e.next=21,Ce(l);case 21:s=e.sent,s&&(y.value.icon=s),P.nk.success("获取网站信息成功"),e.next=31;break;case 26:e.prev=26,e.t0=e["catch"](8),console.error("获取网站信息失败:",e.t0),y.value.name=l.hostname.replace("www.",""),P.nk.warning("无法获取完整网站信息，已设置基本信息");case 31:e.next=36;break;case 33:e.prev=33,e.t1=e["catch"](3),P.nk.error("请输入有效的网址");case 36:return e.prev=36,_.value=!1,u.value.close(),e.finish(36);case 40:case"end":return e.stop()}}),e,null,[[3,33,36,40],[8,26]])})));return function(){return e.apply(this,arguments)}}(),Ce=function(){var e=(0,o.A)((0,r.A)().mark((function e(t){var n,l,a,u,o;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=["".concat(t.origin,"/favicon.ico"),"".concat(t.origin,"/favicon.png"),"".concat(t.origin,"/apple-touch-icon.png"),"https://www.google.com/s2/favicons?domain=".concat(t.hostname,"&sz=64")],l=0,a=n;case 2:if(!(l<a.length)){e.next=18;break}return u=a[l],e.prev=4,e.next=7,fetch(u);case 7:if(o=e.sent,!o.ok){e.next=10;break}return e.abrupt("return",u);case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e["catch"](4),e.abrupt("continue",15);case 15:l++,e.next=2;break;case 18:return e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}(),xe=function(e){var t=y.value.url;if(t)try{var n=new URL(t);e.target.src="https://www.google.com/s2/favicons?domain=".concat(n.hostname,"&sz=64")}catch(l){e.target.style.display="none"}else e.target.style.display="none"},Ae=function(e){var t=B.value.children.find((function(t){return t.id.toString()===e.item.dataset.id}));t&&(Q.value={isDragging:!0,draggedItem:e.item,draggedElement:t,dropTarget:null,dropType:null})},Re=function(e){Fe()},Ve=function(e){Fe()},De=function(e){Fe()};return(0,i.sV)((function(){we(),de();var e=setInterval(de,1e3);document.addEventListener("click",ve),(0,i.hi)((function(){clearInterval(e),document.removeEventListener("click",ve)}))})),function(e,t){var n,l=(0,i.g2)("el-icon"),u=(0,i.g2)("el-button"),r=(0,i.g2)("el-input"),o=(0,i.g2)("el-form-item"),d=(0,i.g2)("el-form"),f=(0,i.g2)("el-dialog");return(0,i.uX)(),(0,i.CE)("div",{class:"web-nav-container",onContextmenu:t[15]||(t[15]=(0,a.D$)((function(e){return N(e)}),["prevent"]))},[(0,i.Lk)("div",bi,[(0,i.Lk)("div",hi,[(0,i.Lk)("div",yi,(0,c.v_)(g.value),1),(0,i.Lk)("div",_i,(0,c.v_)(b.value),1)]),(0,i.Lk)("div",Fi,[(0,i.bF)(r,{modelValue:p.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return p.value=e}),placeholder:"使用"+A.value.name+"搜索...",onKeyup:(0,a.jR)(M,["enter"]),clearable:"",class:"search-input"},{prefix:(0,i.k6)((function(){return[(0,i.Lk)("img",{src:A.value.icon,class:"engine-icon",onClick:K},null,8,wi)]})),append:(0,i.k6)((function(){return[(0,i.bF)(u,{onClick:M},{default:(0,i.k6)((function(){return[(0,i.bF)(l,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Search))]})),_:1})]})),_:1})]})),_:1},8,["modelValue","placeholder"]),(0,i.bo)((0,i.Lk)("div",Li,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(X.value,(function(t,n){return(0,i.uX)(),(0,i.CE)("div",{key:n,class:"history-item",onClick:function(n){return e.selectHistory(t)}},[(0,i.bF)(l,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Clock))]})),_:1}),(0,i.Lk)("span",null,(0,c.v_)(t),1),(0,i.bF)(l,{class:"delete-icon",onClick:(0,a.D$)((function(t){return e.removeHistory(n)}),["stop"])},{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Close))]})),_:2},1032,["onClick"])],8,Ci)})),128))],512),[[a.aG,I.value&&X.value.length]])])]),(0,i.Lk)("div",xi,[(0,i.Lk)("div",Ai,[(0,i.Lk)("div",Ri,[(0,i.bF)(r,{modelValue:W.value,"onUpdate:modelValue":t[1]||(t[1]=function(e){return W.value=e}),placeholder:"筛选图标...","prefix-icon":"Search",clearable:"",class:"filter-input"},null,8,["modelValue"])])]),(0,i.Lk)("div",Vi,[(0,i.bF)((0,s.R1)(gl()),{modelValue:E.value,"onUpdate:modelValue":t[3]||(t[3]=function(e){return E.value=e}),group:{name:"websites",pull:!0,put:!0},animation:200,"ghost-class":"ghost-card","chosen-class":"dragging-card","drag-class":"dragging-card",onStart:$,onEnd:te,onAdd:De,class:"website-list","item-key":"id",handle:".website-item:not(.add-website)"},{item:(0,i.k6)((function(e){var t=e.element;return[(0,i.Lk)("div",{class:(0,c.C4)(["website-item",{"is-folder":"folder"===t.type,"drag-over":j(t)}]),onContextmenu:(0,a.D$)((function(e){return fe(e,t)}),["prevent"]),onClick:function(e){return ne(t)},"data-id":t.id,"data-type":t.type,onDragenter:(0,a.D$)((function(e){return H(e,t)}),["prevent"]),onDragover:(0,a.D$)((function(e){return Z(e,t)}),["prevent"]),onDragleave:(0,a.D$)((function(e){return ee(e,t)}),["prevent"])},[(0,i.Lk)("div",Wi,[(0,i.Lk)("img",{src:ue(t),alt:t.name,onError:function(e){return ye(e,t)}},null,40,Si)]),(0,i.Lk)("div",Ei,(0,c.v_)(t.name),1)],42,Di)]})),footer:(0,i.k6)((function(){return[(0,i.Lk)("div",{class:"website-item add-website",onClick:t[2]||(t[2]=function(e){return m.value=!0})},[(0,i.Lk)("div",Ki,[(0,i.bF)(l,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Plus))]})),_:1})]),t[16]||(t[16]=(0,i.Lk)("div",{class:"website-name"},"添加网站",-1))])]})),_:1},8,["modelValue"])])]),(0,i.Lk)("div",{class:"fullscreen-toggle",onClick:t[4]||(t[4]=function(){return(0,s.R1)(L)&&(0,s.R1)(L).apply(void 0,arguments)})},[(0,s.R1)(w)?((0,i.uX)(),(0,i.Wv)(l,{key:0},{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Aim))]})),_:1})):((0,i.uX)(),(0,i.Wv)(l,{key:1},{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.FullScreen))]})),_:1}))]),(0,i.bo)((0,i.Lk)("div",{style:(0,c.Tr)(U.value),class:"context-menu",onMouseleave:O},[(0,i.Lk)("div",{class:"menu-item",onClick:le},[(0,i.bF)(l,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Folder))]})),_:1}),t[17]||(t[17]=(0,i.Lk)("span",null,"新建文件夹",-1))]),(0,i.Lk)("div",{class:"menu-item",onClick:t[5]||(t[5]=function(e){return m.value=!0})},[(0,i.bF)(l,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Plus))]})),_:1}),t[18]||(t[18]=(0,i.Lk)("span",null,"添加网站",-1))]),(0,i.Lk)("div",{class:"menu-item",onClick:ce},[(0,i.bF)(l,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Picture))]})),_:1}),t[19]||(t[19]=(0,i.Lk)("span",null,"更换背景",-1))])],36),[[a.aG,T.value.show]]),(0,i.bo)((0,i.Lk)("div",{style:(0,c.Tr)(se.value),class:"context-menu"},[(0,i.Lk)("div",{class:"menu-item",onClick:pe},[(0,i.bF)(l,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Edit))]})),_:1}),t[20]||(t[20]=(0,i.Lk)("span",null,"编辑",-1))]),(0,i.Lk)("div",{class:"menu-item",onClick:me},[(0,i.bF)(l,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Upload))]})),_:1}),t[21]||(t[21]=(0,i.Lk)("span",null,"上传图标",-1))]),(0,i.Lk)("div",{class:"menu-item",onClick:ke},[(0,i.bF)(l,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Refresh))]})),_:1}),t[22]||(t[22]=(0,i.Lk)("span",null,"随机生成图标",-1))]),(0,i.Lk)("div",{class:"menu-item delete",onClick:ge},[(0,i.bF)(l,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Delete))]})),_:1}),t[23]||(t[23]=(0,i.Lk)("span",null,"删除",-1))])],4),[[a.aG,h.value.show]]),(0,i.bF)(f,{modelValue:m.value,"onUpdate:modelValue":t[10]||(t[10]=function(e){return m.value=e}),title:k.value?"编辑网站":"添加网站",width:"500px"},{footer:(0,i.k6)((function(){return[(0,i.Lk)("span",Mi,[(0,i.bF)(u,{onClick:t[9]||(t[9]=function(e){return m.value=!1})},{default:(0,i.k6)((function(){return t[25]||(t[25]=[(0,i.eW)("取消")])})),_:1}),(0,i.bF)(u,{type:"primary",onClick:be,loading:_.value},{default:(0,i.k6)((function(){return t[26]||(t[26]=[(0,i.eW)(" 确定 ")])})),_:1},8,["loading"])])]})),default:(0,i.k6)((function(){return[(0,i.bF)(d,{model:y.value,"label-width":"80px"},{default:(0,i.k6)((function(){return[(0,i.bF)(o,{label:"网站地址"},{default:(0,i.k6)((function(){return[(0,i.bF)(r,{modelValue:y.value.url,"onUpdate:modelValue":t[6]||(t[6]=function(e){return y.value.url=e}),placeholder:"请输入网站地址",onBlur:Le,clearable:""},{append:(0,i.k6)((function(){return[(0,i.bF)(u,{onClick:Le},{default:(0,i.k6)((function(){return[(0,i.bF)(l,null,{default:(0,i.k6)((function(){return[(0,i.bF)((0,s.R1)(v.Refresh))]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])]})),_:1}),(0,i.bF)(o,{label:"网站名称"},{default:(0,i.k6)((function(){return[(0,i.bF)(r,{modelValue:y.value.name,"onUpdate:modelValue":t[7]||(t[7]=function(e){return y.value.name=e}),placeholder:"请输入网站名称",loading:_.value},null,8,["modelValue","loading"])]})),_:1}),(0,i.bF)(o,{label:"网站图标"},{default:(0,i.k6)((function(){return[(0,i.Lk)("div",Xi,[y.value.icon||y.value.url?((0,i.uX)(),(0,i.CE)("img",{key:0,src:y.value.icon||he(y.value.url),onError:xe,class:"preview-img"},null,40,Ii)):(0,i.Q3)("",!0)]),(0,i.bF)(r,{modelValue:y.value.icon,"onUpdate:modelValue":t[8]||(t[8]=function(e){return y.value.icon=e}),placeholder:"请输入图标地址（可选）"},{append:(0,i.k6)((function(){return[(0,i.bF)(u,{onClick:me},{default:(0,i.k6)((function(){return t[24]||(t[24]=[(0,i.eW)("上传")])})),_:1})]})),_:1},8,["modelValue"])]})),_:1})]})),_:1},8,["model"])]})),_:1},8,["modelValue","title"]),(0,i.bF)(f,{modelValue:z.value,"onUpdate:modelValue":t[12]||(t[12]=function(e){return z.value=e}),title:"新建文件夹",width:"300px","close-on-click-modal":!1,onClosed:ie},{footer:(0,i.k6)((function(){return[(0,i.Lk)("span",Ti,[(0,i.bF)(u,{onClick:oe},{default:(0,i.k6)((function(){return t[27]||(t[27]=[(0,i.eW)("取消")])})),_:1}),(0,i.bF)(u,{type:"primary",onClick:re},{default:(0,i.k6)((function(){return t[28]||(t[28]=[(0,i.eW)("确定")])})),_:1})])]})),default:(0,i.k6)((function(){return[(0,i.bF)(r,{ref_key:"folderNameInput",ref:q,modelValue:Y.value,"onUpdate:modelValue":t[11]||(t[11]=function(e){return Y.value=e}),placeholder:"请输入文件夹名称",onKeyup:(0,a.jR)(re,["enter"])},null,8,["modelValue"])]})),_:1},8,["modelValue"]),(0,i.bF)(f,{modelValue:J.value,"onUpdate:modelValue":t[14]||(t[14]=function(e){return J.value=e}),title:null===(n=B.value)||void 0===n?void 0:n.name,width:"80%",class:"folder-dialog"},{default:(0,i.k6)((function(){return[(0,i.Lk)("div",Ui,[(0,i.bF)((0,s.R1)(gl()),{modelValue:B.value.children,"onUpdate:modelValue":t[13]||(t[13]=function(e){return B.value.children=e}),group:{name:"websites",pull:!0,put:!0},animation:200,"ghost-class":"ghost-card","chosen-class":"dragging-card","drag-class":"dragging-card",onStart:Ae,onEnd:Re,onAdd:Ve,class:"folder-grid"},{item:(0,i.k6)((function(e){var t=e.element;return[(0,i.Lk)("div",{class:(0,c.C4)(["website-item",{"is-folder":"folder"===t.type}]),onContextmenu:(0,a.D$)((function(e){return fe(e,t)}),["prevent"])},[(0,i.Lk)("div",Oi,[(0,i.Lk)("img",{src:t.icon||he(t.url),alt:t.name,onError:function(e){return ye(e,t)}},null,40,zi)]),(0,i.Lk)("div",Pi,(0,c.v_)(t.name),1)],42,Ni)]})),_:1},8,["modelValue"])])]})),_:1},8,["modelValue","title"]),(0,i.bo)((0,i.Lk)("div",{class:(0,c.C4)(["drop-indicator",{"is-folder":"folder"===G.value.type}]),style:(0,c.Tr)({left:G.value.x+"px",top:G.value.y+"px",width:G.value.width+"px",height:G.value.height+"px"})},null,6),[[a.aG,G.value.show]])],32)}}};const qi=(0,h.A)(Yi,[["__scopeId","data-v-3d3f4fc5"]]);var Bi=qi;var Ji=[{path:"/",component:V,children:[{path:"",redirect:"/dashboard"},{path:"dashboard",name:"Dashboard",component:pe,description:"首页概览"},{path:"todos",name:"TodoList",component:ul,description:"待办事项管理"},{path:"password-generator",name:"PasswordGenerator",component:Me,description:"安全的密码生成器"},{path:"report-summary",name:"ReportSummary",component:Ge,description:"日报/周报总结"},{path:"pomodoro-timer",name:"PomodoroTimer",component:tn,description:"一个番茄钟"},{path:"goals",name:"GoalManager",component:fa,description:"目标管理"},{path:"profile",name:"Profile",component:Ea,meta:{title:"个人信息",requiresAuth:!0}},{path:"settings",name:"Settings",component:pu,meta:{title:"系统设置",requiresAuth:!0}},{path:"notes",name:"Notes",component:Ju,meta:{title:"便签记录",icon:"Memo",requiresAuth:!0}},{path:"knowledge",name:"KnowledgeBase",component:ar,meta:{title:"知识库",icon:"Collection",requiresAuth:!0}},{path:"mindmap",name:"MindMap",component:kr,meta:{title:"思维导图",icon:"Share",requiresAuth:!0}},{path:"reviews",name:"Reviews",component:Dr,meta:{title:"复盘记录",icon:"DocumentChecked",requiresAuth:!0}},{path:"calendar",name:"Calendar",component:Qr,meta:{title:"日历",icon:"Calendar",requiresAuth:!0}},{path:"password",name:"Password",component:Me,meta:{title:"密码生成器",icon:"Key",requiresAuth:!0}},{path:"ai-chat",name:"AIChat",component:Eo,meta:{title:"AI问答",icon:"ChatDotRound",requiresAuth:!0}},{path:"gratitude-diary",name:"GratitudeDiary",component:ei,meta:{title:"感恩日记",icon:"EditPen",requiresAuth:!0}},{path:"iframe-view",name:"IframeView",component:ri,meta:{title:"外部页面",requiresAuth:!0}},{path:"web-view",name:"WebView",component:mi,meta:{title:"网页浏览",requiresAuth:!0}},{path:"web-nav",name:"WebNav",component:Bi}]},{path:"/welcome",name:"WelcomePage",component:ye,description:"欢迎来到高效办公"},{path:"/get-start",name:"GetStart",component:Se,description:"开始使用"},{path:"/login",name:"Login",component:ya,meta:{title:"登录",requiresAuth:!1}}],Qi=(0,u.aE)({history:(0,u.LA)("/"),routes:Ji}),ji=Qi;function Gi(e,t,n,l,a,u){var r=(0,i.g2)("router-view");return(0,i.uX)(),(0,i.Wv)(r)}var $i={name:"App"};const Hi=(0,h.A)($i,[["render",Gi]]);var Zi=Hi,ec=[{id:1,title:"仪表盘",path:"/dashboard",icon:"HomeFilled",visible:!0,children:[]},{id:1739182210844,title:"浏览器",path:"/web-view?url=http://linqingyang.com/",icon:"Menu",visible:!0,children:[],editing:!1},{id:1739182210845,title:"WebView",path:"/web-nav",icon:"Menu",visible:!0,children:[],editing:!1},{id:2,title:"任务管理",path:"/tasks",icon:"List",visible:!0,children:[{id:21,title:"待办事项",path:"/todos",icon:"List",visible:!0,children:[]},{id:22,title:"目标管理",path:"/goals",icon:"Aim",visible:!0,children:[]}]},{id:3,title:"工具箱",path:"/tools",icon:"Tools",visible:!0,children:[{id:31,title:"番茄钟",path:"/pomodoro-timer",icon:"Timer",visible:!0,children:[]},{id:32,title:"密码生成器",path:"/password",icon:"Key",visible:!0,children:[]}]},{id:4,title:"知识管理",path:"/knowledge",icon:"Collection",visible:!0,children:[{id:41,title:"知识库",path:"/knowledge",icon:"Collection",visible:!0,children:[]},{id:42,title:"思维导图",path:"/mindmap",icon:"Share",visible:!0,children:[]},{id:43,title:"便签记录",path:"/notes",icon:"Memo",visible:!0,children:[]}]},{id:5,title:"日程管理",path:"/schedule",icon:"Calendar",visible:!0,children:[{id:51,title:"日历",path:"/calendar",icon:"Calendar",visible:!0,children:[]},{id:52,title:"复盘记录",path:"/reviews",icon:"DocumentChecked",visible:!0,children:[]},{id:53,title:"感恩日记",path:"/gratitude-diary",icon:"EditPen",visible:!0,children:[]}]},{id:6,title:"AI助手",path:"/ai-tools",icon:"ChatDotRound",visible:!0,children:[{id:61,title:"系统AI助手",path:"/ai-chat",icon:"ChatDotRound",visible:!0,children:[]},{id:62,title:"DeepSeek",path:"@https://chat.deepseek.com",icon:"Link",visible:!0,children:[]},{id:63,title:"Claude",path:"@https://claude.ai/",icon:"Link",visible:!0,children:[]},{id:64,title:"Gemini",path:"@https://gemini.google.com",icon:"Link",visible:!0,children:[]}]},{id:7,title:"系统设置",path:"/settings",icon:"Setting",visible:!0,children:[]}];function tc(){var e=localStorage.getItem("menu-config");e||localStorage.setItem("menu-config",JSON.stringify(ec))}n(74529);for(var nc=n(41444),lc=(n(4188),n(84067),n(37960)),ac=(n(32366),(0,a.Ef)(Zi)),uc=(0,Y.Ey)(),rc=0,oc=Object.entries(v);rc<oc.length;rc++){var ic=(0,l.A)(oc[rc],2),cc=ic[0],sc=ic[1];ac.component(cc,sc)}ac.use(rl.Ay),ac.use(nc.A),ac.use(uc),ac.component("MdEditor",lc["default"]),ac.use(ji),tc(),ac.mount("#app")}},t={};function n(l){var a=t[l];if(void 0!==a)return a.exports;var u=t[l]={exports:{}};return e[l].call(u.exports,u,u.exports,n),u.exports}n.m=e,function(){var e=[];n.O=function(t,l,a,u){if(!l){var r=1/0;for(s=0;s<e.length;s++){l=e[s][0],a=e[s][1],u=e[s][2];for(var o=!0,i=0;i<l.length;i++)(!1&u||r>=u)&&Object.keys(n.O).every((function(e){return n.O[e](l[i])}))?l.splice(i--,1):(o=!1,u<r&&(r=u));if(o){e.splice(s--,1);var c=a();void 0!==c&&(t=c)}}return t}u=u||0;for(var s=e.length;s>0&&e[s-1][2]>u;s--)e[s]=e[s-1];e[s]=[l,a,u]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var l in t)n.o(t,l)&&!n.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,l){var a,u,r=l[0],o=l[1],i=l[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(i)var s=i(n)}for(t&&t(l);c<r.length;c++)u=r[c],n.o(e,u)&&e[u]&&e[u][0](),e[u]=0;return n.O(s)},l=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=n.O(void 0,[504],(function(){return n(82629)}));l=n.O(l)})();
//# sourceMappingURL=app.ce1349c0.js.map