{"version":3,"file":"js/app.ce1349c0.js","mappings":"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","sources":["webpack://frontend/./src/components/RenderMenuNodes.vue","webpack://frontend/./src/components/RenderMenuNodes.vue?2724","webpack://frontend/./src/components/AppMenu.vue","webpack://frontend/./src/components/AppMenu.vue?b7bc","webpack://frontend/./src/layouts/MainLayout.vue","webpack://frontend/./src/layouts/MainLayout.vue?64ec","webpack://frontend/./src/stores/review.js","webpack://frontend/./src/views/Dashboard.vue","webpack://frontend/./src/views/Dashboard.vue?040e","webpack://frontend/./src/components/HelloWorld.vue","webpack://frontend/./src/components/HelloWorld.vue?bd04","webpack://frontend/./src/components/GetStart.vue","webpack://frontend/./src/components/GetStart.vue?f6ca","webpack://frontend/./src/components/PasswordGenerator.vue","webpack://frontend/./src/components/PasswordGenerator.vue?dcc3","webpack://frontend/./src/components/ReportSummary.vue","webpack://frontend/./src/components/ReportSummary.vue?ee9b","webpack://frontend/./src/components/PomodoroTimer.vue","webpack://frontend/./src/components/PomodoroTimer.vue?0a35","webpack://frontend/./src/components/TodoItems.vue","webpack://frontend/./src/components/TodoItems.vue?7cfd","webpack://frontend/./src/views/TodoList.vue","webpack://frontend/./src/components/goals/GoalMindMap.vue","webpack://frontend/./src/components/goals/GoalMindMap.vue?39e3","webpack://frontend/./src/components/goals/GoalList.vue","webpack://frontend/./src/components/goals/GoalList.vue?8b49","webpack://frontend/./src/components/goals/GoalKanban.vue","webpack://frontend/./src/components/goals/GoalKanban.vue?b284","webpack://frontend/./src/components/goals/GoalDetail.vue","webpack://frontend/./src/components/goals/GoalDetail.vue?869a","webpack://frontend/./src/components/goals/GoalCreator.vue","webpack://frontend/./src/components/goals/GoalCreator.vue?5ca3","webpack://frontend/./src/views/GoalManager.vue","webpack://frontend/./src/views/GoalManager.vue?6b6b","webpack://frontend/./src/views/LoginView.vue","webpack://frontend/./src/views/LoginView.vue?5755","webpack://frontend/./src/views/ProfileView.vue","webpack://frontend/./src/views/ProfileView.vue?3e49","webpack://frontend/./src/components/MenuManager.vue","webpack://frontend/./src/components/MenuManager.vue?713d","webpack://frontend/./src/views/SettingsView.vue","webpack://frontend/./src/views/SettingsView.vue?80d1","webpack://frontend/./src/components/NoteList.vue","webpack://frontend/./src/components/NoteList.vue?481b","webpack://frontend/./src/stores/noteStore.js","webpack://frontend/./src/views/NotesView.vue","webpack://frontend/./src/views/NotesView.vue?e4ec","webpack://frontend/./src/views/KnowledgeBaseView.vue","webpack://frontend/./src/views/KnowledgeBaseView.vue?231d","webpack://frontend/./src/views/MindMapView.vue","webpack://frontend/./src/views/MindMapView.vue?ae91","webpack://frontend/./src/views/ReviewsView.vue","webpack://frontend/./src/views/ReviewsView.vue?ba19","webpack://frontend/./src/stores/todo.js","webpack://frontend/./src/views/CalendarView.vue","webpack://frontend/./src/views/CalendarView.vue?5640","webpack://frontend/./src/views/AIChatView.vue","webpack://frontend/./src/views/AIChatView.vue?60c0","webpack://frontend/./src/components/GratitudeDiaryItems.vue","webpack://frontend/./src/components/GratitudeDiaryItems.vue?ff4a","webpack://frontend/./src/views/GratitudeDiaryView.vue","webpack://frontend/./src/views/GratitudeDiaryView.vue?7f5d","webpack://frontend/./src/views/IframeView.vue","webpack://frontend/./src/views/IframeView.vue?e105","webpack://frontend/./src/views/WebView.vue","webpack://frontend/./src/views/WebView.vue?3c23","webpack://frontend/./src/views/WebNav.vue","webpack://frontend/./src/views/WebNav.vue?f701","webpack://frontend/./src/views/WebNavigationView.vue","webpack://frontend/./src/router/index.js","webpack://frontend/./src/App.vue","webpack://frontend/./src/App.vue?7ccd","webpack://frontend/./src/utils/initMenuConfig.js","webpack://frontend/./src/main.js","webpack://frontend/webpack/bootstrap","webpack://frontend/webpack/runtime/chunk loaded","webpack://frontend/webpack/runtime/compat get default export","webpack://frontend/webpack/runtime/define property getters","webpack://frontend/webpack/runtime/global","webpack://frontend/webpack/runtime/hasOwnProperty shorthand","webpack://frontend/webpack/runtime/make namespace object","webpack://frontend/webpack/runtime/publicPath","webpack://frontend/webpack/runtime/jsonp chunk loading","webpack://frontend/webpack/startup"],"sourcesContent":["<template>\r\n  <template v-for=\"node in menuNodes\" :key=\"node.id\">\r\n    <!-- 有子菜单时渲染 sub-menu -->\r\n    <el-sub-menu \r\n      v-if=\"node.children && node.children.length && node.visible\" \r\n      :index=\"node.path\"\r\n    >\r\n      <template #title>\r\n        <el-icon><component :is=\"node.icon\" /></el-icon>\r\n        <span>{{ node.title }}</span>\r\n      </template>\r\n      <!-- 递归渲染子菜单 -->\r\n      <RenderMenuNodes :menu-nodes=\"node.children\" />\r\n    </el-sub-menu>\r\n\r\n    <!-- 没有子菜单时渲染 menu-item -->\r\n    <el-menu-item \r\n      v-else-if=\"node.visible\"\r\n      :index=\"node.path\"\r\n      @click=\"navigateTo(node)\"\r\n    >\r\n      <el-icon><component :is=\"node.icon\" /></el-icon>\r\n      <span>{{ node.title }}</span>\r\n    </el-menu-item>\r\n  </template>\r\n</template>\r\n\r\n<script setup>\r\nimport { useRouter } from 'vue-router'\r\nimport {\r\n  HomeFilled,\r\n  List,\r\n  Timer,\r\n  Aim,\r\n  Share,\r\n  Memo,\r\n  Collection,\r\n  Calendar,\r\n  ChatDotRound,\r\n  EditPen,\r\n} from '@element-plus/icons-vue'\r\n\r\nconst router = useRouter()\r\n\r\ndefineProps({\r\n  menuNodes: {\r\n    type: Array,\r\n    required: true\r\n  }\r\n})\r\n\r\n// 导航方法\r\nconst navigateTo = (node) => {\r\n  const path = node.path\r\n  \r\n  // 处理不同类型的路径\r\n  if (path.startsWith('@')) {\r\n    // @ 开头表示在新窗口打开外部链接\r\n    window.open(path.slice(1), '_blank')\r\n  } else if (path.startsWith('#')) {\r\n    // # 开头表示使用 iframe 嵌入\r\n    router.push({\r\n      path: '/iframe-view',\r\n      query: { \r\n        url: path.slice(1),\r\n        title: node.title\r\n      }\r\n    })\r\n  } else if (path.startsWith('/web-view')) {\r\n    // 已经是 web-view 格式的路径，直接使用\r\n    router.push(path)\r\n  } else if (path.startsWith('http://') || path.startsWith('https://')) {\r\n    // 如果是完整的 URL，但没有特殊前缀，默认使用 web-view\r\n    router.push({\r\n      path: '/web-view',\r\n      query: { \r\n        url: path,\r\n        title: node.title\r\n      }\r\n    })\r\n  } else {\r\n    // 其他情况（内部路由）直接导航\r\n    router.push(path)\r\n  }\r\n}\r\n</script> ","import script from \"./RenderMenuNodes.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./RenderMenuNodes.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <el-menu\n    :default-active=\"activeMenu\"\n    class=\"app-menu\"\n    :collapse=\"isCollapse\"\n  >\n    <div class=\"collapse-btn\" @click=\"toggleCollapse\">\n      <el-icon>\n        <component :is=\"isCollapse ? 'Expand' : 'Fold'\" />\n      </el-icon>\n    </div>\n    \n    <RenderMenuNodes :menu-nodes=\"menuNodes\" />\n  </el-menu>\n</template>\n\n<script setup>\nimport { ref, computed, watch } from 'vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport RenderMenuNodes from './RenderMenuNodes.vue'\nimport { Expand, Fold } from '@element-plus/icons-vue'\n\nconst router = useRouter()\nconst route = useRoute()\n\n// 当前激活的菜单项\nconst activeMenu = computed(() => route.path)\n\n// 菜单折叠状态\nconst isCollapse = ref(false)\n\n// 获取菜单数据\nconst menuNodes = computed(() => {\n  const menuConfig = localStorage.getItem('menu-config')\n  if (menuConfig) {\n    return JSON.parse(menuConfig)\n  }\n  return []\n})\n\n// 切换折叠状态\nconst toggleCollapse = () => {\n  isCollapse.value = !isCollapse.value\n}\n\n// 定义事件\nconst emit = defineEmits(['collapse-change'])\n\n// 监听折叠状态变化\nwatch(isCollapse, (newValue) => {\n  emit('collapse-change', newValue)\n})\n</script>\n\n<style scoped>\n.app-menu {\n  height: 100%;\n  border-right: none;\n  transition: width 0.3s;\n  width: 200px;\n}\n\n.app-menu.el-menu--collapse {\n  width: 64px;\n}\n\n.collapse-btn {\n  height: 50px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  border-bottom: 1px solid var(--el-border-color-light);\n}\n\n.collapse-btn:hover {\n  background-color: var(--el-menu-hover-bg-color);\n}\n</style> ","import script from \"./AppMenu.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AppMenu.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AppMenu.vue?vue&type=style&index=0&id=5bd75526&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5bd75526\"]])\n\nexport default __exports__","<template>\n  <el-container class=\"layout-container\">\n    <el-aside :width=\"isCollapse ? '64px' : '200px'\" class=\"aside\">\n      <div class=\"logo\" :class=\"{ 'collapsed': isCollapse }\">\n        <img v-if=\"isCollapse\" src=\"@/assets/logo.svg\" alt=\"Logo\" />\n        <img v-else src=\"@/assets/logo-full.svg\" alt=\"Logo\" />\n      </div>\n      <AppMenu @collapse-change=\"handleCollapseChange\" />\n    </el-aside>\n    \n    <el-container class=\"main-container\">\n      <el-header>\n        <div class=\"header-left\">\n          <!-- <el-button @click=\"toggleCollapse\">\n            <el-icon>\n              <component :is=\"isCollapse ? 'Expand' : 'Fold'\" />\n            </el-icon>\n          </el-button> -->\n        </div>\n        <div class=\"header-right\">\n          <el-dropdown @command=\"handleCommand\">\n            <div class=\"avatar-container\">\n              <el-avatar :size=\"32\" :src=\"userAvatar\">\n                <span>{{ userInfo.name?.charAt(0)?.toUpperCase() }}</span>\n              </el-avatar>\n              <span class=\"username\">{{ userInfo.name }}</span>\n              <el-icon class=\"el-icon--right\"><arrow-down /></el-icon>\n            </div>\n            <template #dropdown>\n              <el-dropdown-menu>\n                <el-dropdown-item command=\"profile\">\n                  <el-icon><user /></el-icon>个人信息\n                </el-dropdown-item>\n                <el-dropdown-item command=\"settings\">\n                  <el-icon><setting /></el-icon>系统设置\n                </el-dropdown-item>\n                <el-dropdown-item divided command=\"logout\">\n                  <el-icon><switch-button /></el-icon>退出登录\n                </el-dropdown-item>\n              </el-dropdown-menu>\n            </template>\n          </el-dropdown>\n        </div>\n      </el-header>\n      \n      <el-main>\n        <router-view />\n      </el-main>\n    </el-container>\n  </el-container>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport {\n  HomeFilled,\n  List,\n  Timer,\n  Aim,\n  Fold,\n  Expand,\n  ArrowDown,\n  User,\n  Setting,\n  SwitchButton,\n  Memo,\n  Collection,\n  Share,\n  DocumentChecked,\n  Calendar,\n  ChatDotRound,\n  EditPen,\n} from '@element-plus/icons-vue'\nimport { ElMessageBox } from 'element-plus'\nimport AppMenu from '@/components/AppMenu.vue'\n\nconst router = useRouter()\nconst route = useRoute()\n\nconst isCollapse = ref(false)\nconst activeMenu = computed(() => route.path)\n\n// 模拟用户信息\nconst userInfo = ref({\n  name: '测试用户',\n  avatar: 'https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png'  // 可以设置默认头像URL\n})\n\nconst userAvatar = computed(() => userInfo.value.avatar || '')\n\nconst handleSelect = (key) => {\n  router.push(key)\n}\n\nconst toggleCollapse = () => {\n  isCollapse.value = !isCollapse.value\n}\n\nconst handleCollapseChange = (collapsed) => {\n  isCollapse.value = collapsed\n}\n\n// 处理下拉菜单命令\nconst handleCommand = async (command) => {\n  switch (command) {\n    case 'profile':\n      router.push('/profile')\n      break\n    case 'settings':\n      router.push('/settings')\n      break\n    case 'logout':\n      await handleLogout()\n      break\n  }\n}\n\n// 处理退出登录\nconst handleLogout = async () => {\n  try {\n    await ElMessageBox.confirm(\n      '确定要退出登录吗？',\n      '提示',\n      {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning',\n      }\n    )\n    // TODO: 调用退出登录接口\n    router.push('/login')\n  } catch (error) {\n    // 用户取消退出\n  }\n}\n</script>\n\n<style scoped>\n.layout-container {\n  height: 100vh;\n}\n\n.aside {\n  transition: width 0.3s;\n  background-color: var(--el-menu-bg-color);\n}\n\n.logo {\n  height: 60px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0 16px;\n  transition: all 0.3s;\n  overflow: hidden;\n  background-color: var(--el-menu-bg-color);\n}\n\n.logo img {\n  height: 32px;\n  transition: all 0.3s;\n}\n\n.logo.collapsed {\n  padding: 0 16px;\n}\n\n.el-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-bottom: 1px solid var(--el-border-color-light);\n  background-color: white;\n}\n\n.main-container {\n  min-height: 100vh;\n}\n\n.el-menu-vertical:not(.el-menu--collapse) {\n  width: 200px;\n}\n\n.el-menu-vertical {\n  border-right: none;\n}\n\n.header-right {\n  display: flex;\n  align-items: center;\n}\n\n.avatar-container {\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  padding: 0 8px;\n  height: 40px;\n  border-radius: 20px;\n  transition: background-color 0.3s;\n}\n\n.avatar-container:hover {\n  background-color: var(--el-fill-color-light);\n}\n\n.username {\n  margin: 0 8px;\n  font-size: 14px;\n  color: var(--el-text-color-primary);\n}\n\n.el-dropdown-menu__item {\n  display: flex;\n  align-items: center;\n}\n\n.el-dropdown-menu__item .el-icon {\n  margin-right: 8px;\n  font-size: 16px;\n}\n</style> ","import script from \"./MainLayout.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MainLayout.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MainLayout.vue?vue&type=style&index=0&id=f0c4d530&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-f0c4d530\"]])\n\nexport default __exports__","import { ref } from 'vue'\r\nimport { defineStore } from 'pinia'\r\n\r\nexport const useReviewStore = defineStore('review', () => {\r\n  const reviews = ref([])\r\n\r\n  // 加载复盘记录\r\n  const loadReviews = () => {\r\n    const stored = localStorage.getItem('reviews')\r\n    if (stored) {\r\n      reviews.value = JSON.parse(stored)\r\n    }\r\n  }\r\n\r\n  // 保存复盘记录\r\n  const saveReviews = () => {\r\n    localStorage.setItem('reviews', JSON.stringify(reviews.value))\r\n  }\r\n\r\n  // 添加复盘记录\r\n  const addReview = (review) => {\r\n    reviews.value.unshift(review)\r\n    saveReviews()\r\n  }\r\n\r\n  // 更新复盘记录\r\n  const updateReview = (id, updatedReview) => {\r\n    const index = reviews.value.findIndex(r => r.id === id)\r\n    if (index !== -1) {\r\n      reviews.value[index] = { ...reviews.value[index], ...updatedReview }\r\n      saveReviews()\r\n    }\r\n  }\r\n\r\n  // 删除复盘记录\r\n  const deleteReview = (id) => {\r\n    reviews.value = reviews.value.filter(r => r.id !== id)\r\n    saveReviews()\r\n  }\r\n\r\n  // 获取最近的复盘记录\r\n  const getRecentReviews = (limit = 5) => {\r\n    return reviews.value\r\n      .sort((a, b) => new Date(b.date) - new Date(a.date))\r\n      .slice(0, limit)\r\n  }\r\n\r\n  // 获取按类型筛选的复盘记录\r\n  const getFilteredReviews = (type = 'all') => {\r\n    return reviews.value\r\n      .filter(review => type === 'all' || review.type === type)\r\n      .sort((a, b) => new Date(b.date) - new Date(a.date))\r\n  }\r\n\r\n  return {\r\n    reviews,\r\n    loadReviews,\r\n    addReview,\r\n    updateReview,\r\n    deleteReview,\r\n    getRecentReviews,\r\n    getFilteredReviews\r\n  }\r\n}) ","<!-- eslint-disable vue/multi-word-component-names -->\n<template>\n  <div class=\"dashboard-container\">\n    <!-- 统计卡片 -->\n    <div class=\"stats-container\">\n      <el-row :gutter=\"20\">\n        <el-col :span=\"6\" v-for=\"stat in stats\" :key=\"stat.title\">\n          <el-card \n            class=\"stat-card\" \n            :class=\"[stat.class, 'clickable']\" \n            shadow=\"hover\"\n            @click=\"handleStatClick(stat.type)\"\n          >\n            <div class=\"stat-content\">\n              <div class=\"stat-icon\">\n                <el-icon><component :is=\"stat.icon\" /></el-icon>\n              </div>\n              <div class=\"stat-info\">\n                <div class=\"stat-title\">{{ stat.title }}</div>\n                <div class=\"stat-number\">{{ stat.value }}</div>\n                <div class=\"stat-desc\">{{ stat.description }}</div>\n              </div>\n            </div>\n          </el-card>\n        </el-col>\n      </el-row>\n    </div>\n\n    <!-- 图表区域 -->\n    <el-row :gutter=\"20\" class=\"charts-container\">\n      <!-- 任务完成趋势图 -->\n      <el-col :span=\"16\">\n        <el-card class=\"chart-card\">\n          <template #header>\n            <div class=\"chart-header\">\n              <span>任务完成趋势</span>\n              <el-radio-group v-model=\"trendTimeRange\" size=\"small\">\n                <el-radio-button label=\"week\">本周</el-radio-button>\n                <el-radio-button label=\"month\">本月</el-radio-button>\n                <el-radio-button label=\"year\">本年</el-radio-button>\n              </el-radio-group>\n            </div>\n          </template>\n          <v-chart class=\"chart\" :option=\"taskTrendOption\" autoresize />\n        </el-card>\n      </el-col>\n\n      <!-- 目标完成进度 -->\n      <el-col :span=\"8\">\n        <el-card class=\"chart-card\">\n          <template #header>\n            <div class=\"chart-header\">\n              <span>目标完成进度</span>\n            </div>\n          </template>\n          <v-chart class=\"chart\" :option=\"goalProgressOption\" autoresize />\n        </el-card>\n      </el-col>\n    </el-row>\n\n    <!-- 在 bottom-container 之前添加复盘区域 -->\n    <el-row :gutter=\"20\" class=\"review-container\">\n      <el-col :span=\"24\">\n        <el-card class=\"review-card\">\n          <template #header>\n            <div class=\"card-header\">\n              <span>复盘记录</span>\n              <div class=\"review-actions\">\n                <el-button-group>\n                  <el-button \n                    type=\"primary\" \n                    :plain=\"reviewType !== 'daily'\"\n                    @click=\"reviewType = 'daily'\"\n                  >\n                    日复盘\n                  </el-button>\n                  <el-button \n                    type=\"primary\" \n                    :plain=\"reviewType !== 'weekly'\"\n                    @click=\"reviewType = 'weekly'\"\n                  >\n                    周复盘\n                  </el-button>\n                  <el-button \n                    type=\"primary\" \n                    :plain=\"reviewType !== 'monthly'\"\n                    @click=\"reviewType = 'monthly'\"\n                  >\n                    月复盘\n                  </el-button>\n                </el-button-group>\n                <el-button type=\"primary\" @click=\"openReviewDialog\">\n                  <el-icon><plus /></el-icon>新建复盘\n                </el-button>\n              </div>\n            </div>\n          </template>\n          \n          <!-- 复盘列表 -->\n          <el-timeline>\n            <el-timeline-item\n              v-for=\"review in filteredReviews\"\n              :key=\"review.id\"\n              :timestamp=\"review.date\"\n              :type=\"getReviewType(review.type)\"\n            >\n              <el-card class=\"review-item\">\n                <template #header>\n                  <div class=\"review-item-header\">\n                    <el-tag :type=\"getReviewTagType(review.type)\">\n                      {{ getReviewTypeText(review.type) }}\n                    </el-tag>\n                    <span class=\"review-title\">{{ review.title }}</span>\n                  </div>\n                </template>\n                <div class=\"review-content\">\n                  <div v-if=\"review.achievements\" class=\"review-section\">\n                    <h4>🎯 主要成就</h4>\n                    <p>{{ review.achievements }}</p>\n                  </div>\n                  <div v-if=\"review.lessons\" class=\"review-section\">\n                    <h4>📝 经验教训</h4>\n                    <p>{{ review.lessons }}</p>\n                  </div>\n                  <div v-if=\"review.plans\" class=\"review-section\">\n                    <h4>📋 下步计划</h4>\n                    <p>{{ review.plans }}</p>\n                  </div>\n                </div>\n              </el-card>\n            </el-timeline-item>\n          </el-timeline>\n        </el-card>\n      </el-col>\n    </el-row>\n\n    <!-- 活动时间线和活跃度图表 -->\n    <el-row :gutter=\"20\" class=\"bottom-container\">\n      <!-- 近期活动时间线 -->\n      <el-col :span=\"12\">\n        <el-card class=\"timeline-card\">\n          <template #header>\n            <div class=\"card-header\">\n              <span>近期活动</span>\n            </div>\n          </template>\n          <el-timeline>\n            <el-timeline-item\n              v-for=\"activity in recentActivities\"\n              :key=\"activity.id\"\n              :timestamp=\"activity.time\"\n              :type=\"activity.type\"\n            >\n              {{ activity.content }}\n            </el-timeline-item>\n          </el-timeline>\n        </el-card>\n      </el-col>\n\n      <!-- 活跃度热力图 -->\n      <el-col :span=\"12\">\n        <el-card class=\"heatmap-card\">\n          <template #header>\n            <div class=\"card-header\">\n              <span>活跃度统计</span>\n              <el-tooltip content=\"统计近一年的活动数据\">\n                <el-icon><info-filled /></el-icon>\n              </el-tooltip>\n            </div>\n          </template>\n          <v-chart class=\"heatmap-chart\" :option=\"heatmapOption\" autoresize />\n        </el-card>\n      </el-col>\n    </el-row>\n\n    <!-- 最近待办列表 -->\n    <el-card class=\"recent-todos\">\n      <template #header>\n        <div class=\"card-header\">\n          <span>最近待办</span>\n          <el-button type=\"primary\" link @click=\"goToTodo\">\n            查看全部\n            <el-icon class=\"el-icon--right\"><arrow-right /></el-icon>\n          </el-button>\n        </div>\n      </template>\n      <el-table :data=\"recentTodos\" style=\"width: 100%\">\n        <el-table-column prop=\"text\" label=\"任务内容\"></el-table-column>\n        <el-table-column prop=\"priority\" label=\"优先级\" width=\"100\">\n          <template #default=\"{ row }\">\n            <el-tag :type=\"getPriorityType(row.priority)\">{{ row.priority }}</el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"dueDate\" label=\"截止日期\" width=\"180\">\n          <template #default=\"{ row }\">\n            <span :class=\"{ 'text-danger': isOverdue(row.dueDate) }\">\n              {{ formatDate(row.dueDate) }}\n            </span>\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-card>\n\n    <!-- 添加复盘对话框 -->\n    <el-dialog\n      v-model=\"reviewDialogVisible\"\n      :title=\"getReviewDialogTitle\"\n      width=\"60%\"\n    >\n      <el-form :model=\"reviewForm\" ref=\"reviewFormRef\" :rules=\"reviewRules\">\n        <el-form-item label=\"复盘类型\" prop=\"type\">\n          <el-select v-model=\"reviewForm.type\">\n            <el-option label=\"日复盘\" value=\"daily\" />\n            <el-option label=\"周复盘\" value=\"weekly\" />\n            <el-option label=\"月复盘\" value=\"monthly\" />\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"标题\" prop=\"title\">\n          <el-input v-model=\"reviewForm.title\" placeholder=\"请输入复盘标题\" />\n        </el-form-item>\n        <el-form-item label=\"主要成就\" prop=\"achievements\">\n          <el-input\n            v-model=\"reviewForm.achievements\"\n            type=\"textarea\"\n            :rows=\"3\"\n            placeholder=\"记录本阶段的主要成就和进展\"\n          />\n        </el-form-item>\n        <el-form-item label=\"经验教训\" prop=\"lessons\">\n          <el-input\n            v-model=\"reviewForm.lessons\"\n            type=\"textarea\"\n            :rows=\"3\"\n            placeholder=\"总结经验教训和改进点\"\n          />\n        </el-form-item>\n        <el-form-item label=\"下步计划\" prop=\"plans\">\n          <el-input\n            v-model=\"reviewForm.plans\"\n            type=\"textarea\"\n            :rows=\"3\"\n            placeholder=\"制定下一阶段的计划和目标\"\n          />\n        </el-form-item>\n      </el-form>\n      <template #footer>\n        <span class=\"dialog-footer\">\n          <el-button @click=\"reviewDialogVisible = false\">取消</el-button>\n          <el-button type=\"primary\" @click=\"submitReview\">\n            确认\n          </el-button>\n        </span>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted, watch } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { use } from 'echarts/core'\nimport { CanvasRenderer } from 'echarts/renderers'\nimport {\n  LineChart,\n  PieChart,\n  HeatmapChart,\n} from 'echarts/charts'\nimport {\n  GridComponent,\n  TooltipComponent,\n  LegendComponent,\n  ToolboxComponent,\n  CalendarComponent,\n  VisualMapComponent,\n} from 'echarts/components'\nimport VChart from 'vue-echarts'\nimport { ElMessage } from 'element-plus'\nimport {\n  Plus,\n  Timer,\n  List,\n  Check,\n  Warning,\n  InfoFilled,\n  ArrowRight,\n} from '@element-plus/icons-vue'\nimport { useReviewStore } from '@/stores/review'\n\n// 注册 ECharts 组件\nuse([\n  CanvasRenderer,\n  LineChart,\n  PieChart,\n  HeatmapChart,\n  GridComponent,\n  TooltipComponent,\n  LegendComponent,\n  ToolboxComponent,\n  CalendarComponent,\n  VisualMapComponent,\n])\n\nconst router = useRouter()\nconst todos = ref([])\nconst trendTimeRange = ref('week')\n\nconst reviewStore = useReviewStore()\n\n// 从 localStorage 加载待办事项\nconst loadTodos = () => {\n  const stored = localStorage.getItem('todos')\n  if (stored) {\n    todos.value = JSON.parse(stored)\n  }\n}\n\n// 添加保存到 localStorage 的函数\nconst saveTodosToStorage = () => {\n  localStorage.setItem('todos', JSON.stringify(todos.value))\n}\n\n// 添加 todos 的 watch\nwatch(() => todos.value, () => {\n  saveTodosToStorage()\n}, { deep: true })\n\n// 修改统计数据计算方式\nconst stats = computed(() => [\n  {\n    title: '待办任务',\n    value: todos.value.filter(t => !t.completed).length,\n    description: '个待处理任务',\n    class: 'todo-card',\n    icon: 'List',\n    type: 'todo'\n  },\n  {\n    title: '专注时长',\n    value: getTotalPomodoros(),\n    description: '个番茄钟',\n    class: 'focus-card',\n    icon: 'Timer',\n    type: 'pomodoro'\n  },\n  {\n    title: '完成率',\n    value: getCompletionRate(),\n    description: getCompletionTrend(),\n    class: 'completed-card',\n    icon: 'Check',\n    type: 'completed'\n  },\n  {\n    title: '逾期任务',\n    value: getOverdueTasks().length,\n    description: '需要关注',\n    class: 'overdue-card',\n    icon: 'Warning',\n    type: 'overdue'\n  }\n])\n\n// 计算番茄钟总数\nconst getTotalPomodoros = () => {\n  return todos.value.reduce((sum, task) => sum + (task.pomodoros || 0), 0)\n}\n\n// 计算完成率\nconst getCompletionRate = () => {\n  const total = todos.value.length\n  if (total === 0) return '0%'\n  const completed = todos.value.filter(t => t.completed).length\n  return Math.round((completed / total) * 100) + '%'\n}\n\n// 计算完成率趋势\nconst getCompletionTrend = () => {\n  // 获取一周前的完成率\n  const lastWeek = new Date()\n  lastWeek.setDate(lastWeek.getDate() - 7)\n  \n  const oldTasks = todos.value.filter(t => t.createdAt < lastWeek.getTime())\n  const oldCompleted = oldTasks.filter(t => t.completed).length\n  const oldRate = oldTasks.length ? oldCompleted / oldTasks.length : 0\n  \n  const currentRate = parseFloat(getCompletionRate()) / 100\n  const diff = currentRate - oldRate\n  \n  if (Math.abs(diff) < 0.01) return '持平'\n  return diff > 0 ? `较上周 +${Math.round(diff * 100)}%` : `较上周 ${Math.round(diff * 100)}%`\n}\n\n// 获取逾期任务\nconst getOverdueTasks = () => {\n  return todos.value.filter(t => !t.completed && isOverdue(t.dueDate))\n}\n\n// 获取指定日期完成的任务数\nconst getCompletedTasksForDate = (date) => {\n  if (trendTimeRange.value === 'year') {\n    // 按月统计\n    const year = date.getFullYear()\n    const month = date.getMonth()\n    const startDate = new Date(year, month, 1)\n    const endDate = new Date(year, month + 1, 0)\n    return todos.value.filter(task => \n      task.completed && \n      task.completedAt >= startDate.getTime() && \n      task.completedAt <= endDate.getTime()\n    ).length\n  } else {\n    // 按日统计\n    const nextDay = new Date(date)\n    nextDay.setDate(date.getDate() + 1)\n    return todos.value.filter(task => \n      task.completed && \n      task.completedAt >= date.getTime() && \n      task.completedAt < nextDay.getTime()\n    ).length\n  }\n}\n\n// 获取指定日期新增的任务数\nconst getNewTasksForDate = (date) => {\n  if (trendTimeRange.value === 'year') {\n    // 按月统计\n    const year = date.getFullYear()\n    const month = date.getMonth()\n    const startDate = new Date(year, month, 1)\n    const endDate = new Date(year, month + 1, 0)\n    return todos.value.filter(task => \n      task.createdAt >= startDate.getTime() && \n      task.createdAt <= endDate.getTime()\n    ).length\n  } else {\n    // 按日统计\n    const nextDay = new Date(date)\n    nextDay.setDate(date.getDate() + 1)\n    return todos.value.filter(task => \n      task.createdAt >= date.getTime() && \n      task.createdAt < nextDay.getTime()\n    ).length\n  }\n}\n\n// 修改获取日期范围的函数\nconst getDateRange = computed(() => {\n  const dates = []\n  const today = new Date()\n  let year, month, daysInMonth, currentYear\n  \n  switch (trendTimeRange.value) {\n    case 'week': {\n      // 获取最近7天\n      for (let i = 6; i >= 0; i--) {\n        const date = new Date()\n        date.setDate(date.getDate() - i)\n        date.setHours(0, 0, 0, 0)\n        dates.push(date)\n      }\n      break\n    }\n      \n    case 'month': {\n      // 获取本月所有日期\n      year = today.getFullYear()\n      month = today.getMonth()\n      daysInMonth = new Date(year, month + 1, 0).getDate()\n      \n      for (let i = 0; i < daysInMonth; i++) {\n        const date = new Date(year, month, i + 1)\n        date.setHours(0, 0, 0, 0)\n        dates.push(date)\n      }\n      break\n    }\n      \n    case 'year': {\n      // 获取本年每月的数据\n      currentYear = today.getFullYear()\n      for (let month = 0; month < 12; month++) {\n        const date = new Date(currentYear, month, 1)\n        dates.push(date)\n      }\n      break\n    }\n  }\n  \n  return dates\n})\n\n// 修改任务完成趋势图配置\nconst taskTrendOption = computed(() => {\n  const dates = getDateRange.value\n  const completedData = dates.map(date => getCompletedTasksForDate(date))\n  const newData = dates.map(date => getNewTasksForDate(date))\n  \n  return {\n    tooltip: {\n      trigger: 'axis',\n      formatter: function(params) {\n        const date = dates[params[0].dataIndex]\n        return formatDate(date) + '<br/>' +\n          params.map(param => \n            param.seriesName + ': ' + param.value\n          ).join('<br/>')\n      }\n    },\n    legend: {\n      data: ['已完成', '新增']\n    },\n    grid: {\n      left: '3%',\n      right: '4%',\n      bottom: '3%',\n      containLabel: true\n    },\n    xAxis: {\n      type: 'category',\n      boundaryGap: false,\n      data: dates.map(date => formatDateShort(date)),\n      axisLabel: {\n        interval: trendTimeRange.value === 'week' ? 0 : 'auto',\n        rotate: trendTimeRange.value === 'month' ? 30 : 0\n      }\n    },\n    yAxis: {\n      type: 'value',\n      minInterval: 1\n    },\n    series: [\n      {\n        name: '已完成',\n        type: 'line',\n        data: completedData,\n        smooth: true,\n        areaStyle: {\n          opacity: 0.1\n        },\n        itemStyle: {\n          color: '#67C23A'\n        },\n        lineStyle: {\n          width: 2\n        }\n      },\n      {\n        name: '新增',\n        type: 'line',\n        data: newData,\n        smooth: true,\n        areaStyle: {\n          opacity: 0.1\n        },\n        itemStyle: {\n          color: '#409EFF'\n        },\n        lineStyle: {\n          width: 2\n        }\n      }\n    ]\n  }\n})\n\n// 修改日期格式化函数\nconst formatDateShort = (date) => {\n  switch (trendTimeRange.value) {\n    case 'week':\n      return `${date.getMonth() + 1}/${date.getDate()}`\n    case 'month':\n      return `${date.getDate()}日`\n    case 'year':\n      return `${date.getMonth() + 1}月`\n    default:\n      return `${date.getMonth() + 1}/${date.getDate()}`\n  }\n}\n\n// 添加 watch 以监听时间范围变化\nwatch(() => trendTimeRange.value, () => {\n  // 时间范围改变时自动更新图表\n  // Vue会自动重新计算 taskTrendOption\n})\n\n// 修改活跃度热力图数据\nconst getVirtualData = (year) => {\n  const data = []\n  const startDate = new Date(year, 0, 1)\n  const endDate = new Date()\n  \n  for (let time = startDate.getTime(); time <= endDate.getTime(); time += 86400000) {\n    const date = new Date(time)\n    const dateStr = formatDate(date, 'yyyy-MM-dd')\n    const completedCount = getCompletedTasksForDate(date)\n    const newCount = getNewTasksForDate(date)\n    data.push([dateStr, completedCount + newCount])\n  }\n  \n  return data\n}\n\n// 修改最近活动数据\nconst updateRecentActivities = () => {\n  const activities = []\n  const now = Date.now()\n  const threeDaysAgo = now - (3 * 24 * 60 * 60 * 1000)\n  \n  // 添加完成的任务\n  todos.value\n    .filter(task => task.completed && task.completedAt > threeDaysAgo)\n    .forEach(task => {\n      activities.push({\n        id: `complete-${task.id}`,\n        content: `完成了任务 \"${task.text}\"`,\n        time: formatDate(task.completedAt),\n        type: 'success'\n      })\n    })\n    \n  // 添加新建的任务\n  todos.value\n    .filter(task => task.createdAt > threeDaysAgo)\n    .forEach(task => {\n      activities.push({\n        id: `create-${task.id}`,\n        content: `创建了新任务 \"${task.text}\"`,\n        time: formatDate(task.createdAt),\n        type: 'primary'\n      })\n    })\n  \n  // 按时间排序并只保留最近的活动\n  recentActivities.value = activities\n    .sort((a, b) => new Date(b.time) - new Date(a.time))\n    .slice(0, 5)\n}\n\n// 监听 todos 变化，更新活动列表\nwatch(() => todos.value, () => {\n  updateRecentActivities()\n}, { deep: true })\n\n// 添加目标分类统计函数\nconst getGoalProgress = () => {\n  const categories = {\n    '工作目标': { total: 0, completed: 0, target: 100 },\n    '学习目标': { total: 0, completed: 0, target: 80 },\n    '生活目标': { total: 0, completed: 0, target: 60 },\n    '其他目标': { total: 0, completed: 0, target: 50 }\n  }\n  \n  // 统计每个分类的任务数量和完成数量\n  todos.value.forEach(todo => {\n    const category = todo.category || '其他目标'\n    if (categories[category]) {\n      categories[category].total++\n      if (todo.completed) {\n        categories[category].completed++\n      }\n    }\n  })\n  \n  // 计算完成百分比\n  return Object.entries(categories).map(([name, data]) => ({\n    value: data.total ? Math.round((data.completed / data.total) * 100) : 0,\n    target: data.target,\n    name,\n    itemStyle: {\n      color: getCategoryColor(name)\n    }\n  }))\n}\n\n// 获取分类对应的颜色\nconst getCategoryColor = (category) => {\n  const colors = {\n    '工作目标': '#409EFF',\n    '学习目标': '#67C23A',\n    '生活目标': '#E6A23C',\n    '其他目标': '#909399'\n  }\n  return colors[category]\n}\n\n// 修改目标完成进度图表的配置\nconst goalProgressOption = computed(() => ({\n  tooltip: {\n    trigger: 'axis',\n    formatter: function(params) {\n      const data = params[0]\n      return `${data.name}<br/>完成进度: ${data.value}%<br/>目标: ${data.target}%`\n    }\n  },\n  grid: {\n    top: '10%',\n    left: '3%',\n    right: '15%',\n    bottom: '10%',\n    containLabel: true\n  },\n  xAxis: {\n    type: 'value',\n    max: 100,\n    axisLabel: {\n      formatter: '{value}%'\n    }\n  },\n  yAxis: {\n    type: 'category',\n    data: ['工作目标', '学习目标', '生活目标', '其他目标'],\n    axisLine: { show: false },\n    axisTick: { show: false }\n  },\n  series: [\n    {\n      type: 'bar',\n      name: '完成进度',\n      data: getGoalProgress(),\n      barWidth: '20px',\n      label: {\n        show: true,\n        position: 'right',\n        formatter: function(params) {\n          return `${params.value}%`\n        }\n      },\n      markLine: {\n        symbol: ['none', 'none'],\n        label: { show: false },\n        lineStyle: { type: 'dashed' },\n        data: getGoalProgress().map((item, index) => ([\n          { coord: [item.target, index], lineStyle: { color: item.itemStyle.color } },\n          { coord: [item.target, index + 0.5] }\n        ]))\n      }\n    }\n  ]\n}))\n\n// 活跃度热力图配置\nconst heatmapOption = computed(() => {\n  const date = new Date()\n  const data = getVirtualData(date.getFullYear())\n  return {\n    visualMap: {\n      min: 0,\n      max: 10,\n      calculable: true,\n      orient: 'horizontal',\n      left: 'center',\n      bottom: 0,\n      inRange: {\n        color: ['#ebedf0', '#9be9a8', '#40c463', '#30a14e', '#216e39']\n      }\n    },\n    calendar: {\n      top: 30,\n      left: 30,\n      right: 30,\n      cellSize: ['auto', 13],\n      range: date.getFullYear(),\n      itemStyle: {\n        borderWidth: 0.5\n      },\n      yearLabel: { show: false }\n    },\n    series: {\n      type: 'heatmap',\n      coordinateSystem: 'calendar',\n      data: data\n    }\n  }\n})\n\n// 近期活动数据\nconst recentActivities = ref([\n  {\n    id: 1,\n    content: '完成了任务 \"完善仪表盘设计\"',\n    time: '2024-01-20 10:30:00',\n    type: 'success'\n  },\n  {\n    id: 2,\n    content: '新建目标 \"学习 Vue.js 高级特性\"',\n    time: '2024-01-20 09:15:00',\n    type: 'primary'\n  },\n  {\n    id: 3,\n    content: '完成了 25 分钟专注',\n    time: '2024-01-20 08:45:00',\n    type: 'warning'\n  }\n])\n\n// 最近的待办任务（未完成的前5个）\nconst recentTodos = computed(() => {\n  return todos.value\n    .filter(t => !t.completed)\n    .sort((a, b) => (b.createdAt || 0) - (a.createdAt || 0))\n    .slice(0, 5)\n})\n\n// 跳转到待办事项页面\nconst goToTodo = () => {\n  router.push('/todos')\n  // 等待路由切换完成后聚焦输入框\n  setTimeout(() => {\n    const input = document.querySelector('.add_task_input input')\n    if (input) {\n      input.focus()\n    }\n  }, 100)\n}\n\n// 辅助函数\nconst getPriorityType = (priority) => {\n  const types = {\n    '高': 'danger',\n    '中': 'warning',\n    '低': 'success'\n  }\n  return types[priority] || 'info'\n}\n\nconst formatDate = (timestamp) => {\n  if (!timestamp) return ''\n  const date = new Date(timestamp)\n  return date.toLocaleString('zh-CN', {\n    year: 'numeric',\n    month: '2-digit',\n    day: '2-digit',\n    hour: '2-digit',\n    minute: '2-digit'\n  })\n}\n\nconst isOverdue = (date) => {\n  if (!date) return false\n  return new Date(date) < new Date()\n}\n\n// 处理统计卡片点击\nconst handleStatClick = (type) => {\n  switch (type) {\n    case 'todo':\n      router.push('/todos')  // 跳转到待办列表\n      break\n    case 'pomodoro':\n      router.push('/pomodoro-timer')  // 跳转到番茄钟页面\n      break\n    case 'completed':\n      router.push({ \n        path: '/todos',\n        query: { filter: 'completed' }  // 跳转到待办列表并筛选已完成\n      })\n      break\n    case 'overdue':\n      router.push({\n        path: '/todos',\n        query: { filter: 'overdue' }  // 跳转到待办列表并筛选逾期\n      })\n      break\n  }\n}\n\n// 初始化\nonMounted(() => {\n  loadTodos()\n  updateRecentActivities()\n  reviewStore.loadReviews()\n})\n\n// 复盘相关的状态\nconst reviewType = ref('daily')\nconst reviewDialogVisible = ref(false)\nconst reviewFormRef = ref(null)\n\nconst reviewForm = ref({\n  type: 'daily',\n  title: '',\n  achievements: '',\n  lessons: '',\n  plans: '',\n})\n\nconst reviewRules = {\n  type: [{ required: true, message: '请选择复盘类型', trigger: 'change' }],\n  title: [{ required: true, message: '请输入复盘标题', trigger: 'blur' }],\n  achievements: [{ required: true, message: '请输入主要成就', trigger: 'blur' }],\n  lessons: [{ required: true, message: '请输入经验教训', trigger: 'blur' }],\n  plans: [{ required: true, message: '请输入下步计划', trigger: 'blur' }],\n}\n\n// 获取最近的复盘记录\nconst recentReviews = computed(() => {\n  return reviewStore.getRecentReviews(5)\n})\n\n// 计算属性：根据类型筛选复盘记录\nconst filteredReviews = computed(() => {\n  return reviewStore.getFilteredReviews(reviewType.value)\n})\n\n// 获取复盘对话框标题\nconst getReviewDialogTitle = computed(() => {\n  const typeMap = {\n    daily: '日复盘',\n    weekly: '周复盘',\n    monthly: '月复盘',\n  }\n  return `新建${typeMap[reviewForm.value.type]}`\n})\n\n// 打开复盘对话框\nconst openReviewDialog = () => {\n  reviewForm.value = {\n    type: reviewType.value,\n    title: '',\n    achievements: '',\n    lessons: '',\n    plans: '',\n  }\n  reviewDialogVisible.value = true\n}\n\n// 提交复盘\nconst submitReview = async () => {\n  if (!reviewFormRef.value) return\n  \n  await reviewFormRef.value.validate((valid) => {\n    if (valid) {\n      const now = new Date()\n      let reviewDate = now\n      \n      // 设置日期和标题\n      if (!reviewForm.value.title) {\n        // ... 原有的标题生成逻辑保持不变 ...\n      }\n\n      const newReview = {\n        id: Date.now(),\n        ...reviewForm.value,\n        date: formatDate(reviewDate),\n      }\n\n      reviewStore.addReview(newReview)\n      reviewDialogVisible.value = false\n      reviewFormRef.value.resetFields()\n      ElMessage.success('复盘记录已保存')\n    }\n  })\n}\n\n// 获取复盘类型对应的样式\nconst getReviewType = (type) => {\n  const typeMap = {\n    daily: 'primary',\n    weekly: 'success',\n    monthly: 'warning',\n  }\n  return typeMap[type] || 'info'\n}\n\n// 获取复盘标签类型\nconst getReviewTagType = (type) => {\n  const typeMap = {\n    daily: '',\n    weekly: 'success',\n    monthly: 'warning',\n  }\n  return typeMap[type] || 'info'\n}\n\n// 获取复盘类型文本\nconst getReviewTypeText = (type) => {\n  const typeMap = {\n    daily: '日复盘',\n    weekly: '周复盘',\n    monthly: '月复盘',\n  }\n  return typeMap[type] || '未知类型'\n}\n</script>\n\n<style scoped>\n.dashboard-container {\n  padding: 20px;\n}\n\n.stats-container {\n  margin-bottom: 20px;\n}\n\n.stat-card {\n  height: 120px;\n  transition: transform 0.2s;\n}\n\n.stat-content {\n  height: 100%;\n  display: flex;\n  align-items: center;\n  padding: 0 20px;\n}\n\n.stat-icon {\n  font-size: 48px;\n  margin-right: 20px;\n}\n\n.stat-info {\n  flex: 1;\n}\n\n.stat-title {\n  font-size: 14px;\n  color: var(--el-text-color-secondary);\n}\n\n.stat-number {\n  font-size: 24px;\n  font-weight: bold;\n  margin: 8px 0;\n}\n\n.stat-desc {\n  font-size: 12px;\n  color: var(--el-text-color-secondary);\n}\n\n.charts-container {\n  margin-bottom: 20px;\n}\n\n.chart-card {\n  margin-bottom: 20px;\n}\n\n.chart {\n  height: 300px;\n}\n\n.heatmap-chart {\n  height: 200px;\n}\n\n.chart-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.timeline-card,\n.heatmap-card {\n  height: 400px;\n  overflow-y: auto;\n}\n\n.card-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n/* 统计卡片颜色 */\n.todo-card .stat-icon { color: var(--el-color-primary); }\n.focus-card .stat-icon { color: var(--el-color-success); }\n.completed-card .stat-icon { color: var(--el-color-warning); }\n.overdue-card .stat-icon { color: var(--el-color-danger); }\n\n/* 自定义滚动条样式 */\n::-webkit-scrollbar {\n  width: 8px;\n  height: 8px;\n  background-color: transparent;\n}\n\n::-webkit-scrollbar-thumb {\n  background-color: #c1c1c1;\n  border: 2px solid transparent;\n  background-clip: padding-box;\n  border-radius: 4px;\n  transition: background-color 0.2s;\n}\n\n::-webkit-scrollbar-thumb:hover {\n  background-color: #a8a8a8;\n  border: 2px solid transparent;\n}\n\n::-webkit-scrollbar-track {\n  background: transparent;\n  border-radius: 4px;\n}\n\n/* Firefox 滚动条样式 */\n* {\n  scrollbar-width: thin;\n  scrollbar-color: #c1c1c1 transparent;\n}\n\n/* 卡片内部滚动条样式 */\n.timeline-card,\n.heatmap-card {\n  &:hover::-webkit-scrollbar-thumb {\n    background-color: #c1c1c1;\n  }\n  \n  &::-webkit-scrollbar-thumb {\n    background-color: transparent;\n  }\n  \n  &::-webkit-scrollbar {\n    width: 8px;\n    height: 8px;\n    background-color: transparent;\n  }\n  \n  &::-webkit-scrollbar-track {\n    background: transparent;\n    border-radius: 4px;\n  }\n}\n\n/* 添加可点击样式 */\n.stat-card.clickable {\n  cursor: pointer;\n}\n\n.stat-card.clickable:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n}\n\n.review-container {\n  margin-bottom: 20px;\n}\n\n.review-card {\n  margin-bottom: 20px;\n}\n\n.review-actions {\n  display: flex;\n  gap: 16px;\n}\n\n.review-item {\n  margin-bottom: 16px;\n}\n\n.review-item-header {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.review-title {\n  font-weight: 500;\n}\n\n.review-content {\n  padding: 8px 0;\n}\n\n.review-section {\n  margin-bottom: 12px;\n}\n\n.review-section h4 {\n  margin: 0 0 8px 0;\n  color: var(--el-text-color-regular);\n}\n\n.review-section p {\n  margin: 0;\n  color: var(--el-text-color-primary);\n  line-height: 1.5;\n}\n\n.dialog-footer {\n  display: flex;\n  justify-content: flex-end;\n  gap: 12px;\n}\n</style> ","import script from \"./Dashboard.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Dashboard.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Dashboard.vue?vue&type=style&index=0&id=890ca0b6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-890ca0b6\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"background\">\r\n    <div class=\"content\">\r\n      <h1>Welcome to Efficient Office</h1>\r\n      <p>A platform to boost your office productivity</p>\r\n      <router-link to=\"/get-start\" class=\"btn btn-primary\">Get Started</router-link>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"HelloWorld\",\r\n};\r\n</script>\r\n\r\n<style>\r\n#app {\r\n  font-family: \"Avenir\", Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n}\r\n\r\n.background {\r\n  background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);\r\n  min-height: 100vh;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.content {\r\n  background-color: rgba(255, 255, 255, 0.8);\r\n  padding: 50px;\r\n  border-radius: 10px;\r\n}\r\n\r\nh1 {\r\n  font-weight: bold;\r\n}\r\n\r\nbutton {\r\n  background-color: #42b983;\r\n  color: white;\r\n  font-weight: bold;\r\n  padding: 10px 20px;\r\n  border: none;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  margin-top: 20px;\r\n}\r\n\r\nbutton:hover {\r\n  background-color: #2c3e50;\r\n}\r\n</style>\r\n","import { render } from \"./HelloWorld.vue?vue&type=template&id=7932d34a\"\nimport script from \"./HelloWorld.vue?vue&type=script&lang=js\"\nexport * from \"./HelloWorld.vue?vue&type=script&lang=js\"\n\nimport \"./HelloWorld.vue?vue&type=style&index=0&id=7932d34a&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <div class=\"card-menu\">\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-4\" v-for=\"route in routes\" :key=\"route.name\">\r\n                    <div class=\"card\">\r\n                        <div class=\"card-header\">\r\n                            <h5 class=\"card-title\">{{ route.name }}</h5>\r\n                        </div>\r\n                        <div class=\"card-body\">\r\n                            <p class=\"card-text\">{{ route.description }}</p>\r\n                            <router-link :to=\"route.path\" class=\"btn btn-primary\">Go to {{ route.name }}</router-link>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n  \r\n<script>\r\nimport { routes } from \"../router/index\";\r\n\r\nexport default {\r\n    data() {\r\n        // 过滤掉导航页（GetStart）本身，以免出现在卡片列表中\r\n        const filteredRoutes = routes.filter(route => route.name !== \"GetStart\");\r\n\r\n        return {\r\n            routes: filteredRoutes\r\n        };\r\n    }\r\n};\r\n</script>\r\n  \r\n<style scoped>\r\n.card-menu {\r\n    padding: 2rem 0;\r\n}\r\n\r\n.card {\r\n    background-image: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);\r\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\r\n    margin-bottom: 2rem;\r\n    border: none;\r\n}\r\n\r\n.card:hover {\r\n    box-shadow: 0 14px 26px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.card-header {\r\n    background-color: transparent;\r\n    color: #fff;\r\n}\r\n\r\nbutton {\r\n  background-color: #42b983;\r\n  color: white;\r\n  font-weight: bold;\r\n  padding: 10px 20px;\r\n  border: none;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  margin-top: 20px;\r\n}\r\n\r\nbutton:hover {\r\n  background-color: #2c3e50;\r\n}\r\n</style>\r\n  ","import { render } from \"./GetStart.vue?vue&type=template&id=510474fc&scoped=true\"\nimport script from \"./GetStart.vue?vue&type=script&lang=js\"\nexport * from \"./GetStart.vue?vue&type=script&lang=js\"\n\nimport \"./GetStart.vue?vue&type=style&index=0&id=510474fc&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-510474fc\"]])\n\nexport default __exports__","<template>\n  <div class=\"password-generator\">\n    <a-card title=\"密码生成器\" :bordered=\"false\">\n      <a-form layout=\"vertical\">\n        <a-form-item label=\"密码长度\">\n          <a-input-number\n            v-model:value=\"passwordLength\"\n            :min=\"6\"\n            :max=\"128\"\n            style=\"width: 100%\"\n          />\n        </a-form-item>\n\n        <a-form-item>\n          <a-checkbox-group v-model:value=\"selectedOptions\">\n            <a-checkbox value=\"uppercase\">包含大写字母</a-checkbox>\n            <a-checkbox value=\"lowercase\">包含小写字母</a-checkbox>\n            <a-checkbox value=\"numbers\">包含数字</a-checkbox>\n            <a-checkbox value=\"symbols\">包含特殊符号</a-checkbox>\n          </a-checkbox-group>\n        </a-form-item>\n\n        <a-form-item>\n          <a-button type=\"primary\" block @click=\"generatePassword\">\n            生成密码\n          </a-button>\n        </a-form-item>\n\n        <a-form-item>\n          <a-input-group compact>\n            <a-input\n              v-model:value=\"password\"\n              readonly\n              style=\"width: calc(100% - 80px)\"\n            />\n            <a-button @click=\"copyPassword\" style=\"width: 80px\">\n              复制\n            </a-button>\n          </a-input-group>\n        </a-form-item>\n      </a-form>\n    </a-card>\n  </div>\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n            passwordLength: 12,\n            password: '',\n            selectedOptions: ['uppercase', 'lowercase', 'numbers', 'symbols']\n        }\n    },\n    methods: {\n        generatePassword() {\n            const characterSets = {\n                uppercase: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ',\n                lowercase: 'abcdefghijklmnopqrstuvwxyz',\n                numbers: '0123456789',\n                symbols: '!@#$%^&*()_-+={}[]|;:,.<>?'\n            }\n\n            let availableCharacters = ''\n            this.selectedOptions.forEach(option => {\n                if (option === 'uppercase') {\n                    availableCharacters += characterSets.uppercase\n                } else if (option === 'lowercase') {\n                    availableCharacters += characterSets.lowercase\n                } else if (option === 'numbers') {\n                    availableCharacters += characterSets.numbers\n                } else if (option === 'symbols') {\n                    availableCharacters += characterSets.symbols\n                }\n            })\n\n            if (availableCharacters === '') {\n                alert('请至少选择一种字符类型');\n                return;\n            }\n            let newPassword = '';\n            for (let i = 0; i < this.passwordLength; i++) {\n                const randomIndex = Math.floor(Math.random() * availableCharacters.length);\n                newPassword += availableCharacters[randomIndex];\n            }\n\n            this.password = newPassword;\n        },\n        copyPassword() {\n            if (!this.password) {\n                return;\n            }\n\n            navigator.clipboard.writeText(this.password)\n                .then(() => {\n                    alert('密码已复制到剪贴板');\n                })\n                .catch(() => {\n                    alert('复制失败，请手动复制');\n                });\n        }\n    }\n}\n</script>\n\n<style scoped>\n.password-generator {\n  max-width: 600px;\n  margin: 20px auto;\n  padding: 0 20px;\n}\n\n:deep(.ant-card-head-title) {\n  text-align: center;\n  font-size: 20px;\n}\n\n:deep(.ant-checkbox-group) {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n</style>","import { render } from \"./PasswordGenerator.vue?vue&type=template&id=982ba7ba&scoped=true\"\nimport script from \"./PasswordGenerator.vue?vue&type=script&lang=js\"\nexport * from \"./PasswordGenerator.vue?vue&type=script&lang=js\"\n\nimport \"./PasswordGenerator.vue?vue&type=style&index=0&id=982ba7ba&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-982ba7ba\"]])\n\nexport default __exports__","<template>\r\n  <el-container class=\"report-container\">\r\n    <el-header class=\"report-header\">\r\n      <div class=\"report-header-left\">\r\n        <el-radio-group v-model=\"reportType\" @change=\"handleReportTypeChange\">\r\n          <el-radio-button label=\"daily\">日报</el-radio-button>\r\n          <el-radio-button label=\"weekly\">周报</el-radio-button>\r\n          <el-radio-button label=\"monthly\">月报</el-radio-button>\r\n          <el-radio-button label=\"quarterly\">季报</el-radio-button>\r\n          <el-radio-button label=\"annual\">年报</el-radio-button>\r\n        </el-radio-group>\r\n      </div>\r\n      <div class=\"report-header-right\">\r\n        <el-date-picker\r\n          v-model=\"reportDate\"\r\n          type=\"date\"\r\n          :placeholder=\"datePlaceholder\"\r\n          :picker-options=\"datePickerOptions\"\r\n          @change=\"handleDateChange\"\r\n          class=\"report-date-picker\"\r\n        />\r\n        <div class=\"report-date-info\">\r\n          {{ formattedDateInfo }}\r\n        </div>\r\n      </div>\r\n    </el-header>\r\n\r\n    <el-main class=\"report-main\">\r\n      <el-card class=\"report-card\">\r\n        <el-form ref=\"form\" :model=\"form\" label-width=\"120px\">\r\n          <el-form-item label=\"任务描述\">\r\n            <el-input type=\"textarea\" v-model=\"form.description\" placeholder=\"请输入任务描述\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"完成状态\">\r\n            <el-select v-model=\"form.status\" placeholder=\"请选择完成状态\">\r\n              <el-option label=\"完成\" value=\"completed\"></el-option>\r\n              <el-option label=\"进行中\" value=\"inprogress\"></el-option>\r\n              <el-option label=\"未开始\" value=\"pending\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button type=\"primary\" @click=\"onSubmit\">提交</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </el-card>\r\n\r\n      <el-card class=\"report-input-card\">\r\n        <el-form :inline=\"true\" :model=\"reportInput\" class=\"report-input-form\">\r\n          <el-form-item label=\"完成\">\r\n            <el-input v-model=\"reportInput.done\" placeholder=\"完成\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"进行中\">\r\n            <el-input v-model=\"reportInput.doing\" placeholder=\"进行中\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"待办\">\r\n            <el-input v-model=\"reportInput.todo\" placeholder=\"待办\"></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n      </el-card>\r\n\r\n      <el-table :data=\"reports\" style=\"width: 100%\" class=\"report-table\">\r\n        <el-table-column prop=\"date\" label=\"日期\" width=\"180\"></el-table-column>\r\n        <el-table-column prop=\"description\" label=\"任务描述\"></el-table-column>\r\n        <el-table-column prop=\"status\" label=\"完成状态\" width=\"120\">\r\n          <template #default=\"{ row }\">\r\n            <el-tag\r\n              :type=\"\r\n                row.status === 'completed'\r\n                  ? 'success'\r\n                  : row.status === 'inprogress'\r\n                  ? 'warning'\r\n                  : 'info'\r\n              \"\r\n              size=\"small\"\r\n            >\r\n              {{\r\n                row.status === 'completed'\r\n                  ? '完成'\r\n                  : row.status === 'inprogress'\r\n                  ? '进行中'\r\n                  : '未开始'\r\n              }}\r\n            </el-tag>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-main>\r\n  </el-container>\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed } from 'vue';\r\nimport dayjs from 'dayjs';\r\nimport 'dayjs/locale/zh-cn';\r\nimport weekOfYear from 'dayjs/plugin/weekOfYear';\r\nimport quarterOfYear from 'dayjs/plugin/quarterOfYear';\r\n\r\ndayjs.extend(weekOfYear);\r\ndayjs.extend(quarterOfYear);\r\ndayjs.locale('zh-cn');\r\n\r\nexport default {\r\n  setup() {\r\n    const reportType = ref('daily');\r\n    const reportDate = ref(new Date());\r\n    const form = ref({\r\n      description: '',\r\n      status: '',\r\n    });\r\n    const reports = ref([]);\r\n    const reportInput = ref({\r\n      done: '',\r\n      doing: '',\r\n      todo: '',\r\n    });\r\n\r\n    const datePlaceholder = computed(() => {\r\n      if (reportType.value === 'daily') return '选择日期';\r\n      if (reportType.value === 'weekly') return '选择周';\r\n      if (reportType.value === 'monthly') return '选择月份';\r\n      if (reportType.value === 'quarterly') return '选择季度';\r\n      return '选择年份';\r\n    });\r\n\r\n    const datePickerOptions = computed(() => {\r\n      if (reportType.value === 'weekly') {\r\n        return {\r\n          firstDayOfWeek: 1,\r\n          format: 'yyyy 第W周',\r\n          pickerType: 'week',\r\n        };\r\n      }\r\n      if (reportType.value === 'monthly') {\r\n        return {\r\n          format: 'yyyy-MM',\r\n          pickerType: 'month',\r\n        };\r\n      }\r\n      if (reportType.value === 'quarterly') {\r\n        return {\r\n          format: 'yyyy 第Q季度',\r\n          pickerType: 'quarter',\r\n        };\r\n      }\r\n      if (reportType.value === 'annual') {\r\n        return {\r\n          format: 'yyyy',\r\n          pickerType: 'year',\r\n        };\r\n      }\r\n      return {};\r\n    });\r\n\r\n    const formattedDateInfo = computed(() => {\r\n      const date = dayjs(reportDate.value);\r\n      const weekNumber = date.week();\r\n      const month = date.format('MM');\r\n      const quarter = date.quarter();\r\n      const year = date.format('YYYY');\r\n      const day = date.format('YYYY-MM-DD');\r\n\r\n      return `${day}，第${month}月，第${weekNumber}周，第${quarter}季度，${year}年`;\r\n    });\r\n\r\n    const handleReportTypeChange = () => {\r\n      reportDate.value = new Date();\r\n    };\r\n\r\n    const handleDateChange = (date) => {\r\n      if (date) {\r\n        form.value.date = date;\r\n      }\r\n    };\r\n\r\n    const onSubmit = () => {\r\n      reports.value.push({ ...form.value, date: reportDate.value });\r\n      form.value = { description: '', status: '' };\r\n    };\r\n\r\n    return {\r\n      reportType,\r\n      reportDate,\r\n      form,\r\n      reports,\r\n      reportInput,\r\n      datePlaceholder,\r\n      datePickerOptions,\r\n      formattedDateInfo,\r\n      handleReportTypeChange,\r\n      handleDateChange,\r\n      onSubmit,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.report-container {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.report-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 1rem 2rem;\r\n}\r\n\r\n.report-header-left {\r\n  flex: 1;\r\n}\r\n\r\n.report-header-right {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n}\r\n\r\n.report-date-picker {\r\n  width: 200px;\r\n}\r\n\r\n.report-date-info {\r\n  font-size: 1rem;\r\n  color: #666;\r\n}\r\n\r\n.report-main {\r\n  padding: 2rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 2rem;\r\n}\r\n\r\n.report-card {\r\n  width: 100%;\r\n}\r\n\r\n.report-table {\r\n  width: 100%;\r\n}\r\n\r\n.report-input-card {\r\n  width: 100%;\r\n}\r\n\r\n.report-input-form {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 1rem;\r\n}\r\n\r\n.report-input-form .el-form-item {\r\n  margin-bottom: 0;\r\n}\r\n</style>\r\n  ","import { render } from \"./ReportSummary.vue?vue&type=template&id=8e8365a2&scoped=true\"\nimport script from \"./ReportSummary.vue?vue&type=script&lang=js\"\nexport * from \"./ReportSummary.vue?vue&type=script&lang=js\"\n\nimport \"./ReportSummary.vue?vue&type=style&index=0&id=8e8365a2&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8e8365a2\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"pomodoro-container\">\r\n    <!-- 左侧番茄钟计时区域 -->\r\n    <div class=\"timer-section\">\r\n      <div class=\"clock-display\">\r\n        <span class=\"time\">{{ formattedTime }}</span>\r\n        <span class=\"emoji\">{{ currentEmoji }}</span>\r\n      </div>\r\n      <div class=\"controls\">\r\n        <button class=\"start-btn\" @click=\"toggleTimer\" :disabled=\"!selectedTask\">\r\n          <span v-if=\"!timerRunning\">▶️</span>\r\n          <span v-else>⏸️</span>\r\n        </button>\r\n        <button class=\"reset-btn\" @click=\"resetTimer\">🔄</button>\r\n      </div>\r\n      <div class=\"progress-bar\">\r\n        <div class=\"progress\" :style=\"{ width: `${percentage}%` }\"></div>\r\n      </div>\r\n      <div class=\"settings\">\r\n        <label for=\"pomodoro-time\">番茄钟时长 (分钟):</label>\r\n        <input type=\"number\" id=\"pomodoro-time\" v-model.number=\"pomodoroDuration\" min=\"1\" max=\"60\" />\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 中间待办任务列表 -->\r\n    <div class=\"task-section\">\r\n      <div class=\"section-header\">\r\n        <div class=\"w-1 h-6 bg-blue-500 rounded-full\"></div>\r\n        <h2>待办任务</h2>\r\n      </div>\r\n      <div class=\"search-box\">\r\n        <input \r\n          v-model=\"searchText\" \r\n          placeholder=\"搜索待办任务...\" \r\n          class=\"search-input\"\r\n        />\r\n      </div>\r\n      <div class=\"task-list-container\">\r\n        <div v-if=\"filteredIncompleteTodos.length === 0\" class=\"no-tasks-prompt\">\r\n          暂无任务，<span class=\"add-task-link\" @click=\"goToTodoPage\">去添加任务</span>\r\n        </div>\r\n        <ul v-else class=\"task-list\">\r\n          <li\r\n            v-for=\"task in filteredIncompleteTodos\"\r\n            :key=\"task.id\"\r\n            class=\"task-item\"\r\n            :class=\"{ 'selected-task': selectedTask && selectedTask.id === task.id }\"\r\n            @click=\"selectTask(task)\"\r\n            @mouseenter=\"showTaskCard(task)\"\r\n            @mouseleave=\"hideTaskCard\"\r\n          >\r\n            <div class=\"task-content\">\r\n              <span class=\"task-name\">{{ task.text }}</span>\r\n              <span class=\"pomodoro-count\" v-if=\"task.pomodoros\">🍅 x {{ task.pomodoros }}</span>\r\n            </div>\r\n            \r\n            <!-- 悬浮卡片 -->\r\n            <div v-if=\"hoveredTask?.id === task.id\" class=\"task-hover-card\">\r\n              <h4 class=\"task-title\">{{ task.text }}</h4>\r\n              <div class=\"task-info\">\r\n                <div class=\"info-item\">\r\n                  <span class=\"info-label\">优先级：</span>\r\n                  <el-tag :type=\"getPriorityType(task.priority)\" size=\"small\">\r\n                    {{ task.priority }}\r\n                  </el-tag>\r\n                </div>\r\n                <div class=\"info-item\">\r\n                  <span class=\"info-label\">创建时间：</span>\r\n                  <span>{{ formatDate(task.createdAt) }}</span>\r\n                </div>\r\n                <div class=\"info-item\" v-if=\"task.dueDate\">\r\n                  <span class=\"info-label\">截止时间：</span>\r\n                  <span :class=\"{ 'text-red-500': isOverdue(task.dueDate) }\">\r\n                    {{ formatDate(task.dueDate) }}\r\n                  </span>\r\n                </div>\r\n                <div class=\"info-item\">\r\n                  <span class=\"info-label\">番茄数：</span>\r\n                  <span>{{ task.pomodoros || 0 }} 个</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 右侧已完成任务列表 -->\r\n    <div class=\"completed-section\">\r\n      <div class=\"section-header\" @click=\"toggleCompletedTasks\">\r\n        <div class=\"w-1 h-6 bg-green-500 rounded-full\"></div>\r\n        <h2>已完成任务</h2>\r\n        <div class=\"flex items-center gap-2 ml-auto\">\r\n          <span class=\"completed-count\">{{ filteredCompletedTodos.length }}个</span>\r\n          <el-icon class=\"transform transition-transform\" :class=\"{ 'rotate-180': !showCompletedTasks }\">\r\n            <ArrowDown />\r\n          </el-icon>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 添加工具栏 -->\r\n      <div v-show=\"showCompletedTasks\" class=\"task-toolbar\">\r\n        <div class=\"search-box\">\r\n          <el-input\r\n            v-model=\"completedSearchText\"\r\n            placeholder=\"搜索已完成任务...\"\r\n            prefix-icon=\"Search\"\r\n            clearable\r\n          />\r\n        </div>\r\n        <div class=\"filter-sort-controls\">\r\n          <el-select v-model=\"sortBy\" placeholder=\"排序方式\" size=\"small\">\r\n            <el-option label=\"完成时间 ↑\" value=\"completedTime-asc\" />\r\n            <el-option label=\"完成时间 ↓\" value=\"completedTime-desc\" />\r\n            <el-option label=\"番茄数量 ↑\" value=\"pomodoros-asc\" />\r\n            <el-option label=\"番茄数量 ↓\" value=\"pomodoros-desc\" />\r\n          </el-select>\r\n          <el-select v-model=\"filterPriority\" placeholder=\"优先级\" size=\"small\" clearable>\r\n            <el-option label=\"高优先级\" value=\"高\" />\r\n            <el-option label=\"中优先级\" value=\"中\" />\r\n            <el-option label=\"低优先级\" value=\"低\" />\r\n          </el-select>\r\n        </div>\r\n      </div>\r\n\r\n      <div v-show=\"showCompletedTasks\" class=\"completed-list-container\">\r\n        <div v-if=\"filteredCompletedTodos.length === 0\" class=\"no-tasks-prompt\">\r\n          暂无完成的任务\r\n        </div>\r\n        <ul v-else class=\"task-list\">\r\n          <li \r\n            v-for=\"task in filteredCompletedTodos\" \r\n            :key=\"task.id\" \r\n            class=\"task-item\"\r\n            @mouseenter=\"showTaskCard(task)\"\r\n            @mouseleave=\"hideTaskCard\"\r\n          >\r\n            <div class=\"task-content\">\r\n              <span class=\"task-name completed\">{{ task.text }}</span>\r\n              <span class=\"pomodoro-count\">🍅 x {{ task.pomodoros || 0 }}</span>\r\n            </div>\r\n            \r\n            <!-- 已完成任务的悬浮卡片 -->\r\n            <div v-if=\"hoveredTask?.id === task.id\" class=\"task-hover-card\">\r\n              <h4 class=\"task-title\">{{ task.text }}</h4>\r\n              <div class=\"task-info\">\r\n                <div class=\"info-item\">\r\n                  <span class=\"info-label\">优先级：</span>\r\n                  <el-tag :type=\"getPriorityType(task.priority)\" size=\"small\">\r\n                    {{ task.priority }}\r\n                  </el-tag>\r\n                </div>\r\n                <div class=\"info-item\">\r\n                  <span class=\"info-label\">创建时间：</span>\r\n                  <span>{{ formatDate(task.createdAt) }}</span>\r\n                </div>\r\n                <div class=\"info-item\" v-if=\"task.dueDate\">\r\n                  <span class=\"info-label\">截止时间：</span>\r\n                  <span>{{ formatDate(task.dueDate) }}</span>\r\n                </div>\r\n                <div class=\"info-item\">\r\n                  <span class=\"info-label\">番茄数：</span>\r\n                  <span>{{ task.pomodoros || 0 }} 个</span>\r\n                </div>\r\n                <div class=\"info-item\">\r\n                  <span class=\"info-label\">完成时间：</span>\r\n                  <span>{{ formatDate(task.completedAt) }}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 添加撒花容器 -->\r\n    <div v-if=\"showConfetti\" class=\"confetti-container\">\r\n      <canvas ref=\"confettiCanvas\" class=\"confetti-canvas\"></canvas>\r\n    </div>\r\n\r\n    <!-- 添加完成确认对话框 -->\r\n    <el-dialog\r\n      v-model=\"showConfirmationModal\"\r\n      title=\"番茄钟完成！\"\r\n      width=\"360px\"\r\n      :show-close=\"false\"\r\n      :close-on-click-modal=\"false\"\r\n      class=\"pomodoro-dialog\"\r\n    >\r\n      <div class=\"completion-content\">\r\n        <div class=\"completion-emoji\">🎉</div>\r\n        <div class=\"completion-message\">\r\n          太棒了！你完成了一个番茄钟\r\n          <div class=\"task-name\">{{ selectedTask?.text }}</div>\r\n        </div>\r\n      </div>\r\n      <template #footer>\r\n        <div class=\"dialog-footer\">\r\n          <el-button @click=\"handleContinuePomodoro\">继续专注</el-button>\r\n          <el-button type=\"primary\" @click=\"handleTaskComplete\">完成任务</el-button>\r\n        </div>\r\n      </template>\r\n    </el-dialog>\r\n\r\n    <!-- 添加继续确认对话框 -->\r\n    <el-dialog\r\n      v-model=\"showContinueModal\"\r\n      title=\"继续专注\"\r\n      width=\"360px\"\r\n      :show-close=\"false\"\r\n      :close-on-click-modal=\"false\"\r\n      class=\"pomodoro-dialog\"\r\n    >\r\n      <div class=\"continue-content\">\r\n        <div class=\"continue-emoji\">💪</div>\r\n        <div class=\"continue-message\">要开始下一个番茄钟吗？</div>\r\n      </div>\r\n      <template #footer>\r\n        <div class=\"dialog-footer\">\r\n          <el-button @click=\"handleCancelPomodoro\">休息一下</el-button>\r\n          <el-button type=\"primary\" @click=\"handleContinueNextPomodoro\">继续专注</el-button>\r\n        </div>\r\n      </template>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onUnmounted, onMounted, nextTick, watch } from 'vue';\r\nimport { useRouter, useRoute } from 'vue-router';\r\nimport { message } from 'ant-design-vue';\r\nimport { ArrowDown } from '@element-plus/icons-vue'\r\n\r\nconst route = useRoute();\r\nconst todos = ref([]);\r\nconst timer = ref(null);\r\nconst time = ref(0);\r\nconst percentage = ref(0);\r\nconst timerRunning = ref(false);\r\nconst currentEmoji = ref('🍅');\r\nconst selectedTask = ref(null);\r\nconst pomodoroDuration = ref(25); // Default Pomodoro time in minutes\r\nconst showConfetti = ref(false);\r\nconst confettiCanvas = ref(null);\r\nconst searchText = ref('');\r\nconst showConfirmationModal = ref(false);\r\nconst showContinueModal = ref(false);\r\nconst router = useRouter();\r\nconst startTime = ref(null); // 添加开始时间引用\r\nconst lastTickTime = ref(null); // 添加上次计时引用\r\nconst animationFrameId = ref(null); // 添加动画帧ID引用\r\nconst showCompletedTasks = ref(false)\r\nconst sortBy = ref('completedTime-desc')\r\nconst filterPriority = ref('')\r\n\r\nconst emojis = ['🍅', '📚', '☕', '🧘', '💻'];\r\n\r\nconst formattedTime = computed(() => {\r\n  const minutes = String(Math.floor(time.value / 60)).padStart(2, '0');\r\n  const seconds = String(time.value % 60).padStart(2, '0');\r\n  return `${minutes}:${seconds}`;\r\n});\r\n\r\nconst loadTodosFromStorage = () => {\r\n  const stored = localStorage.getItem('todos');\r\n  if (stored) {\r\n    todos.value = JSON.parse(stored);\r\n  }\r\n};\r\n\r\nconst saveTodosToStorage = () => {\r\n  localStorage.setItem('todos', JSON.stringify(todos.value));\r\n};\r\n\r\nconst incompleteTodos = computed(() => {\r\n  return todos.value.filter(task => !task.completed);\r\n});\r\n\r\nconst completedTodos = computed(() => {\r\n  return todos.value.filter(task => task.completed);\r\n});\r\n\r\nconst filteredIncompleteTodos = computed(() => {\r\n  return incompleteTodos.value.filter(task =>\r\n    task.text.toLowerCase().includes(searchText.value.toLowerCase())\r\n  );\r\n});\r\n\r\nconst completedSearchText = ref('')\r\n\r\nconst filteredCompletedTodos = computed(() => {\r\n  let result = completedTodos.value\r\n\r\n  // 搜索过滤\r\n  if (completedSearchText.value) {\r\n    result = result.filter(task =>\r\n      task.text.toLowerCase().includes(completedSearchText.value.toLowerCase())\r\n    )\r\n  }\r\n\r\n  // 优先级过滤\r\n  if (filterPriority.value) {\r\n    result = result.filter(task => task.priority === filterPriority.value)\r\n  }\r\n\r\n  // 排序\r\n  result = [...result].sort((a, b) => {\r\n    switch (sortBy.value) {\r\n      case 'completedTime-asc':\r\n        return new Date(a.completedAt) - new Date(b.completedAt)\r\n      case 'completedTime-desc':\r\n        return new Date(b.completedAt) - new Date(a.completedAt)\r\n      case 'pomodoros-asc':\r\n        return (a.pomodoros || 0) - (b.pomodoros || 0)\r\n      case 'pomodoros-desc':\r\n        return (b.pomodoros || 0) - (a.pomodoros || 0)\r\n      default:\r\n        return 0\r\n    }\r\n  })\r\n\r\n  return result\r\n});\r\n\r\nconst selectTask = (task) => {\r\n  // 先停止当前计时器\r\n  if (timer.value) {\r\n    cancelAnimationFrame(timer.value);\r\n    timer.value = null;\r\n  }\r\n  \r\n  // 重置计时器状态\r\n  timerRunning.value = false;\r\n  time.value = 0;\r\n  percentage.value = 0;\r\n  currentEmoji.value = '🍅';\r\n  \r\n  // 设置新的选中任务\r\n  selectedTask.value = task;\r\n};\r\n\r\nconst toggleTimer = () => {\r\n  if (!selectedTask.value) {\r\n    message.warning('请先选择一个任务');\r\n    return;\r\n  }\r\n\r\n  if (timerRunning.value) {\r\n    // 暂停计时器\r\n    cancelAnimationFrame(timer.value);\r\n    timer.value = null;\r\n    timerRunning.value = false;\r\n    currentEmoji.value = '⏸️';\r\n  } else {\r\n    // 开始或继续计时器\r\n    startTimer();\r\n  }\r\n};\r\n\r\nconst startTimer = () => {\r\n  if (timer.value) {\r\n    cancelAnimationFrame(timer.value);\r\n    timer.value = null;\r\n  }\r\n  \r\n  timerRunning.value = true;\r\n  currentEmoji.value = '🍅';\r\n  const pomodoroTimeInSeconds = pomodoroDuration.value * 60;\r\n  \r\n  // 记录开始时间\r\n  startTime.value = performance.now();\r\n  lastTickTime.value = startTime.value;\r\n  \r\n  const tick = (currentTime) => {\r\n    if (!timerRunning.value) return;\r\n    \r\n    // 计算实际经过的时间\r\n    const elapsedSeconds = Math.floor((currentTime - startTime.value) / 1000);\r\n    time.value = elapsedSeconds;\r\n    percentage.value = (elapsedSeconds / pomodoroTimeInSeconds) * 100;\r\n    \r\n    // 每5分钟更换一次表情\r\n    if (Math.floor(elapsedSeconds / 300) > Math.floor((elapsedSeconds - 1) / 300)) {\r\n      currentEmoji.value = emojis[Math.floor(Math.random() * emojis.length)];\r\n    }\r\n    \r\n    if (elapsedSeconds >= pomodoroTimeInSeconds) {\r\n      onPomodoroComplete();\r\n      return;\r\n    }\r\n    \r\n    lastTickTime.value = currentTime;\r\n    timer.value = requestAnimationFrame(tick);\r\n  };\r\n  \r\n  timer.value = requestAnimationFrame(tick);\r\n};\r\n\r\nconst resetTimer = () => {\r\n  if (timerRunning.value) {\r\n    const shouldReset = confirm('计时器正在运行，确定要重置吗？');\r\n    if (!shouldReset) return;\r\n  }\r\n  \r\n  cancelAnimationFrame(timer.value);\r\n  timer.value = null;\r\n  timerRunning.value = false;\r\n  time.value = 0;\r\n  percentage.value = 0;\r\n  currentEmoji.value = '🍅';\r\n  startTime.value = null;\r\n  lastTickTime.value = null;\r\n};\r\n\r\nconst handleTaskComplete = () => {\r\n  showConfirmationModal.value = false;\r\n  completeTask();\r\n};\r\n\r\nconst handleContinuePomodoro = () => {\r\n  showConfirmationModal.value = false;\r\n  showContinueModal.value = true;\r\n};\r\n\r\nconst handleContinueNextPomodoro = () => {\r\n  showContinueModal.value = false;\r\n  recordPomodoro();\r\n  resetTimer();\r\n  startTimer();\r\n};\r\n\r\nconst handleCancelPomodoro = () => {\r\n  showContinueModal.value = false;\r\n};\r\n\r\nconst completeTask = () => {\r\n  if (selectedTask.value) {\r\n    const task = todos.value.find(t => t.id === selectedTask.value.id);\r\n    if (task) {\r\n      task.completed = true;\r\n      recordPomodoro();\r\n      saveTodosToStorage();\r\n      // 完成任务时全屏撒花\r\n      showFullScreenConfetti();\r\n      // 5秒后重置状态\r\n      setTimeout(() => {\r\n        selectedTask.value = null;\r\n        resetTimer();\r\n      }, 5000);\r\n    }\r\n  }\r\n};\r\n\r\nconst recordPomodoro = () => {\r\n  if (selectedTask.value) {\r\n    const task = todos.value.find(t => t.id === selectedTask.value.id);\r\n    if (task) {\r\n      task.pomodoros = (task.pomodoros || 0) + 1;\r\n      saveTodosToStorage();\r\n      // 显示番茄钟累计提示\r\n      message.success(`已累计完成 ${task.pomodoros} 个番茄钟`);\r\n    }\r\n  }\r\n};\r\n\r\n// 全屏撒花效果\r\nconst showFullScreenConfetti = async () => {\r\n  showConfetti.value = true;\r\n  await nextTick();\r\n  const confetti = require('canvas-confetti').default;\r\n  \r\n  const duration = 3000;\r\n  const animationEnd = Date.now() + duration;\r\n  const defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 9999 };\r\n\r\n  function randomInRange(min, max) {\r\n    return Math.random() * (max - min) + min;\r\n  }\r\n\r\n  const interval = setInterval(function() {\r\n    const timeLeft = animationEnd - Date.now();\r\n\r\n    if (timeLeft <= 0) {\r\n      clearInterval(interval);\r\n      showConfetti.value = false;\r\n      return;\r\n    }\r\n\r\n    const particleCount = 50 * (timeLeft / duration);\r\n    \r\n    // 从随机位置发射\r\n    confetti({\r\n      ...defaults,\r\n      particleCount,\r\n      origin: { x: randomInRange(0.1, 0.3), y: Math.random() - 0.2 },\r\n      colors: ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff']\r\n    });\r\n    confetti({\r\n      ...defaults,\r\n      particleCount,\r\n      origin: { x: randomInRange(0.7, 0.9), y: Math.random() - 0.2 },\r\n      colors: ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff']\r\n    });\r\n  }, 250);\r\n};\r\n\r\nconst goToTodoPage = () => {\r\n  router.push('/todos');\r\n  // Focus on the input after navigation\r\n  nextTick(() => {\r\n    const input = document.querySelector('.add_task_input input');\r\n    if (input) {\r\n      input.focus();\r\n    }\r\n  });\r\n};\r\n\r\nconst selectTaskFromRoute = () => {\r\n  const taskId = route.query.taskId;\r\n  if (taskId) {\r\n    const task = todos.value.find(t => t.id === Number(taskId));\r\n    if (task) {\r\n      selectedTask.value = task;\r\n      // 将选中的任务移到列表顶部\r\n      const index = todos.value.findIndex(t => t.id === task.id);\r\n      if (index > 0) {\r\n        todos.value.splice(index, 1);\r\n        todos.value.unshift(task);\r\n        localStorage.setItem('todos', JSON.stringify(todos.value));\r\n      }\r\n      // 显示提醒消息\r\n      message.success(`已选择任务\"${task.text}\"，准备开始番茄钟`);\r\n    }\r\n  }\r\n};\r\n\r\n// 监听路由变化\r\nwatch(\r\n  () => route.query.taskId,\r\n  (newTaskId) => {\r\n    if (newTaskId) {\r\n      selectTaskFromRoute();\r\n    }\r\n  }\r\n);\r\n\r\n// 添加悬浮卡片相关状态\r\nconst hoveredTask = ref(null)\r\n\r\n// 添加鼠标位置状态\r\nconst mousePosition = ref({ x: 0, y: 0 })\r\n\r\nconst showTaskCard = (task) => {\r\n  hoveredTask.value = task\r\n  // 获取鼠标位置并设置悬浮卡片位置\r\n  nextTick(() => {\r\n    const card = document.querySelector('.task-hover-card')\r\n    if (card) {\r\n      const cardRect = card.getBoundingClientRect()\r\n      const x = mousePosition.value.x - cardRect.width / 2\r\n      const y = mousePosition.value.y - cardRect.height - 20 // 在鼠标上方20px处\r\n      \r\n      // 确保卡片不超出视口边界\r\n      const maxX = window.innerWidth - cardRect.width - 20\r\n      const minX = 20\r\n      const maxY = 20\r\n      const minY = 20\r\n      \r\n      card.style.left = `${Math.min(Math.max(x, minX), maxX)}px`\r\n      card.style.top = `${Math.min(Math.max(y, minY), maxY)}px`\r\n    }\r\n  })\r\n}\r\n\r\n// 添加鼠标移动事件监听\r\nconst handleMouseMove = (event) => {\r\n  mousePosition.value = {\r\n    x: event.clientX,\r\n    y: event.clientY\r\n  }\r\n}\r\n\r\nconst hideTaskCard = () => {\r\n  hoveredTask.value = null\r\n}\r\n\r\n// 添加优先级样式方法\r\nconst getPriorityType = (priority) => {\r\n  const types = {\r\n    '高': 'danger',\r\n    '中': 'warning',\r\n    '低': 'success'\r\n  }\r\n  return types[priority] || 'info'\r\n}\r\n\r\n// 添加日期格式化方法\r\nconst formatDate = (timestamp) => {\r\n  if (!timestamp) return ''\r\n  const date = new Date(timestamp)\r\n  return date.toLocaleString('zh-CN', {\r\n    year: 'numeric',\r\n    month: '2-digit',\r\n    day: '2-digit',\r\n    hour: '2-digit',\r\n    minute: '2-digit'\r\n  })\r\n}\r\n\r\n// 添加截止日期检查方法\r\nconst isOverdue = (date) => {\r\n  if (!date) return false\r\n  return new Date(date) < new Date()\r\n}\r\n\r\n// 修改番茄钟结束时的处理\r\nconst onPomodoroComplete = () => {\r\n  cancelAnimationFrame(timer.value);\r\n  timer.value = null;\r\n  timerRunning.value = false;\r\n  currentEmoji.value = '🎉';\r\n  showConfirmationModal.value = true;\r\n};\r\n\r\n// 修改页面可见性变化处理函数\r\nconst handleVisibilityChange = () => {\r\n  if (document.hidden) {\r\n    // 页面隐藏时记录当前时间\r\n    if (timerRunning.value) {\r\n      cancelAnimationFrame(timer.value);\r\n      lastTickTime.value = performance.now();\r\n    }\r\n  } else {\r\n    // 页面可见时，如果计时器在运行，则从上次时间继续计时\r\n    if (timerRunning.value) {\r\n      const currentTime = performance.now();\r\n      const elapsedTime = Math.floor((currentTime - lastTickTime.value) / 1000);\r\n      \r\n      // 更新开始时间，保持原有进度\r\n      startTime.value = startTime.value + (elapsedTime * 1000);\r\n      \r\n      // 继续计时\r\n      const tick = (currentTime) => {\r\n        if (!timerRunning.value) return;\r\n        \r\n        const elapsedSeconds = Math.floor((currentTime - startTime.value) / 1000);\r\n        const pomodoroTimeInSeconds = pomodoroDuration.value * 60;\r\n        \r\n        time.value = elapsedSeconds;\r\n        percentage.value = (elapsedSeconds / pomodoroTimeInSeconds) * 100;\r\n        \r\n        if (Math.floor(elapsedSeconds / 300) > Math.floor((elapsedSeconds - 1) / 300)) {\r\n          currentEmoji.value = emojis[Math.floor(Math.random() * emojis.length)];\r\n        }\r\n        \r\n        if (elapsedSeconds >= pomodoroTimeInSeconds) {\r\n          onPomodoroComplete();\r\n          return;\r\n        }\r\n        \r\n        lastTickTime.value = currentTime;\r\n        timer.value = requestAnimationFrame(tick);\r\n      };\r\n      \r\n      timer.value = requestAnimationFrame(tick);\r\n    }\r\n  }\r\n};\r\n\r\n// 切换已完成任务显示状态\r\nconst toggleCompletedTasks = () => {\r\n  showCompletedTasks.value = !showCompletedTasks.value\r\n}\r\n\r\nonMounted(() => {\r\n  loadTodosFromStorage();\r\n  selectTaskFromRoute();\r\n  window.addEventListener('mousemove', handleMouseMove);\r\n  document.addEventListener('visibilitychange', handleVisibilityChange);\r\n});\r\n\r\nonUnmounted(() => {\r\n  if (timer.value) {\r\n    cancelAnimationFrame(timer.value);\r\n    timer.value = null;\r\n  }\r\n  window.removeEventListener('mousemove', handleMouseMove);\r\n  document.removeEventListener('visibilitychange', handleVisibilityChange);\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.pomodoro-container {\r\n  height: 100vh;\r\n  max-height: 100vh;\r\n  overflow: hidden;\r\n  display: grid;\r\n  grid-template-columns: 320px 1fr 1fr;\r\n  gap: 16px;\r\n  padding: 16px;\r\n  box-sizing: border-box;\r\n  background: #f5f7fa;\r\n}\r\n\r\n/* 左侧番茄钟区域 */\r\n.timer-section {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 16px;\r\n  padding: 20px;\r\n  background: white;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.clock-display {\r\n  font-size: 3rem;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  animation: clockPulse 1s ease-in-out infinite;\r\n}\r\n\r\n.time {\r\n  font-weight: bold;\r\n}\r\n\r\n.emoji {\r\n  font-size: 2.5rem;\r\n}\r\n\r\n.controls {\r\n  display: flex;\r\n  gap: 0.8rem;\r\n}\r\n\r\n.start-btn,\r\n.reset-btn {\r\n  font-size: 1.8rem;\r\n  background: none;\r\n  border: none;\r\n  cursor: pointer;\r\n  transition: transform 0.2s ease;\r\n  opacity: 1;\r\n}\r\n\r\n.start-btn:disabled {\r\n  opacity: 0.5;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.start-btn:not(:disabled):hover,\r\n.reset-btn:hover {\r\n  transform: scale(1.1);\r\n}\r\n\r\n.progress-bar {\r\n  width: 100%;\r\n  height: 8px;\r\n  background-color: #f0f0f0;\r\n  border-radius: 5px;\r\n  overflow: hidden;\r\n}\r\n\r\n.progress {\r\n  height: 100%;\r\n  background: linear-gradient(90deg, #4caf50, #81c784);\r\n  background-size: 200% 100%;\r\n  animation: progressGradient 2s linear infinite;\r\n  border-radius: 5px;\r\n  transition: width 0.3s ease-in-out;\r\n}\r\n\r\n.settings {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.4rem;\r\n}\r\n\r\n.settings label {\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.settings input {\r\n  width: 45px;\r\n  padding: 0.2rem;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n}\r\n\r\n/* 中间任务列表区域 */\r\n.task-section,\r\n.completed-section {\r\n  display: flex;\r\n  flex-direction: column;\r\n  background: white;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n  overflow: hidden;\r\n}\r\n\r\n.task-list-container,\r\n.completed-list-container {\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  scrollbar-width: thin;\r\n  scrollbar-color: #d9d9d9 #f5f5f5;\r\n}\r\n\r\n/* 列表头部样式 */\r\n.section-header {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 12px 16px;\r\n  background: white;\r\n  border-bottom: 1px solid #f0f0f0;\r\n  cursor: pointer;\r\n  user-select: none;\r\n  transition: background-color 0.2s;\r\n}\r\n\r\n.section-header:hover {\r\n  background: #f5f7fa;\r\n}\r\n\r\n.section-header h2 {\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  margin: 0;\r\n}\r\n\r\n/* 任务项样式 */\r\n.task-item {\r\n  position: relative;\r\n  z-index: auto;\r\n  padding: 0;\r\n  border-bottom: 1px solid #f0f0f0;\r\n  cursor: default;\r\n  transition: transform 0.2s ease, box-shadow 0.2s ease;\r\n}\r\n\r\n.task-content {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 8px 16px;\r\n  margin: 0;\r\n  background: white;\r\n  text-align: left;\r\n}\r\n\r\n.task-name {\r\n  flex: 1;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  font-size: 14px;\r\n}\r\n\r\n.pomodoro-count {\r\n  margin-left: 12px;\r\n  color: var(--el-text-color-secondary);\r\n  font-size: 12px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n/* 选中状态样式 */\r\n.selected-task {\r\n  background: #e6f4ff;\r\n  border-left: 3px solid #1890ff;\r\n  animation: taskSelected 0.3s ease;\r\n}\r\n\r\n.selected-task .task-content {\r\n  padding-left: 17px; /* 20px - 3px(border-left) */\r\n}\r\n\r\n/* 悬浮效果 */\r\n.task-item:hover {\r\n  transform: translateY(-1px);\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n/* 搜索框样式 */\r\n.search-box {\r\n  padding: 12px 16px;\r\n  border-bottom: 1px solid #f0f0f0;\r\n}\r\n\r\n.search-input {\r\n  width: 100%;\r\n  height: 32px;\r\n  padding: 8px 12px;\r\n  border: 1px solid #d9d9d9;\r\n  border-radius: 8px;\r\n  font-size: 13px;\r\n  transition: all 0.3s;\r\n}\r\n\r\n.search-input:hover {\r\n  border-color: #40a9ff;\r\n}\r\n\r\n.search-input:focus {\r\n  border-color: #40a9ff;\r\n  box-shadow: 0 0 0 2px rgba(24, 144, 255, 0.2);\r\n  outline: none;\r\n}\r\n\r\n/* 滚动条样式 */\r\n.task-list-container::-webkit-scrollbar,\r\n.completed-list-container::-webkit-scrollbar {\r\n  width: 4px;\r\n}\r\n\r\n.task-list-container::-webkit-scrollbar-thumb,\r\n.completed-list-container::-webkit-scrollbar-thumb {\r\n  background-color: #d9d9d9;\r\n  border-radius: 3px;\r\n}\r\n\r\n.task-list-container::-webkit-scrollbar-track,\r\n.completed-list-container::-webkit-scrollbar-track {\r\n  background-color: #f5f5f5;\r\n}\r\n\r\n.no-tasks-prompt {\r\n  padding: 16px;\r\n  text-align: center;\r\n  color: #999;\r\n  font-size: 13px;\r\n}\r\n\r\n.add-task-link {\r\n  color: #4caf50;\r\n  cursor: pointer;\r\n  font-weight: bold;\r\n}\r\n\r\n.confetti-container {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  pointer-events: none;\r\n  z-index: 9999;\r\n}\r\n\r\n.confetti-canvas {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.task-list {\r\n  list-style: none;\r\n  padding: 0;\r\n  margin: 0;\r\n  overflow-y: auto;\r\n  height: 100%;\r\n}\r\n\r\n/* 悬浮卡片样式 */\r\n.task-hover-card {\r\n  position: fixed;\r\n  z-index: 9999;\r\n  width: 250px;\r\n  background: white;\r\n  border-radius: 8px;\r\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);\r\n  padding: 12px;\r\n  pointer-events: none;\r\n  animation: fadeIn 0.2s ease;\r\n}\r\n\r\n/* 修改箭头样式 */\r\n.task-hover-card::before {\r\n  content: '';\r\n  position: absolute;\r\n  bottom: -6px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  border-style: solid;\r\n  border-width: 6px 6px 0 6px;\r\n  border-color: white transparent transparent transparent;\r\n  filter: drop-shadow(0 2px 1px rgba(0, 0, 0, 0.05));\r\n}\r\n\r\n/* 修改动画效果 */\r\n@keyframes fadeIn {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(10px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n/* 确保卡片内容样式正确 */\r\n.task-title {\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  margin: 0 0 8px 0;\r\n  color: var(--el-text-color-primary);\r\n  line-height: 1.4;\r\n  word-break: break-all;\r\n}\r\n\r\n.task-info {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 6px;\r\n}\r\n\r\n.info-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  font-size: 12px;\r\n  line-height: 1.4;\r\n}\r\n\r\n.info-label {\r\n  color: var(--el-text-color-secondary);\r\n  width: 70px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n/* 优化截止日期样式 */\r\n.text-red-500 {\r\n  color: #f56c6c;\r\n}\r\n\r\n/* 对话框样式 */\r\n.pomodoro-dialog :deep(.el-dialog__header) {\r\n  text-align: center;\r\n  margin-right: 0;\r\n  padding: 20px 20px 0;\r\n}\r\n\r\n.pomodoro-dialog :deep(.el-dialog__body) {\r\n  padding: 30px 20px;\r\n}\r\n\r\n.pomodoro-dialog :deep(.el-dialog__footer) {\r\n  padding: 10px 20px 20px;\r\n  text-align: center;\r\n}\r\n\r\n/* 完成内容样式 */\r\n.completion-content,\r\n.continue-content {\r\n  text-align: center;\r\n}\r\n\r\n.completion-emoji,\r\n.continue-emoji {\r\n  font-size: 36px;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.completion-message,\r\n.continue-message {\r\n  font-size: 14px;\r\n  color: var(--el-text-color-primary);\r\n  line-height: 1.6;\r\n}\r\n\r\n.task-name {\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  color: var(--el-color-primary);\r\n  margin-top: 8px;\r\n  word-break: break-all;\r\n}\r\n\r\n/* 对话框按钮样式 */\r\n.dialog-footer {\r\n  display: flex;\r\n  justify-content: center;\r\n  gap: 16px;\r\n}\r\n\r\n.dialog-footer .el-button {\r\n  min-width: 100px;\r\n}\r\n\r\n/* 已完成任务的文字样式 */\r\n.task-name.completed {\r\n  color: var(--el-text-color-secondary);\r\n  text-decoration: line-through;\r\n}\r\n\r\n.pomodoro-dialog :deep(.el-dialog) {\r\n  width: 320px !important;\r\n}\r\n\r\n/* 添加工具栏样式 */\r\n.task-toolbar {\r\n  padding: 12px 16px;\r\n  border-bottom: 1px solid #f0f0f0;\r\n  background: #fafafa;\r\n}\r\n\r\n.filter-sort-controls {\r\n  display: flex;\r\n  gap: 8px;\r\n  margin-top: 8px;\r\n}\r\n\r\n/* 添加列表动画效果 */\r\n.completed-list-container {\r\n  transition: max-height 0.3s ease;\r\n}\r\n\r\n/* 添加选中任务的动画效果 */\r\n@keyframes taskSelected {\r\n  0% {\r\n    background: white;\r\n  }\r\n  50% {\r\n    background: #e6f4ff;\r\n  }\r\n  100% {\r\n    background: #f0f7ff;\r\n  }\r\n}\r\n\r\n/* 添加番茄钟动画效果 */\r\n@keyframes clockPulse {\r\n  0% {\r\n    transform: scale(1);\r\n  }\r\n  50% {\r\n    transform: scale(1.02);\r\n  }\r\n  100% {\r\n    transform: scale(1);\r\n  }\r\n}\r\n\r\n/* 优化进度条动画 */\r\n@keyframes progressGradient {\r\n  0% {\r\n    background-position: 0% 0%;\r\n  }\r\n  100% {\r\n    background-position: 200% 0%;\r\n  }\r\n}\r\n</style>\r\n  ","import script from \"./PomodoroTimer.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PomodoroTimer.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./PomodoroTimer.vue?vue&type=style&index=0&id=779c1200&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-779c1200\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"h-full flex flex-col relative\">\r\n    <!-- 顶部标题区 -->\r\n    <div class=\"flex-none flex items-center justify-between px-6 py-2 border-b border-gray-100\">\r\n      <div class=\"flex items-center gap-3\">\r\n        <div class=\"w-1 h-6 bg-blue-500 rounded-full\"></div>\r\n        <h1 class=\"text-xl font-medium text-gray-900\">待办事项 📝</h1>\r\n        <span class=\"text-sm text-gray-400\">{{ today }}</span>\r\n      </div>\r\n      <div class=\"flex items-center gap-2\">\r\n        <a-tag :color=\"statusCount.active > 0 ? 'processing' : 'default'\">\r\n          待完成 {{ statusCount.active }}\r\n        </a-tag>\r\n        <a-tag color=\"success\">\r\n          已完成 {{ statusCount.completed }}\r\n        </a-tag>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 搜索和筛选区 -->\r\n    <div class=\"flex-none flex items-center gap-3 px-6 py-2 bg-white border-b border-gray-100\">\r\n      <div class=\"flex-1 max-w-md\">\r\n        <a-input-search\r\n          v-model:value=\"searchText\"\r\n          placeholder=\"搜索待办事项...\"\r\n          class=\"!rounded-lg search-input\"\r\n          :bordered=\"false\"\r\n          @search=\"onSearch\"\r\n        >\r\n          <template #prefix>\r\n            <search-outlined class=\"text-gray-400\" />\r\n          </template>\r\n        </a-input-search>\r\n      </div>\r\n      <a-select\r\n        v-model:value=\"filterStatus\"\r\n        class=\"!rounded-lg min-w-[120px]\"\r\n        :bordered=\"false\"\r\n        @change=\"onFilterChange\"\r\n        :options=\"[\r\n          { value: 'all', label: '全部任务' },\r\n          { value: 'active', label: '未完成 ⏳' },\r\n          { value: 'completed', label: '已完成 ✅' }\r\n        ]\"\r\n      />\r\n      <div \r\n        class=\"completed-tasks-control\"\r\n        @click=\"toggleCompletedTasks\"\r\n      >\r\n        <div class=\"flex items-center gap-2 px-3 py-1.5 rounded-lg cursor-pointer hover:bg-gray-50\">\r\n          <div class=\"completed-count\">\r\n            <span class=\"number\">{{ completedTodos.length }}</span>\r\n            <span class=\"label\">已完成</span>\r\n          </div>\r\n          <div class=\"toggle-icon\" :class=\"{ 'rotated': !showCompletedTasks }\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\r\n              <polyline points=\"6 9 12 15 18 9\"></polyline>\r\n            </svg>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 表格区域 - 使用 flex-1 让它占据剩余空间 -->\r\n    <div class=\"flex-1 px-6 overflow-hidden\">\r\n      <a-table\r\n        :dataSource=\"filteredTodos\"\r\n        :columns=\"columns\"\r\n        :pagination=\"false\"\r\n        :scroll=\"{ y: 'calc(100vh - 340px)' }\"\r\n        :bordered=\"false\"\r\n        size=\"middle\"\r\n        class=\"custom-table -mx-4\"\r\n        @change=\"handleTableChange\"\r\n        :rowClassName=\"getRowClassName\"\r\n      >\r\n        <template #bodyCell=\"{ column, record }\">\r\n          <!-- 完成状态列 -->\r\n          <template v-if=\"column.key === 'completed'\">\r\n            <a-checkbox\r\n              :checked=\"record.completed\"\r\n              @change=\"e => toggleTodo(record, e.target.checked)\"\r\n              class=\"todo-checkbox\"\r\n            />\r\n          </template>\r\n\r\n          <!-- 优先级列 -->\r\n          <template v-else-if=\"column.key === 'priority'\">\r\n            <a-dropdown :trigger=\"['hover']\">\r\n              <a-tag \r\n                :color=\"getPriorityColor(record.priority)\"\r\n                class=\"cursor-pointer\"\r\n              >\r\n                {{ record.priority }}\r\n              </a-tag>\r\n              <template #overlay>\r\n                <a-menu @click=\"({ key }) => changePriority(record, key)\">\r\n                  <a-menu-item key=\"高\">\r\n                    <div class=\"flex items-center gap-2\">\r\n                      <div class=\"w-2 h-2 rounded-full bg-red-500\"></div>\r\n                      <span>高优先级</span>\r\n                    </div>\r\n                  </a-menu-item>\r\n                  <a-menu-item key=\"中\">\r\n                    <div class=\"flex items-center gap-2\">\r\n                      <div class=\"w-2 h-2 rounded-full bg-yellow-500\"></div>\r\n                      <span>中优先级</span>\r\n                    </div>\r\n                  </a-menu-item>\r\n                  <a-menu-item key=\"低\">\r\n                    <div class=\"flex items-center gap-2\">\r\n                      <div class=\"w-2 h-2 rounded-full bg-green-500\"></div>\r\n                      <span>低优先级</span>\r\n                    </div>\r\n                  </a-menu-item>\r\n                </a-menu>\r\n              </template>\r\n            </a-dropdown>\r\n          </template>\r\n\r\n          <!-- 分类列 -->\r\n          <template v-else-if=\"column.key === 'category'\">\r\n            <a-dropdown :trigger=\"['hover']\">\r\n              <a-tag \r\n                :color=\"getCategoryColor(record.category)\"\r\n                class=\"cursor-pointer\"\r\n              >\r\n                {{ record.category || '其他目标' }}\r\n              </a-tag>\r\n              <template #overlay>\r\n                <a-menu @click=\"({ key }) => changeCategory(record, key)\">\r\n                  <a-menu-item key=\"工作目标\">\r\n                    <div class=\"flex items-center gap-2\">\r\n                      <a-tag color=\"blue\" size=\"small\">工作</a-tag>\r\n                      <span>工作目标</span>\r\n                    </div>\r\n                  </a-menu-item>\r\n                  <a-menu-item key=\"学习目标\">\r\n                    <div class=\"flex items-center gap-2\">\r\n                      <a-tag color=\"success\" size=\"small\">学习</a-tag>\r\n                      <span>学习目标</span>\r\n                    </div>\r\n                  </a-menu-item>\r\n                  <a-menu-item key=\"生活目标\">\r\n                    <div class=\"flex items-center gap-2\">\r\n                      <a-tag color=\"warning\" size=\"small\">生活</a-tag>\r\n                      <span>生活目标</span>\r\n                    </div>\r\n                  </a-menu-item>\r\n                  <a-menu-item key=\"其他目标\">\r\n                    <div class=\"flex items-center gap-2\">\r\n                      <a-tag color=\"default\" size=\"small\">其他</a-tag>\r\n                      <span>其他目标</span>\r\n                    </div>\r\n                  </a-menu-item>\r\n                </a-menu>\r\n              </template>\r\n            </a-dropdown>\r\n          </template>\r\n\r\n          <!-- 任务内容列 -->\r\n          <template v-else-if=\"column.key === 'text'\">\r\n            <template v-if=\"editingId === record.id\">\r\n              <a-input\r\n                v-model:value=\"editingText\"\r\n                @pressEnter=\"saveTodo\"\r\n                @blur=\"saveTodo\"\r\n                class=\"!rounded-lg !border-blue-200 focus:!border-blue-400\"\r\n                :bordered=\"true\"\r\n              />\r\n            </template>\r\n            <template v-else>\r\n              <div class=\"group flex items-center relative\">\r\n                <span \r\n                  :class=\"{ \r\n                    'line-through text-gray-400': record.completed,\r\n                    'in-progress-text': record.pomodoros > 0 && !record.completed \r\n                  }\"\r\n                  class=\"flex-1 truncate cursor-pointer\"\r\n                  @mouseenter=\"showDetails(record, $event)\"\r\n                  @mouseleave=\"hideDetails\"\r\n                >\r\n                  {{ record.text }}\r\n                </span>\r\n\r\n                <!-- 快捷操作按钮 -->\r\n                <div class=\"action-buttons flex items-center gap-2 transition-opacity\">\r\n                  <a-button \r\n                    v-if=\"!record.completed\"\r\n                    type=\"text\" \r\n                    @click=\"startTask(record)\"\r\n                    class=\"action-btn !px-2 hover:!bg-blue-50 hover:!text-blue-500\"\r\n                    :title=\"record.pomodoros > 0 ? '继续任务' : '开始任务'\"\r\n                  >\r\n                    <template #icon>\r\n                      <clock-circle-outlined />\r\n                    </template>\r\n                  </a-button>\r\n                  <a-button \r\n                    type=\"text\" \r\n                    @click=\"startEdit(record)\"\r\n                    class=\"action-btn !px-2 hover:!bg-gray-100\"\r\n                    title=\"编辑\"\r\n                  >\r\n                    <template #icon><edit-outlined /></template>\r\n                  </a-button>\r\n                  <a-button \r\n                    type=\"text\" \r\n                    @click=\"deleteTodo(record)\"\r\n                    class=\"action-btn !px-2 hover:!bg-red-50 hover:!text-red-500\"\r\n                    title=\"删除\"\r\n                  >\r\n                    <template #icon><delete-outlined /></template>\r\n                  </a-button>\r\n                </div>\r\n\r\n                <!-- 悬浮面板 -->\r\n                <div \r\n                  v-if=\"isHovering && hoveredTodo?.id === record.id\" \r\n                  class=\"tooltip\"\r\n                >\r\n                  <div class=\"tooltip-content\">\r\n                    <p class=\"font-medium mb-2\">{{ record.text }}</p>\r\n                    <p class=\"text-sm text-gray-500\">优先级：{{ record.priority }}</p>\r\n                    <p class=\"text-sm text-gray-500\">分类：{{ record.category }}</p>\r\n                    <p class=\"text-sm text-gray-500\">创建时间：{{ formatDate(record.createdAt) }}</p>\r\n                    <p class=\"text-sm text-gray-500\" v-if=\"record.dueDate\">\r\n                      {{ record.completed ? '完成时间' : '截止时间' }}：\r\n                      <span :class=\"{ 'text-red-500': !record.completed && isOverdue(record.dueDate) }\">\r\n                        {{ formatDate(record.dueDate) }}\r\n                      </span>\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </template>\r\n          </template>\r\n\r\n          <!-- 截止日期列 -->\r\n          <template v-else-if=\"column.key === 'dueDate'\">\r\n            <div class=\"flex items-center gap-2\">\r\n              <span \r\n                :class=\"{ \r\n                  'text-red-500': !record.completed && isOverdue(record.dueDate),\r\n                  'text-gray-400': record.completed\r\n                }\"\r\n                class=\"cursor-pointer hover:text-blue-500\"\r\n                @click=\"openDatePicker(record)\"\r\n              >\r\n                {{ record.completed ? '完成于：' + formatDate(record.dueDate) : formatDate(record.dueDate) || '设置截止日期' }}\r\n              </span>\r\n              <a-button\r\n                v-if=\"record.dueDate\"\r\n                type=\"text\"\r\n                class=\"action-btn !px-1\"\r\n                @click=\"clearDueDate(record)\"\r\n                title=\"清除截止日期\"\r\n              >\r\n                <template #icon>\r\n                  <close-outlined />\r\n                </template>\r\n              </a-button>\r\n            </div>\r\n          </template>\r\n          <!-- 番茄钟列 -->\r\n          <template v-else-if=\"column.key === 'pomodoros'\">\r\n            <span class=\"pomodoro-count\">🍅 x {{ record.pomodoros || 0 }}</span>\r\n          </template>\r\n\r\n          <!-- 创建时间列 -->\r\n          <template v-else-if=\"column.key === 'createdAt'\">\r\n            <span>{{ formatDate(record.createdAt) }}</span>\r\n          </template>\r\n        </template>\r\n      </a-table>\r\n    </div>\r\n\r\n    <!-- 底部添加任务区 -->\r\n    <div class=\"flex-none px-6 py-4\">\r\n      <a-input\r\n        v-model:value=\"newTodo\"\r\n        placeholder=\"添加新任务...\"\r\n        class=\"add-task-input\"\r\n        :bordered=\"true\"\r\n        @keyup.enter=\"addTodo\"\r\n      >\r\n        <!-- 左侧前缀图标和下拉菜单 -->\r\n        <template #prefix>\r\n          <div class=\"flex items-center gap-2\">\r\n            <div class=\"flex items-center gap-2\">\r\n              <!-- 分类标签 - 添加下拉菜单 -->\r\n              <a-dropdown :trigger=\"['hover']\" placement=\"bottomLeft\">\r\n                <a-tag \r\n                  v-if=\"newTodoCategory\" \r\n                  :color=\"getCategoryColor(newTodoCategory)\"\r\n                  size=\"small\"\r\n                  class=\"hover:cursor-pointer\"\r\n                >\r\n                  {{ getCategoryShortName(newTodoCategory) }}\r\n                </a-tag>\r\n                <template #overlay>\r\n                  <a-menu @click=\"({ key }) => setCategory(key)\">\r\n                    <a-menu-item key=\"工作目标\">\r\n                      <a-tag color=\"blue\" size=\"small\">工作</a-tag>\r\n                      <span class=\"ml-2\">工作目标</span>\r\n                    </a-menu-item>\r\n                    <a-menu-item key=\"学习目标\">\r\n                      <a-tag color=\"success\" size=\"small\">学习</a-tag>\r\n                      <span class=\"ml-2\">学习目标</span>\r\n                    </a-menu-item>\r\n                    <a-menu-item key=\"生活目标\">\r\n                      <a-tag color=\"warning\" size=\"small\">生活</a-tag>\r\n                      <span class=\"ml-2\">生活目标</span>\r\n                    </a-menu-item>\r\n                    <a-menu-item key=\"其他目标\">\r\n                      <a-tag color=\"default\" size=\"small\">其他</a-tag>\r\n                      <span class=\"ml-2\">其他目标</span>\r\n                    </a-menu-item>\r\n                  </a-menu>\r\n                </template>\r\n              </a-dropdown>\r\n\r\n              <!-- 优先级标签 - 添加下拉菜单 -->\r\n              <a-dropdown :trigger=\"['hover']\" placement=\"bottomLeft\">\r\n                <a-tag \r\n                  v-if=\"newTodoPriority\" \r\n                  :color=\"getPriorityColor(newTodoPriority)\"\r\n                  size=\"small\"\r\n                  class=\"hover:cursor-pointer\"\r\n                >\r\n                  {{ newTodoPriority }}\r\n                </a-tag>\r\n                <template #overlay>\r\n                  <a-menu @click=\"({ key }) => setPriority(key)\">\r\n                    <a-menu-item key=\"高\">\r\n                      <a-tag color=\"error\" size=\"small\">高</a-tag>\r\n                      <span class=\"ml-2\">高优先级</span>\r\n                    </a-menu-item>\r\n                    <a-menu-item key=\"中\">\r\n                      <a-tag color=\"warning\" size=\"small\">中</a-tag>\r\n                      <span class=\"ml-2\">中优先级</span>\r\n                    </a-menu-item>\r\n                    <a-menu-item key=\"低\">\r\n                      <a-tag color=\"success\" size=\"small\">低</a-tag>\r\n                      <span class=\"ml-2\">低优先级</span>\r\n                    </a-menu-item>\r\n                  </a-menu>\r\n                </template>\r\n              </a-dropdown>\r\n            </div>\r\n            <a-dropdown>\r\n              <plus-outlined class=\"text-gray-400 cursor-pointer hover:text-blue-500 text-lg\" />\r\n              <template #overlay>\r\n                <a-menu>\r\n                  <a-menu-item-group title=\"任务分类\">\r\n                    <a-menu-item key=\"work\" @click=\"setCategory('工作目标')\">\r\n                      <div class=\"flex items-center gap-2\">\r\n                        <a-tag color=\"blue\" size=\"small\">工作</a-tag>\r\n                        <span>工作目标</span>\r\n                      </div>\r\n                    </a-menu-item>\r\n                    <a-menu-item key=\"study\" @click=\"setCategory('学习目标')\">\r\n                      <div class=\"flex items-center gap-2\">\r\n                        <a-tag color=\"success\" size=\"small\">学习</a-tag>\r\n                        <span>学习目标</span>\r\n                      </div>\r\n                    </a-menu-item>\r\n                    <a-menu-item key=\"life\" @click=\"setCategory('生活目标')\">\r\n                      <div class=\"flex items-center gap-2\">\r\n                        <a-tag color=\"warning\" size=\"small\">生活</a-tag>\r\n                        <span>生活目标</span>\r\n                      </div>\r\n                    </a-menu-item>\r\n                    <a-menu-item key=\"other\" @click=\"setCategory('其他目标')\">\r\n                      <div class=\"flex items-center gap-2\">\r\n                        <a-tag color=\"default\" size=\"small\">其他</a-tag>\r\n                        <span>其他目标</span>\r\n                      </div>\r\n                    </a-menu-item>\r\n                  </a-menu-item-group>\r\n                  <a-menu-divider />\r\n                  <a-menu-item-group title=\"优先级\">\r\n                    <a-menu-item key=\"high\" @click=\"setPriority('高')\">\r\n                      <div class=\"flex items-center gap-2\">\r\n                        <div class=\"w-2 h-2 rounded-full bg-red-500\"></div>\r\n                        <span>高优先级</span>\r\n                      </div>\r\n                    </a-menu-item>\r\n                    <a-menu-item key=\"medium\" @click=\"setPriority('中')\">\r\n                      <div class=\"flex items-center gap-2\">\r\n                        <div class=\"w-2 h-2 rounded-full bg-yellow-500\"></div>\r\n                        <span>中优先级</span>\r\n                      </div>\r\n                    </a-menu-item>\r\n                    <a-menu-item key=\"low\" @click=\"setPriority('低')\">\r\n                      <div class=\"flex items-center gap-2\">\r\n                        <div class=\"w-2 h-2 rounded-full bg-green-500\"></div>\r\n                        <span>低优先级</span>\r\n                      </div>\r\n                    </a-menu-item>\r\n                  </a-menu-item-group>\r\n                  <a-menu-divider />\r\n                  <a-menu-item key=\"date\" @click=\"setDueDate\">\r\n                    📅 设置截止日期\r\n                  </a-menu-item>\r\n                </a-menu>\r\n              </template>\r\n            </a-dropdown>\r\n          </div>\r\n        </template>\r\n\r\n        <!-- 右侧回车提示图标 -->\r\n        <template #suffix>\r\n          <enter-outlined \r\n            v-if=\"newTodo.trim()\"\r\n            class=\"text-gray-300 text-lg\"\r\n            title=\"按回车键添加任务\"\r\n          />\r\n        </template>\r\n      </a-input>\r\n    </div>\r\n\r\n    <!-- 添加日期选择器到模板中 -->\r\n    <a-modal\r\n      v-model:visible=\"datePickerVisible\"\r\n      title=\"设置截止日期\"\r\n      :footer=\"null\"\r\n    >\r\n      <a-date-picker\r\n        v-model:value=\"tempDueDate\"\r\n        show-time\r\n        format=\"YYYY-MM-DD HH:mm\"\r\n        @ok=\"handleDateOk\"\r\n        @change=\"handleDateChange\"\r\n      />\r\n    </a-modal>\r\n\r\n    <!-- 添加撒花容器 -->\r\n    <div v-if=\"showConfetti\" class=\"confetti-container\">\r\n      <canvas ref=\"confettiCanvas\" class=\"confetti-canvas\"></canvas>\r\n    </div>\r\n    \r\n    <!-- 添加完成确认对话框 -->\r\n    <el-dialog\r\n      v-model=\"showConfirmationModal\"\r\n      title=\"任务完成！\"\r\n      width=\"360px\"\r\n      :show-close=\"false\"\r\n      :close-on-click-modal=\"false\"\r\n      class=\"completion-dialog\"\r\n    >\r\n      <div class=\"completion-content\">\r\n        <div class=\"completion-emoji\">🎉</div>\r\n        <div class=\"completion-message\">\r\n          恭喜完成任务\r\n          <div class=\"task-name\">{{ completedTask?.text }}</div>\r\n          <div class=\"completion-time\">\r\n            用时：{{ formatDuration(Date.now() - completedTask?.createdAt) }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <template #footer>\r\n        <div class=\"dialog-footer\">\r\n          <el-button type=\"primary\" @click=\"handleTaskComplete\">确定</el-button>\r\n        </div>\r\n      </template>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted, onUnmounted, h, nextTick } from 'vue'\r\nimport { message } from 'ant-design-vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { \r\n  PlusOutlined, \r\n  EditOutlined, \r\n  DeleteOutlined,\r\n  SearchOutlined,\r\n  EnterOutlined,  // 添加回车图标\r\n  ClockCircleOutlined,\r\n  CloseOutlined  // 添加关闭图标\r\n} from '@ant-design/icons-vue'\r\nimport dayjs from 'dayjs'\r\nimport confetti from 'canvas-confetti'\r\n\r\n// 初始化 router\r\nconst router = useRouter()\r\n\r\n// 状态\r\nconst todos = ref([])\r\nconst newTodo = ref('')\r\nconst editingId = ref(null)\r\nconst editingText = ref('')\r\nconst searchText = ref('')\r\nconst filterStatus = ref('all')\r\nconst newTodoPriority = ref(null) // 新任务的优先级\r\nconst newDueDate = ref(null)\r\nconst datePickerVisible = ref(false)\r\nconst tempDueDate = ref(null)\r\nconst editingDueDate = ref(null)  // 当前正在编辑截止日期的任务\r\nconst newTodoCategory = ref(null) // 新任务的分类\r\nconst detailsVisible = ref(false)\r\nconst selectedTodoDetails = ref('')\r\nconst isHovering = ref(false)\r\nconst hoveredTodo = ref(null)\r\n\r\n// 添加删除历史记录\r\nconst deleteHistory = ref([])\r\n\r\n// 修改默认排序状态：默认按优先级降序排序\r\nconst sortState = ref({\r\n  columnKey: 'priority',  // 默认按优先级排序\r\n  order: 'descend'         // 默认降序排序\r\n})\r\n\r\n// 添加新的响应式状态\r\nconst showConfetti = ref(false)\r\nconst confettiCanvas = ref(null)\r\nconst showConfirmationModal = ref(false)\r\nconst completedTask = ref(null)\r\nconst showCompletedTasks = ref(false)\r\n\r\n// 表格列定义\r\nconst columns = [\r\n  {\r\n    title: '状态',\r\n    key: 'completed',\r\n    width: 60,\r\n    sorter: (a, b) => Number(a.completed) - Number(b.completed),\r\n  },\r\n  {\r\n    title: '任务内容',\r\n    key: 'text',\r\n    ellipsis: true,\r\n    sorter: (a, b) => a.text.localeCompare(b.text),\r\n  },\r\n  {\r\n    title: '优先级',\r\n    key: 'priority',\r\n    width: 100,\r\n    sorter: (a, b) => {\r\n      const priorityWeight = { '高': 3, '中': 2, '低': 1 }\r\n      return priorityWeight[a.priority] - priorityWeight[b.priority]\r\n    },\r\n  },\r\n  {\r\n    title: '分类',\r\n    key: 'category',\r\n    width: 120,\r\n    sorter: (a, b) => (a.category || '').localeCompare(b.category || ''),\r\n  },\r\n  {\r\n    title: '创建时间',\r\n    key: 'createdAt',\r\n    width: 180,\r\n    defaultSortOrder: 'descend', // 默认降序\r\n    sorter: (a, b) => a.createdAt - b.createdAt,\r\n  },\r\n  {\r\n    title: '截止日期',\r\n    key: 'dueDate',\r\n    width: 180,\r\n    sorter: (a, b) => {\r\n      if (!a.dueDate && !b.dueDate) return 0\r\n      if (!a.dueDate) return 1\r\n      if (!b.dueDate) return -1\r\n      return a.dueDate - b.dueDate\r\n    },\r\n  },\r\n  {\r\n    title: '番茄数',\r\n    key: 'pomodoros',\r\n    width: 100,\r\n    sorter: (a, b) => (a.pomodoros || 0) - (b.pomodoros || 0),\r\n  }\r\n]\r\n\r\n// 计算属性\r\nconst today = computed(() => {\r\n  return new Date().toLocaleDateString('zh-CN', {\r\n    month: 'long',\r\n    day: 'numeric',\r\n    weekday: 'long'\r\n  })\r\n})\r\n\r\n// 修改过滤和排序的计算属性，先过滤再排序（默认先按优先级降序，再按创建时间降序）\r\nconst filteredTodos = computed(() => {\r\n  const list = todos.value.filter(todo => {\r\n    if (!showCompletedTasks.value && todo.completed) {\r\n      return false // 隐藏已完成任务\r\n    }\r\n    return true // 显示其他任务\r\n  })\r\n  const priorityWeight = { '高': 3, '中': 2, '低': 1 }\r\n  const localSortState = sortState.value\r\n  if (localSortState && localSortState.order && localSortState.columnKey) {\r\n    if (localSortState.columnKey === 'priority') {\r\n      // 主要按照优先级降序排序，优先级相同则按创建时间降序\r\n      list.sort((a, b) => {\r\n        const diff = priorityWeight[b.priority] - priorityWeight[a.priority]\r\n        if (diff !== 0) return diff\r\n        return b.createdAt - a.createdAt\r\n      })\r\n    } else if (localSortState.columnKey === 'createdAt') {\r\n      list.sort((a, b) =>\r\n        localSortState.order === 'descend'\r\n          ? b.createdAt - a.createdAt\r\n          : a.createdAt - b.createdAt\r\n      )\r\n    } else if (localSortState.columnKey === 'text') {\r\n      list.sort((a, b) =>\r\n        localSortState.order === 'descend'\r\n          ? b.text.localeCompare(a.text)\r\n          : a.text.localeCompare(b.text)\r\n      )\r\n    } else if (localSortState.columnKey === 'dueDate') {\r\n      list.sort((a, b) =>\r\n        localSortState.order === 'descend'\r\n          ? (b.dueDate || 0) - (a.dueDate || 0)\r\n          : (a.dueDate || 0) - (b.dueDate || 0)\r\n      )\r\n    } else if (localSortState.columnKey === 'completed') {\r\n      list.sort((a, b) =>\r\n        localSortState.order === 'descend'\r\n          ? Number(b.completed) - Number(a.completed)\r\n          : Number(a.completed) - Number(b.completed)\r\n      )\r\n    } else if (localSortState.columnKey === 'pomodoros') {\r\n      list.sort((a, b) =>\r\n        localSortState.order === 'descend'\r\n          ? (b.pomodoros || 0) - (a.pomodoros || 0)\r\n          : (a.pomodoros || 0) - (b.pomodoros || 0)\r\n      )\r\n    } else {\r\n      // 如果未识别，则使用默认排序：优先级降序，再按创建时间降序\r\n      list.sort((a, b) => {\r\n        const diff = priorityWeight[b.priority] - priorityWeight[a.priority]\r\n        if (diff !== 0) return diff\r\n        return b.createdAt - a.createdAt\r\n      })\r\n    }\r\n  } else {\r\n    // 默认排序：优先级降序，再按创建时间降序\r\n    list.sort((a, b) => {\r\n      const diff = priorityWeight[b.priority] - priorityWeight[a.priority]\r\n      if (diff !== 0) return diff\r\n      return b.createdAt - a.createdAt\r\n    })\r\n  }\r\n  return list\r\n})\r\n\r\nconst statusCount = computed(() => ({\r\n  active: todos.value.filter(t => !t.completed).length,\r\n  completed: todos.value.filter(t => t.completed).length\r\n}))\r\n\r\nconst getPriorityColor = (priority) => {\r\n  const colors = { '高': 'error', '中': 'warning', '低': 'success' }\r\n  return colors[priority] || 'default'\r\n}\r\n\r\nconst formatDate = (timestamp) => {\r\n  if (!timestamp) return '';\r\n  const date = new Date(timestamp);\r\n  if (isNaN(date.getTime())) return '';\r\n  \r\n  return date.toLocaleString('zh-CN', {\r\n    year: 'numeric',\r\n    month: '2-digit',\r\n    day: '2-digit',\r\n    hour: '2-digit',\r\n    minute: '2-digit'\r\n  });\r\n}\r\n\r\nconst isOverdue = (date) => {\r\n  if (!date) return false\r\n  return new Date(date) < new Date()\r\n}\r\n\r\n// 方法\r\nconst addTodo = () => {\r\n  if (!newTodo.value.trim()) {\r\n    message.warning('请输入任务内容')\r\n    return\r\n  }\r\n\r\n  const todo = {\r\n    id: Date.now(),\r\n    text: newTodo.value.trim(),\r\n    completed: false,\r\n    category: newTodoCategory.value || '其他目标',\r\n    priority: newTodoPriority.value || '中',\r\n    dueDate: newDueDate.value,\r\n    pomodoros: 0,\r\n    createdAt: Date.now()\r\n  }\r\n\r\n  todos.value.push(todo)\r\n  saveTodosToStorage()\r\n  newTodo.value = ''\r\n  newTodoPriority.value = null\r\n  newTodoCategory.value = null\r\n  newDueDate.value = null\r\n  message.success('添加成功')\r\n}\r\n\r\nconst deleteTodo = (todo) => {\r\n  const index = todos.value.findIndex(t => t.id === todo.id)\r\n  if (index !== -1) {\r\n    // 保存删除记录\r\n    deleteHistory.value.push({\r\n      todo: { ...todo },\r\n      index,\r\n      timestamp: Date.now()\r\n    })\r\n    \r\n    // 从列表中删除\r\n    todos.value.splice(index, 1)\r\n    saveTodosToStorage()\r\n    \r\n    // 显示可撤销提示，修改为3秒\r\n    message.info({\r\n      content: h('div', {\r\n        class: 'undo-message'\r\n      }, [\r\n        h('span', '任务已删除 '),\r\n        h('a', {\r\n          style: {\r\n            color: '#1890ff',\r\n            cursor: 'pointer',\r\n            marginLeft: '4px'\r\n          },\r\n          onClick: () => undoDelete(deleteHistory.value[deleteHistory.value.length - 1])\r\n        }, 'Ctrl+Z撤销'),\r\n        h('span', {\r\n          style: {\r\n            color: '#999',\r\n            fontSize: '12px',\r\n            marginLeft: '4px'\r\n          }\r\n        }, '(3秒内有效)')\r\n      ]),\r\n      duration: 3,  // 修改为3秒\r\n      class: 'custom-message'\r\n    })\r\n  }\r\n}\r\n\r\nconst startEdit = (record) => {\r\n  editingId.value = record.id\r\n  editingText.value = record.text\r\n}\r\n\r\nconst saveTodo = () => {\r\n  if (editingId.value) {\r\n    const todo = todos.value.find(t => t.id === editingId.value)\r\n    if (todo) {\r\n      todo.text = editingText.value\r\n      saveTodosToStorage()\r\n    }\r\n    editingId.value = null\r\n    editingText.value = ''\r\n  }\r\n}\r\n\r\nconst onSearch = () => {\r\n  // 仅执行搜索逻辑\r\n  loadTodosFromStorage()\r\n}\r\n\r\nconst onFilterChange = () => {\r\n  // 仅执行过滤逻辑\r\n  loadTodosFromStorage()\r\n}\r\n\r\nconst saveTodosToStorage = () => {\r\n  localStorage.setItem('todos', JSON.stringify(todos.value))\r\n}\r\n\r\nconst loadTodosFromStorage = () => {\r\n  const stored = localStorage.getItem('todos')\r\n  if (stored) {\r\n    todos.value = JSON.parse(stored)\r\n  }\r\n}\r\n\r\nconst setPriority = (priority) => {\r\n  newTodoPriority.value = priority\r\n  message.success(`已设置为${priority}优先级`)\r\n}\r\n\r\nconst setDueDate = () => {\r\n  datePickerVisible.value = true\r\n}\r\n\r\n// 处理日期选择\r\nconst handleDateChange = (date) => {\r\n  tempDueDate.value = date\r\n}\r\n\r\nconst handleDateOk = () => {\r\n  if (editingDueDate.value) {\r\n    // 更新现有任务的截止日期\r\n    editingDueDate.value.dueDate = tempDueDate.value ? tempDueDate.value.valueOf() : null\r\n    saveTodosToStorage()\r\n    datePickerVisible.value = false\r\n    editingDueDate.value = null\r\n    tempDueDate.value = null\r\n    message.success('已设置截止日期')\r\n  }\r\n}\r\n\r\n// 获取优先级对应的样式类\r\nconst getPriorityDot = (priority) => {\r\n  switch (priority) {\r\n    case '高':\r\n      return 'bg-red-500'\r\n    case '中':\r\n      return 'bg-yellow-500'\r\n    case '低':\r\n      return 'bg-green-500'\r\n    default:\r\n      return 'bg-gray-300'\r\n  }\r\n}\r\n\r\nconst toggleTodo = async (todo, checked) => {\r\n  if (checked) {\r\n    // 显示完成对话框\r\n    completedTask.value = todo\r\n    showConfirmationModal.value = true\r\n    // 显示撒花效果\r\n    showFullScreenConfetti()\r\n  } else {\r\n    // 直接更新状态\r\n    todo.completed = checked\r\n    saveTodosToStorage()\r\n  }\r\n}\r\n\r\n// 处理任务完成确认\r\nconst handleTaskComplete = () => {\r\n  if (completedTask.value) {\r\n    completedTask.value.completed = true\r\n    completedTask.value.dueDate = Date.now()\r\n    saveTodosToStorage()\r\n    \r\n    // 关闭对话框\r\n    showConfirmationModal.value = false\r\n    completedTask.value = null\r\n  }\r\n}\r\n\r\n// 添加全屏撒花效果\r\nconst showFullScreenConfetti = async () => {\r\n  showConfetti.value = true\r\n  await nextTick()\r\n  \r\n  const duration = 3000\r\n  const animationEnd = Date.now() + duration\r\n  const defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 9999 }\r\n\r\n  function randomInRange(min, max) {\r\n    return Math.random() * (max - min) + min\r\n  }\r\n\r\n  const interval = setInterval(function() {\r\n    const timeLeft = animationEnd - Date.now()\r\n\r\n    if (timeLeft <= 0) {\r\n      clearInterval(interval)\r\n      showConfetti.value = false\r\n      return\r\n    }\r\n\r\n    const particleCount = 50 * (timeLeft / duration)\r\n    \r\n    // 从随机位置发射\r\n    confetti({\r\n      ...defaults,\r\n      particleCount,\r\n      origin: { x: randomInRange(0.1, 0.3), y: Math.random() - 0.2 },\r\n      colors: ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff']\r\n    })\r\n    confetti({\r\n      ...defaults,\r\n      particleCount,\r\n      origin: { x: randomInRange(0.7, 0.9), y: Math.random() - 0.2 },\r\n      colors: ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff']\r\n    })\r\n  }, 250)\r\n}\r\n\r\n// 添加时间格式化函数\r\nconst formatDuration = (ms) => {\r\n  const seconds = Math.floor(ms / 1000)\r\n  const minutes = Math.floor(seconds / 60)\r\n  const hours = Math.floor(minutes / 60)\r\n  const days = Math.floor(hours / 24)\r\n\r\n  if (days > 0) {\r\n    return `${days}天${hours % 24}小时`\r\n  } else if (hours > 0) {\r\n    return `${hours}小时${minutes % 60}分钟`\r\n  } else if (minutes > 0) {\r\n    return `${minutes}分钟`\r\n  } else {\r\n    return `${seconds}秒`\r\n  }\r\n}\r\n\r\n// 开始任务函数\r\nconst startTask = (task) => {\r\n  router.push({\r\n    path: '/pomodoro-timer',\r\n    query: { taskId: task.id }\r\n  })\r\n}\r\n\r\n// 修改撤销时间检查为3秒\r\nconst undoDelete = (deleteRecord) => {\r\n  if (!deleteRecord) return\r\n  \r\n  // 检查是否在3秒内\r\n  if (Date.now() - deleteRecord.timestamp > 3000) {  // 修改为3000毫秒\r\n    message.error('撤销时间已过')\r\n    return\r\n  }\r\n  \r\n  // 恢复任务\r\n  todos.value.splice(deleteRecord.index, 0, deleteRecord.todo)\r\n  saveTodosToStorage()\r\n  \r\n  // 从历史记录中移除\r\n  const index = deleteHistory.value.findIndex(h => h.timestamp === deleteRecord.timestamp)\r\n  if (index !== -1) {\r\n    deleteHistory.value.splice(index, 1)\r\n  }\r\n  \r\n  message.success('已撤销删除')\r\n}\r\n\r\n// 修改清理时间为3秒\r\nconst cleanupDeleteHistory = () => {\r\n  const now = Date.now()\r\n  deleteHistory.value = deleteHistory.value.filter(\r\n    record => now - record.timestamp <= 3000  // 修改为3000毫秒\r\n  )\r\n}\r\n\r\n// 添加键盘快捷键监听\r\nonMounted(() => {\r\n  window.addEventListener('keydown', handleKeyDown)\r\n})\r\n\r\nonUnmounted(() => {\r\n  window.removeEventListener('keydown', handleKeyDown)\r\n})\r\n\r\nconst handleKeyDown = (e) => {\r\n  // 检查是否按下 Ctrl+Z\r\n  if (e.ctrlKey && e.key.toLowerCase() === 'z') {\r\n    e.preventDefault()\r\n    const lastDelete = deleteHistory.value[deleteHistory.value.length - 1]\r\n    if (lastDelete) {\r\n      undoDelete(lastDelete)\r\n    }\r\n  }\r\n}\r\n\r\n// 每秒清理一次历史记录\r\nonMounted(() => {\r\n  const cleanup = setInterval(cleanupDeleteHistory, 1000)\r\n  onUnmounted(() => clearInterval(cleanup))\r\n})\r\n\r\n// 添加表格变化处理函数\r\nconst handleTableChange = (pagination, filters, sorter) => {\r\n  sortState.value = {\r\n    columnKey: sorter.field,\r\n    order: sorter.order\r\n  }\r\n}\r\n\r\n// 修改优先级\r\nconst changePriority = (todo, priority) => {\r\n  const updatedTodo = {\r\n    ...todo,\r\n    priority\r\n  }\r\n  todos.value = todos.value.map(t => \r\n    t.id === todo.id ? updatedTodo : t\r\n  )\r\n  saveTodosToStorage()\r\n}\r\n\r\n// 打开日期选择器\r\nconst openDatePicker = (todo) => {\r\n  editingDueDate.value = todo\r\n  tempDueDate.value = todo.dueDate ? dayjs(todo.dueDate) : null\r\n  datePickerVisible.value = true\r\n}\r\n\r\n// 清除截止日期\r\nconst clearDueDate = (todo) => {\r\n  todo.dueDate = null\r\n  saveTodosToStorage()\r\n  message.success('已清除截止日期')\r\n}\r\n\r\n// 在 script 部分添加分类相关方法\r\nconst setCategory = (category) => {\r\n  newTodoCategory.value = category\r\n  message.success(`已设置为${category}`)\r\n}\r\n\r\n// 获取分类对应的 Tag 颜色（用于表格中的标签）\r\nconst getCategoryColor = (category) => {\r\n  const colors = {\r\n    '工作目标': 'blue',\r\n    '学习目标': 'success',\r\n    '生活目标': 'warning',\r\n    '其他目标': 'default'  // 修改为 default 而不是空字符串\r\n  }\r\n  return colors[category] || 'default'\r\n}\r\n\r\n// 添加获取分类简短名称的方法\r\nconst getCategoryShortName = (category) => {\r\n  const shortNames = {\r\n    '工作目标': '工作',\r\n    '学习目标': '学习',\r\n    '生活目标': '生活',\r\n    '其他目标': '其他'\r\n  }\r\n  return shortNames[category] || '其他'\r\n}\r\n\r\n// 添加分类切换函数\r\nconst changeCategory = (todo, category) => {\r\n  const updatedTodo = {\r\n    ...todo,\r\n    category\r\n  }\r\n  todos.value = todos.value.map(t => \r\n    t.id === todo.id ? updatedTodo : t\r\n  )\r\n  saveTodosToStorage()\r\n  message.success(`已更新分类为：${category}`)\r\n}\r\n\r\n// 修复悬浮面板显示\r\nconst showDetails = (record, event) => {\r\n  hoveredTodo.value = record\r\n  isHovering.value = true\r\n  // 计算悬浮面板位置\r\n  const rect = event.target.getBoundingClientRect()\r\n  const tooltipEl = document.querySelector('.tooltip')\r\n  if (tooltipEl) {\r\n    tooltipEl.style.top = `${rect.top - 10}px`\r\n    tooltipEl.style.left = `${rect.left + (rect.width / 2)}px`\r\n  }\r\n}\r\n\r\nconst hideDetails = () => {\r\n  hoveredTodo.value = null\r\n  isHovering.value = false\r\n}\r\n\r\n// 添加已完成任务的数量计算属性\r\nconst completedTodos = computed(() => {\r\n  return todos.value.filter(todo => todo.completed)\r\n})\r\n\r\n// 切换已完成任务的显示状态\r\nconst toggleCompletedTasks = () => {\r\n  showCompletedTasks.value = !showCompletedTasks.value\r\n  \r\n  // 添加有趣的动画效果\r\n  const emoji = showCompletedTasks.value ? '👀' : '🙈'\r\n  message.success({\r\n    content: h('div', [\r\n      h('span', showCompletedTasks.value ? '显示已完成任务 ' : '隐藏已完成任务 '),\r\n      h('span', emoji)\r\n    ]),\r\n    duration: 2\r\n  })\r\n}\r\n\r\n// 获取行的类名\r\nconst getRowClassName = (record) => {\r\n  return {\r\n    'completed-row': record.completed,\r\n    'completed-row-hidden': record.completed && !showCompletedTasks.value\r\n  }\r\n}\r\n\r\n// 初始化\r\nloadTodosFromStorage()\r\n</script>\r\n\r\n<style scoped>\r\n/* 自定义表格样式 */\r\n.custom-table :deep(.ant-table) {\r\n  @apply bg-transparent;\r\n}\r\n\r\n.custom-table :deep(.ant-table-thead > tr > th) {\r\n  @apply bg-transparent !important;\r\n  @apply text-gray-500 font-medium !important;\r\n  @apply border-b border-gray-100 !important;\r\n  @apply before:hidden !important;\r\n  @apply py-3 !important;\r\n}\r\n\r\n.custom-table :deep(.ant-table-tbody > tr > td) {\r\n  @apply border-none !important;\r\n  @apply py-3 !important;\r\n}\r\n\r\n.custom-table :deep(.ant-table-tbody > tr) {\r\n  @apply hover:bg-gray-50/80;\r\n}\r\n\r\n/* 自定义复选框样式 */\r\n:deep(.todo-checkbox .ant-checkbox-inner) {\r\n  @apply w-5 h-5 rounded-full border-gray-300;\r\n}\r\n\r\n:deep(.todo-checkbox .ant-checkbox-checked .ant-checkbox-inner) {\r\n  @apply bg-blue-500 border-blue-500;\r\n}\r\n\r\n/* 美化滚动条 */\r\n:deep(.ant-table-body::-webkit-scrollbar) {\r\n  @apply w-1.5;\r\n}\r\n\r\n:deep(.ant-table-body::-webkit-scrollbar-track) {\r\n  @apply bg-transparent;\r\n}\r\n\r\n:deep(.ant-table-body::-webkit-scrollbar-thumb) {\r\n  @apply bg-gray-200 rounded-full;\r\n}\r\n\r\n:deep(.ant-table-body::-webkit-scrollbar-thumb:hover) {\r\n  @apply bg-gray-300;\r\n}\r\n\r\n/* 添加优先级标签样式 */\r\n:deep(.ant-tag) {\r\n  margin-right: 0;\r\n  line-height: 1.2;\r\n}\r\n\r\n/* 调整输入框前缀区域的样式 */\r\n:deep(.ant-input-prefix) {\r\n  @apply mr-2 flex items-center;\r\n  gap: 8px;\r\n}\r\n\r\n/* 美化搜索框 */\r\n.search-input {\r\n  @apply bg-gray-50/80 hover:bg-gray-100/80 transition-colors;\r\n}\r\n\r\n:deep(.search-input .ant-input) {\r\n  @apply bg-transparent;\r\n}\r\n\r\n:deep(.search-input .ant-input-group-addon) {\r\n  @apply bg-transparent border-none;\r\n}\r\n\r\n/* 确保表格底部可见 */\r\n.custom-table {\r\n  @apply flex flex-col h-full;\r\n}\r\n\r\n:deep(.ant-table-wrapper) {\r\n  @apply h-full flex flex-col;\r\n}\r\n\r\n:deep(.ant-table-body) {\r\n  @apply overflow-y-auto !important;\r\n  /* 添加底部边距确保最后一行可见 */\r\n  @apply pb-4;\r\n}\r\n\r\n/* 添加排序图标样式 */\r\n:deep(.ant-table-column-sorter) {\r\n  margin-left: 4px;\r\n}\r\n\r\n:deep(.ant-table-column-sorter-up.active),\r\n:deep(.ant-table-column-sorter-down.active) {\r\n  color: var(--ant-color-primary);\r\n}\r\n\r\n/* 优化表头悬浮样式 */\r\n:deep(.ant-table-thead th.ant-table-column-sort) {\r\n  background-color: rgba(0, 0, 0, 0.02);\r\n}\r\n\r\n:deep(.ant-table-thead th:hover) {\r\n  background-color: rgba(0, 0, 0, 0.04) !important;\r\n}\r\n\r\n/* 添加选择框样式 */\r\n:deep(.ant-checkbox-wrapper) {\r\n  @apply !my-0;\r\n}\r\n\r\n:deep(.ant-table-selection-column) {\r\n  @apply !pr-2;\r\n}\r\n\r\n/* 优化复选框样式 */\r\n:deep(.ant-checkbox) {\r\n  @apply !border-0;\r\n}\r\n\r\n:deep(.ant-checkbox-inner) {\r\n  @apply w-5 h-5 rounded-full border-gray-300 transition-all duration-200 !important;\r\n}\r\n\r\n:deep(.ant-checkbox-checked .ant-checkbox-inner) {\r\n  @apply bg-blue-500 border-blue-500 !important;\r\n}\r\n\r\n:deep(.ant-checkbox-wrapper:hover .ant-checkbox-inner),\r\n:deep(.ant-checkbox:hover .ant-checkbox-inner) {\r\n  @apply border-blue-400 !important;\r\n}\r\n\r\n/* 移除复选框的方形悬浮效果 */\r\n:deep(.ant-checkbox-wrapper:hover),\r\n:deep(.ant-checkbox:hover)::after {\r\n  @apply !border-0 !shadow-none !important;\r\n}\r\n\r\n/* 优化表格选择列样式 */\r\n:deep(.ant-table-selection-column) {\r\n  @apply !pr-1 !pl-4;\r\n}\r\n\r\n/* 优化表格行样式 */\r\n:deep(.ant-table-row) {\r\n  @apply cursor-pointer transition-colors duration-200;\r\n}\r\n\r\n:deep(.ant-table-row.ant-table-row-selected > td) {\r\n  @apply !bg-blue-50/50;\r\n}\r\n\r\n:deep(.ant-table-row:hover > td) {\r\n  @apply !bg-gray-50/80;\r\n}\r\n\r\n/* 优化选择框对齐 */\r\n:deep(.ant-table-selection) {\r\n  @apply flex items-center justify-center;\r\n}\r\n\r\n/* 自定义复选框样式 */\r\n:deep(.custom-checkbox) {\r\n  @apply !my-0;\r\n}\r\n\r\n:deep(.custom-checkbox .ant-checkbox-inner) {\r\n  @apply !border-2;\r\n}\r\n\r\n:deep(.custom-checkbox.ant-checkbox-wrapper:hover .ant-checkbox-inner) {\r\n  @apply !border-blue-400;\r\n}\r\n\r\n/* 进行中任务的流光溢彩效果 */\r\n.in-progress {\r\n  position: relative;\r\n  overflow: hidden;\r\n  padding: 0.5rem;\r\n  border-radius: 0.5rem;\r\n  background: linear-gradient(\r\n    90deg,\r\n    rgba(64, 158, 255, 0.1),\r\n    rgba(64, 158, 255, 0.2),\r\n    rgba(64, 158, 255, 0.1)\r\n  );\r\n}\r\n\r\n.in-progress::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0;\r\n  left: -100%;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: linear-gradient(\r\n    90deg,\r\n    transparent,\r\n    rgba(255, 255, 255, 0.3),\r\n    transparent\r\n  );\r\n  animation: shine 2s infinite linear;\r\n}\r\n\r\n.in-progress-text {\r\n  position: relative;\r\n  color: #409EFF;\r\n  font-weight: 500;\r\n}\r\n\r\n@keyframes shine {\r\n  0% {\r\n    left: -100%;\r\n  }\r\n  100% {\r\n    left: 100%;\r\n  }\r\n}\r\n\r\n/* 添加一个小图标表示进行中状态 */\r\n.in-progress-text::after {\r\n  content: '🔄';\r\n  margin-left: 8px;\r\n  font-size: 0.9em;\r\n  animation: spin 2s infinite linear;\r\n}\r\n\r\n@keyframes spin {\r\n  from {\r\n    transform: rotate(0deg);\r\n  }\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n\r\n/* 确保表格行有足够的高度来显示动画效果 */\r\n:deep(.ant-table-row) {\r\n  height: 54px;\r\n  overflow: visible !important;\r\n}\r\n\r\n:deep(.ant-table-cell) {\r\n  overflow: visible !important;\r\n}\r\n\r\n/* 优化进行中任务的悬停效果 */\r\n.in-progress:hover {\r\n  background: linear-gradient(\r\n    90deg,\r\n    rgba(64, 158, 255, 0.15),\r\n    rgba(64, 158, 255, 0.25),\r\n    rgba(64, 158, 255, 0.15)\r\n  );\r\n}\r\n\r\n/* 操作按钮样式 */\r\n.action-buttons {\r\n  opacity: 0;\r\n  transition: opacity 0.2s ease-in-out;\r\n}\r\n\r\n.group:hover .action-buttons {\r\n  opacity: 1;\r\n}\r\n\r\n.action-btn {\r\n  padding: 2px 8px;\r\n  border-radius: 4px;\r\n}\r\n\r\n/* 修改之前的按钮组样式 */\r\n.group .opacity-0 {\r\n  opacity: 0.6 !important;\r\n}\r\n\r\n.group:hover .opacity-0 {\r\n  opacity: 1 !important;\r\n}\r\n\r\n/* 确保表格行有足够的空间显示按钮 */\r\n:deep(.ant-table-row) {\r\n  height: 54px;\r\n}\r\n\r\n/* 修改按钮提示效果 */\r\n.action-btn::after {\r\n  content: attr(title);\r\n  position: absolute;\r\n  bottom: 130%;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  padding: 4px 8px;\r\n  background-color: rgba(0, 0, 0, 0.75);\r\n  color: white;\r\n  border-radius: 4px;\r\n  font-size: 12px;\r\n  opacity: 0;\r\n  pointer-events: none;\r\n  transition: opacity 0.2s ease-in-out;\r\n  white-space: nowrap;\r\n  z-index: 1000;\r\n}\r\n\r\n.action-btn:hover::after {\r\n  opacity: 1;\r\n  z-index: 9999;\r\n}\r\n\r\n/* 修改表格单元格样式 */\r\n:deep(.ant-table-cell) {\r\n  position: relative;\r\n}\r\n\r\n/* 添加删除动画 */\r\n.ant-table-tbody > tr {\r\n  transition: all 0.3s ease-out;\r\n}\r\n\r\n.ant-table-tbody > tr.deleting {\r\n  opacity: 0;\r\n  transform: translateX(100%);\r\n}\r\n\r\n/* 修改底部输入框样式 */\r\n.add-task-input {\r\n  height: 56px !important;\r\n  border-radius: 28px !important;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) !important;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.add-task-input:hover,\r\n.add-task-input:focus {\r\n  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.12) !important;\r\n  transform: translateY(-1px);\r\n}\r\n\r\n:deep(.add-task-input .ant-input) {\r\n  font-size: 16px !important;\r\n  padding: 0 !important;\r\n}\r\n\r\n:deep(.add-task-input .ant-input-prefix) {\r\n  margin-right: 13px !important;\r\n  margin-left: 8px !important;\r\n  margin-bottom: 4px;\r\n  font-size: 18px !important;\r\n  cursor: pointer;\r\n}\r\n\r\n:deep(.add-task-input .ant-input-suffix) {\r\n  margin-left: 12px !important;\r\n  margin-right: 11px !important;\r\n  margin-bottom: 6px;\r\n}\r\n\r\n.options-btn {\r\n  padding: 0 12px !important;\r\n  font-size: 16px !important;\r\n  color: var(--ant-color-text-secondary) !important;\r\n}\r\n\r\n.options-btn:hover {\r\n  color: var(--ant-color-primary) !important;\r\n}\r\n\r\n/* 调整表格滚动区域的高度，为底部输入框留出空间 */\r\n:deep(.ant-table-body) {\r\n  height: calc(100vh - 380px) !important;\r\n}\r\n\r\n/* 确保父容器占满整个视口高度 */\r\n.h-full {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n/* 调整表格容器样式 */\r\n.flex-1 {\r\n  flex: 1;\r\n  min-height: 0; /* 重要：防止 flex 子项溢出 */\r\n}\r\n\r\n/* 优化表格在小屏幕上的显示 */\r\n:deep(.ant-table-body) {\r\n  overflow-y: auto !important;\r\n}\r\n\r\n/* 确保底部区域不会被表格内容遮挡 */\r\n.bottom-container {\r\n  position: relative;\r\n  z-index: 11;\r\n  background: white;\r\n}\r\n\r\n/* 添加自定义消息样式 */\r\n:deep(.custom-message) {\r\n  .ant-message-notice-content {\r\n    padding: 12px 16px;\r\n    border-radius: 8px;\r\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n  }\r\n}\r\n\r\n.undo-message {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  \r\n  a {\r\n    font-weight: 500;\r\n    text-decoration: none;\r\n    \r\n    &:hover {\r\n      text-decoration: underline;\r\n    }\r\n  }\r\n}\r\n\r\n/* 添加加号图标悬浮效果 */\r\n.plus-icon {\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.plus-icon:hover {\r\n  transform: rotate(90deg);\r\n  color: var(--ant-color-primary);\r\n}\r\n\r\n/* 右侧回车图标样式 */\r\n:deep(.add-task-input .ant-input-suffix .anticon) {\r\n  position: relative;\r\n}\r\n\r\n:deep(.add-task-input .ant-input-suffix .anticon::after) {\r\n  content: attr(title);\r\n  position: absolute;\r\n  bottom: 130%;\r\n  right: 0;\r\n  white-space: nowrap;\r\n  background-color: rgba(0, 0, 0, 0.75);\r\n  color: white;\r\n  padding: 4px 8px;\r\n  border-radius: 4px;\r\n  font-size: 12px;\r\n  opacity: 0;\r\n  transition: opacity 0.2s;\r\n  pointer-events: none;\r\n}\r\n\r\n:deep(.add-task-input .ant-input-suffix .anticon:hover::after) {\r\n  opacity: 1;\r\n}\r\n\r\n/* 优先级点的样式调整 */\r\n.priority-dot {\r\n  margin-right: 8px !important;  /* 优先级点与加号的间距 */\r\n}\r\n\r\n/* 优先级下拉按钮样式 */\r\n.priority-dropdown {\r\n  @apply flex items-center gap-1 px-2 py-1 rounded hover:bg-gray-100 transition-colors;\r\n}\r\n\r\n.priority-dot {\r\n  @apply w-2 h-2 rounded-full;\r\n}\r\n\r\n/* 截止日期样式 */\r\n.due-date {\r\n  @apply cursor-pointer hover:text-blue-500 transition-colors;\r\n}\r\n\r\n/* 日期选择器弹窗样式 */\r\n:deep(.ant-modal-body) {\r\n  @apply flex justify-center py-6;\r\n}\r\n\r\n:deep(.ant-picker) {\r\n  @apply w-full;\r\n}\r\n\r\n/* 优化标签样式 */\r\n:deep(.ant-tag) {\r\n  margin: 0;\r\n  padding: 0 6px;\r\n  line-height: 1.4;\r\n  font-size: 12px;\r\n}\r\n\r\n/* 调整标签间距 */\r\n.flex.items-center.gap-2 {\r\n  gap: 4px;\r\n}\r\n\r\n/* 添加标签悬浮效果 */\r\n:deep(.ant-tag.hover\\:cursor-pointer:hover) {\r\n  opacity: 0.85;\r\n  transform: translateY(-1px);\r\n  transition: all 0.2s;\r\n}\r\n\r\n/* 优化下拉菜单样式 */\r\n:deep(.ant-dropdown-menu-item) {\r\n  padding: 8px 12px;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n:deep(.ant-dropdown-menu-item:hover) {\r\n  background-color: rgba(0, 0, 0, 0.02);\r\n}\r\n\r\n/* 调整下拉菜单中标签的样式 */\r\n:deep(.ant-dropdown-menu .ant-tag) {\r\n  min-width: 32px;\r\n  text-align: center;\r\n}\r\n\r\n/* 调整下拉菜单的间距 */\r\n:deep(.ant-dropdown-menu) {\r\n  padding: 4px;\r\n}\r\n\r\n.truncate {\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap; /* 确保文本不换行 */\r\n}\r\n\r\n/* 添加列宽拖拽样式 */\r\n.table-column-resizer {\r\n  cursor: col-resize;\r\n  position: relative;\r\n  width: 5px; /* 调整拖拽宽度 */\r\n  background-color: transparent; /* 背景透明 */\r\n}\r\n\r\n/* 悬浮提示样式 */\r\n.tooltip {\r\n  position: fixed;\r\n  background-color: white;\r\n  border: 1px solid #eee;\r\n  padding: 12px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n  z-index: 99999;\r\n  min-width: 200px;\r\n  pointer-events: none;\r\n  transform: translate(-50%, -100%);\r\n}\r\n\r\n.tooltip::after {\r\n  content: '';\r\n  position: absolute;\r\n  bottom: -6px;\r\n  left: 50%;\r\n  transform: translateX(-50%) rotate(45deg);\r\n  width: 12px;\r\n  height: 12px;\r\n  background-color: white;\r\n  border-right: 1px solid #eee;\r\n  border-bottom: 1px solid #eee;\r\n}\r\n\r\n.tooltip-content {\r\n  position: relative;\r\n  z-index: 1;\r\n}\r\n\r\n/* 优化完成时间显示样式 */\r\n.completed-time {\r\n  font-size: 12px;\r\n  color: var(--el-text-color-secondary);\r\n}\r\n\r\n/* 添加完成状态的文字样式 */\r\n.text-gray-400 {\r\n  transition: color 0.3s ease;\r\n}\r\n\r\n/* 撒花容器样式 */\r\n.confetti-container {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  pointer-events: none;\r\n  z-index: 9999;\r\n}\r\n\r\n.confetti-canvas {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n/* 完成对话框样式 */\r\n.completion-dialog :deep(.el-dialog__header) {\r\n  text-align: center;\r\n  margin-right: 0;\r\n  padding: 20px 20px 0;\r\n}\r\n\r\n.completion-dialog :deep(.el-dialog__body) {\r\n  padding: 30px 20px;\r\n}\r\n\r\n.completion-content {\r\n  text-align: center;\r\n}\r\n\r\n.completion-emoji {\r\n  font-size: 36px;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.completion-message {\r\n  font-size: 14px;\r\n  color: var(--el-text-color-primary);\r\n  line-height: 1.6;\r\n}\r\n\r\n.task-name {\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  color: var(--el-color-primary);\r\n  margin-top: 8px;\r\n  word-break: break-all;\r\n}\r\n\r\n.completion-time {\r\n  margin-top: 8px;\r\n  font-size: 13px;\r\n  color: var(--el-text-color-secondary);\r\n}\r\n\r\n.dialog-footer {\r\n  text-align: center;\r\n  padding-top: 20px;\r\n}\r\n\r\n.dialog-footer .el-button {\r\n  min-width: 100px;\r\n}\r\n\r\n/* 已完成任务控制按钮样式 */\r\n.completed-tasks-control {\r\n  position: relative;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.completed-tasks-control:hover {\r\n  transform: translateY(-1px);\r\n}\r\n\r\n.completed-count {\r\n  display: flex;\r\n  align-items: baseline;\r\n  gap: 4px;\r\n}\r\n\r\n.completed-count .number {\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  color: var(--el-color-success);\r\n}\r\n\r\n.completed-count .label {\r\n  font-size: 13px;\r\n  color: var(--el-text-color-secondary);\r\n}\r\n\r\n.toggle-icon {\r\n  transition: transform 0.3s ease;\r\n}\r\n\r\n.toggle-icon.rotated {\r\n  transform: rotate(-180deg);\r\n}\r\n\r\n/* 已完成任务行的动画效果 */\r\n.completed-row {\r\n  background: #f8f9fa;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.completed-row-hidden {\r\n  opacity: 0;\r\n  transform: translateX(100%);\r\n  height: 0;\r\n  padding: 0;\r\n  margin: 0;\r\n  pointer-events: none;\r\n}\r\n\r\n/* 添加任务完成时的动画效果 */\r\n@keyframes taskComplete {\r\n  0% {\r\n    transform: translateX(0);\r\n    opacity: 1;\r\n  }\r\n  50% {\r\n    transform: translateX(50px);\r\n    opacity: 0.5;\r\n  }\r\n  100% {\r\n    transform: translateX(100%);\r\n    opacity: 0;\r\n  }\r\n}\r\n\r\n.task-completing {\r\n  animation: taskComplete 0.5s ease-in-out;\r\n}\r\n\r\n/* 优化表格样式 */\r\n:deep(.ant-table-tbody > tr.completed-row > td) {\r\n  transition: all 0.3s ease;\r\n  color: var(--el-text-color-secondary);\r\n}\r\n\r\n:deep(.ant-table-tbody > tr.completed-row:hover > td) {\r\n  background: #f0f2f5;\r\n}\r\n\r\n/* 添加完成任务数量的动画效果 */\r\n.completed-count .number {\r\n  display: inline-block;\r\n  animation: countChange 0.3s ease-out;\r\n}\r\n\r\n@keyframes countChange {\r\n  0% {\r\n    transform: scale(1);\r\n  }\r\n  50% {\r\n    transform: scale(1.2);\r\n  }\r\n  100% {\r\n    transform: scale(1);\r\n  }\r\n}\r\n</style>","import script from \"./TodoItems.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TodoItems.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./TodoItems.vue?vue&type=style&index=0&id=39b08808&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-39b08808\"]])\n\nexport default __exports__","import script from \"./TodoList.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TodoList.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./TodoList.vue?vue&type=style&index=0&id=0174cdd6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0174cdd6\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"mind-map-container\">\r\n    <div class=\"mind-map\" ref=\"mindMapContainer\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, onBeforeUnmount, watch, defineProps, defineEmits } from 'vue'\r\nimport MindMap from 'simple-mind-map'\r\n\r\nconst props = defineProps({\r\n  goals: {\r\n    type: Array,\r\n    required: true,\r\n    default: () => []\r\n  }\r\n})\r\n\r\nconst emit = defineEmits(['node-click'])\r\nconst mindMapContainer = ref(null)\r\nlet mindMap = null\r\n\r\n// 添加日期格式化函数\r\nconst formatDate = (date) => {\r\n  if (!date) return '未设置'\r\n  const d = new Date(date)\r\n  const year = d.getFullYear()\r\n  const month = String(d.getMonth() + 1).padStart(2, '0')\r\n  const day = String(d.getDate()).padStart(2, '0')\r\n  return `${year}-${month}-${day}`\r\n}\r\n\r\n// 将目标数据转换为思维导图数据结构\r\nconst transformGoalsToMindMap = (goals) => {\r\n  console.log('转换目标数据:', goals)\r\n  const currentYear = new Date().getFullYear()\r\n  const result = {\r\n    data: {\r\n      text: `${currentYear}年目标`,\r\n      expand: true,\r\n      isActive: false,\r\n      style: {\r\n        fontSize: '18px',\r\n        fontWeight: 'bold',\r\n        color: '#409EFF'\r\n      },\r\n      children: (goals || []).map(goal => ({\r\n        text: goal.title || '',\r\n        id: goal.id,\r\n        expand: true,\r\n        isActive: false,\r\n        // 增加优先级视觉提示\r\n        style: {\r\n          fontSize: '16px',\r\n          color: getPriorityColor(goal.priority),\r\n          border: `2px solid ${getPriorityColor(goal.priority)}`\r\n        },\r\n        // 添加目标信息提示\r\n        tooltip: `\r\n          优先级: ${goal.priority}\r\n          开始: ${formatDate(goal.startDate)}\r\n          截止: ${formatDate(goal.deadline)}\r\n          进度: ${goal.progress}%\r\n        `,\r\n        children: (goal.steps || []).map(step => ({\r\n          text: step.title || '',\r\n          id: `${goal.id}-step-${step.id}`,\r\n          expand: true,\r\n          isActive: false,\r\n          style: {\r\n            color: step.completed ? '#67C23A' : '#909399',\r\n            fontSize: '14px'\r\n          },\r\n          // 添加子任务信息提示\r\n          tooltip: `\r\n            完成标准: ${step.criteria}\r\n            截止日期: ${formatDate(step.deadline)}\r\n            权重: ${step.weight}%\r\n          `\r\n        }))\r\n      }))\r\n    }\r\n  }\r\n  console.log('转换后的思维导图数据:', result)\r\n  return result\r\n}\r\n\r\n// 添加优先级颜色映射\r\nconst getPriorityColor = (priority) => {\r\n  const colors = {\r\n    high: '#F56C6C',\r\n    medium: '#E6A23C',\r\n    low: '#67C23A'\r\n  }\r\n  return colors[priority] || '#909399'\r\n}\r\n\r\n// 调整视图以适应内容\r\nconst adjustView = () => {\r\n  try {\r\n    if (mindMap) {\r\n      mindMap.command.execute('resetLayout')\r\n      mindMap.render()\r\n      // 居中显示\r\n      const viewData = mindMap.view\r\n      if (viewData) {\r\n        const { clientWidth, clientHeight } = mindMapContainer.value\r\n        const scale = Math.min(\r\n          clientWidth / (viewData.width || 800),\r\n          clientHeight / (viewData.height || 600)\r\n        )\r\n        mindMap.view.scale = Math.min(Math.max(0.5, scale), 2)\r\n        mindMap.render()\r\n      }\r\n    }\r\n  } catch (error) {\r\n    console.error('Adjust view error:', error)\r\n  }\r\n}\r\n\r\n// 初始化思维导图\r\nconst initMindMap = () => {\r\n  console.log('初始化思维导图, 容器:', mindMapContainer.value)\r\n  if (!mindMapContainer.value) return\r\n\r\n  try {\r\n    const data = transformGoalsToMindMap(props.goals)\r\n    console.log('思维导图配置:', data)\r\n    \r\n    mindMap = new MindMap({\r\n      el: mindMapContainer.value,\r\n      data: data,\r\n      // 修改为环形布局\r\n      layout: 'circle',\r\n      // 移除 direction 配置，环形布局不需要方向\r\n      theme: {\r\n        template: 'classic',\r\n        config: {\r\n          // 修改主题配置\r\n          backgroundColor: '#fff',\r\n          lineColor: '#91d5ff',\r\n          lineWidth: 2,\r\n          fontSize: 14,\r\n          fontFamily: 'Arial',\r\n          color: '#333',\r\n          // 添加连接线样式\r\n          lineStyle: 'curve',\r\n          // 添加节点样式\r\n          nodeStyle: {\r\n            borderRadius: '50%',\r\n            border: '2px solid #91d5ff',\r\n            padding: '8px 16px'\r\n          }\r\n        }\r\n      },\r\n      width: mindMapContainer.value.clientWidth || 800,\r\n      height: mindMapContainer.value.clientHeight || 600,\r\n      // 调整节点间距\r\n      xGap: 60,\r\n      yGap: 60,\r\n      mousewheelAction: 'zoom',\r\n      enableFreeDrag: true,\r\n      textOverflow: 'ellipsis',\r\n      // 添加动画效果\r\n      enableAnimation: true,\r\n      // 添加节点展开/收起动画\r\n      expandAnimation: {\r\n        enable: true,\r\n        duration: 300\r\n      }\r\n    })\r\n\r\n    // 注册节点点击事件\r\n    mindMap.on('node_click', (node) => {\r\n      try {\r\n        if (!node || !node.data) return\r\n        const goalId = node.data.id\r\n        if (!goalId) return\r\n        const goal = props.goals.find(g => g.id === goalId)\r\n        if (goal) {\r\n          emit('node-click', goal)\r\n        }\r\n      } catch (error) {\r\n        console.error('Node click error:', error)\r\n      }\r\n    })\r\n\r\n    // 等待 DOM 更新后渲染\r\n    setTimeout(() => {\r\n      mindMap.render()\r\n      adjustView()\r\n    }, 0)\r\n  } catch (error) {\r\n    console.error('Mind map initialization error:', error)\r\n  }\r\n}\r\n\r\n// 清理思维导图实例\r\nconst cleanupMindMap = () => {\r\n  try {\r\n    if (mindMap) {\r\n      mindMap.off('node_click') // 移除特定事件监听\r\n      mindMap.destroy()\r\n      mindMap = null\r\n    }\r\n  } catch (error) {\r\n    console.error('Mind map cleanup error:', error)\r\n  }\r\n}\r\n\r\n// 处理窗口大小变化\r\nconst handleResize = () => {\r\n  if (mindMap && mindMapContainer.value) {\r\n    const { clientWidth, clientHeight } = mindMapContainer.value\r\n    mindMap.resize(clientWidth, clientHeight)\r\n    adjustView()\r\n  }\r\n}\r\n\r\nonMounted(() => {\r\n  initMindMap()\r\n  window.addEventListener('resize', handleResize)\r\n})\r\n\r\n// 监听goals变化更新图表\r\nwatch(() => props.goals, (newGoals) => {\r\n  try {\r\n    if (mindMap) {\r\n      const data = transformGoalsToMindMap(newGoals)\r\n      mindMap.setData(data)\r\n      // 等待数据更新后重新渲染\r\n      setTimeout(() => {\r\n        mindMap.render()\r\n        adjustView()\r\n      }, 0)\r\n    }\r\n  } catch (error) {\r\n    console.error('Mind map update error:', error)\r\n  }\r\n}, { deep: true })\r\n\r\n// 使用 onBeforeUnmount 替代 onUnmounted\r\nonBeforeUnmount(() => {\r\n  window.removeEventListener('resize', handleResize)\r\n  cleanupMindMap()\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.mind-map-container {\r\n  width: 100%;\r\n  height: 100%;\r\n  min-height: 600px;\r\n  position: relative;\r\n  overflow: hidden;\r\n  background: linear-gradient(to bottom right, #f0f2f5, #ffffff);\r\n}\r\n\r\n.mind-map {\r\n  width: 100%;\r\n  height: 100%;\r\n  min-height: 600px;\r\n  border: 1px solid #e8e8e8;\r\n  border-radius: 8px;\r\n  background: #fff;\r\n  box-shadow: 0 2px 12px 0 rgba(0,0,0,0.1);\r\n}\r\n\r\n/* 添加响应式样式 */\r\n@media screen and (max-width: 768px) {\r\n  .mind-map-container,\r\n  .mind-map {\r\n    min-height: 400px;\r\n  }\r\n}\r\n</style> ","import script from \"./GoalMindMap.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./GoalMindMap.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./GoalMindMap.vue?vue&type=style&index=0&id=545b8792&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-545b8792\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"goal-list\">\r\n    <el-table :data=\"goals\" style=\"width: 100%\">\r\n      <el-table-column prop=\"title\" label=\"目标名称\" />\r\n      <el-table-column prop=\"progress\" label=\"进度\" width=\"200\">\r\n        <template #default=\"{ row }\">\r\n          <el-progress :percentage=\"row.progress\" />\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"status\" label=\"状态\" width=\"120\">\r\n        <template #default=\"{ row }\">\r\n          <el-tag :type=\"getStatusType(row.status)\">{{ row.status }}</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"deadline\" label=\"截止日期\" width=\"180\" />\r\n      <el-table-column label=\"操作\" width=\"150\">\r\n        <template #default=\"{ row }\">\r\n          <el-button @click=\"handleSelect(row)\" type=\"primary\" link>\r\n            查看详情\r\n          </el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { inject, defineProps, defineEmits } from 'vue'\r\n\r\ndefineProps({\r\n  goals: {\r\n    type: Array,\r\n    required: true\r\n  }\r\n})\r\n\r\nconst emit = defineEmits(['select'])\r\n\r\n// 注入工具函数\r\nconst { getStatusType } = inject('goalUtils')\r\n\r\nconst handleSelect = (goal) => {\r\n  emit('select', goal)\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.goal-list {\r\n  padding: 1rem;\r\n}\r\n</style> ","import script from \"./GoalList.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./GoalList.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./GoalList.vue?vue&type=style&index=0&id=054877e8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-054877e8\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"kanban-board\">\r\n    <div class=\"kanban-column\" v-for=\"status in statuses\" :key=\"status.value\">\r\n      <div class=\"column-header\">\r\n        <h3>{{ status.label }}</h3>\r\n        <span class=\"count\">{{ getGoalsByStatus(status.value).length }}</span>\r\n      </div>\r\n      <VueDraggable\r\n        :model-value=\"getGoalsByStatus(status.value)\"\r\n        @update:model-value=\"(newList) => handleListUpdate(newList, status.value)\"\r\n        :group=\"{ name: 'goals', pull: true, put: true }\"\r\n        item-key=\"id\"\r\n        class=\"kanban-list\"\r\n        :data-status=\"status.value\"\r\n      >\r\n        <template #item=\"{ element }\">\r\n          <div class=\"goal-card\" @click=\"$emit('card-click', element)\">\r\n            <div class=\"card-header\">\r\n              <h4>{{ element.title }}</h4>\r\n              <el-tag :type=\"getStatusType(element.status)\" size=\"small\">\r\n                {{ element.status }}\r\n              </el-tag>\r\n            </div>\r\n            <div class=\"card-content\">\r\n              <p>{{ element.description }}</p>\r\n              <el-progress\r\n                :percentage=\"element.progress || 0\"\r\n                :status=\"getProgressStatus(element.progress)\"\r\n              />\r\n            </div>\r\n            <div class=\"card-footer\">\r\n              <span class=\"deadline\">\r\n                截止日期: {{ formatDate(element.deadline) }}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </template>\r\n      </VueDraggable>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed } from 'vue'\r\nimport { VueDraggable } from 'vuedraggable'\r\nimport { ElTag, ElProgress } from 'element-plus'\r\n\r\nconst props = defineProps({\r\n  goals: {\r\n    type: Array,\r\n    required: true,\r\n    default: () => []\r\n  }\r\n})\r\n\r\nconst emit = defineEmits(['card-click', 'update'])\r\n\r\n// 看板状态定义\r\nconst statuses = [\r\n  { label: '待处理', value: 'pending' },\r\n  { label: '进行中', value: 'in_progress' },\r\n  { label: '已完成', value: 'completed' }\r\n]\r\n\r\n// 根据状态获取目标列表\r\nconst getGoalsByStatus = (status) => {\r\n  return props.goals.filter(goal => goal.status === status)\r\n}\r\n\r\n// 处理列表更新\r\nconst handleListUpdate = (newList, newStatus) => {\r\n  // 找出发生变化的目标\r\n  const updatedGoals = props.goals.map(goal => {\r\n    const updatedGoal = newList.find(item => item.id === goal.id)\r\n    if (updatedGoal) {\r\n      return {\r\n        ...updatedGoal,\r\n        status: newStatus\r\n      }\r\n    }\r\n    return goal\r\n  })\r\n  emit('update', updatedGoals)\r\n}\r\n\r\n// 获取状态类型\r\nconst getStatusType = (status) => {\r\n  const statusMap = {\r\n    pending: 'info',\r\n    in_progress: 'primary',\r\n    completed: 'success'\r\n  }\r\n  return statusMap[status] || 'default'\r\n}\r\n\r\n// 获取进度状态\r\nconst getProgressStatus = (progress) => {\r\n  if (progress >= 100) return 'success'\r\n  if (progress >= 60) return 'primary'\r\n  if (progress >= 30) return 'warning'\r\n  return 'exception'\r\n}\r\n\r\n// 格式化日期\r\nconst formatDate = (date) => {\r\n  if (!date) return '未设置'\r\n  return new Date(date).toLocaleDateString()\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.kanban-board {\r\n  display: flex;\r\n  gap: 1rem;\r\n  padding: 1rem;\r\n  height: 100%;\r\n  overflow-x: auto;\r\n}\r\n\r\n.kanban-column {\r\n  flex: 1;\r\n  min-width: 300px;\r\n  background: var(--el-bg-color-page);\r\n  border-radius: 4px;\r\n  padding: 1rem;\r\n}\r\n\r\n.column-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.count {\r\n  background: var(--el-color-info-light-9);\r\n  padding: 0.25rem 0.5rem;\r\n  border-radius: 12px;\r\n  font-size: 0.875rem;\r\n}\r\n\r\n.kanban-list {\r\n  min-height: 200px;\r\n  padding: 0.5rem;\r\n}\r\n\r\n.goal-card {\r\n  background: white;\r\n  border-radius: 4px;\r\n  padding: 1rem;\r\n  margin-bottom: 0.5rem;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n  cursor: pointer;\r\n  transition: transform 0.2s;\r\n}\r\n\r\n.goal-card:hover {\r\n  transform: translateY(-2px);\r\n}\r\n\r\n.card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.card-content {\r\n  margin: 0.5rem 0;\r\n}\r\n\r\n.card-footer {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-top: 0.5rem;\r\n  font-size: 0.875rem;\r\n  color: var(--el-text-color-secondary);\r\n}\r\n\r\n.deadline {\r\n  font-size: 0.75rem;\r\n}\r\n</style> ","import script from \"./GoalKanban.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./GoalKanban.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./GoalKanban.vue?vue&type=style&index=0&id=1710759e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1710759e\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"goal-detail\">\r\n    <div class=\"detail-header\">\r\n      <h2>{{ goal.title }}</h2>\r\n      <el-tag :type=\"getStatusType(goal.status)\">{{ goal.status }}</el-tag>\r\n    </div>\r\n\r\n    <div class=\"detail-section\">\r\n      <h4>进度</h4>\r\n      <el-progress\r\n        :percentage=\"goal.progress\"\r\n        :status=\"getProgressStatus(goal.progress)\"\r\n      />\r\n    </div>\r\n\r\n    <div class=\"detail-section\">\r\n      <h4>描述</h4>\r\n      <p>{{ goal.description }}</p>\r\n    </div>\r\n\r\n    <div class=\"detail-section\">\r\n      <h4>时间信息</h4>\r\n      <el-descriptions :column=\"1\" border>\r\n        <el-descriptions-item label=\"开始时间\">\r\n          {{ goal.startDate }}\r\n        </el-descriptions-item>\r\n        <el-descriptions-item label=\"截止时间\">\r\n          {{ goal.deadline }}\r\n        </el-descriptions-item>\r\n      </el-descriptions>\r\n    </div>\r\n\r\n    <div class=\"detail-section\">\r\n      <h4>子任务</h4>\r\n      <div class=\"steps-list\">\r\n        <div\r\n          v-for=\"(step, index) in goal.steps\"\r\n          :key=\"index\"\r\n          class=\"step-item\"\r\n        >\r\n          <el-checkbox\r\n            v-model=\"step.completed\"\r\n            @change=\"(val) => handleStepChange(index, val)\"\r\n          >\r\n            {{ step.title }}\r\n          </el-checkbox>\r\n          <el-tag\r\n            :type=\"getTaskStatusType(step.status)\"\r\n            size=\"small\"\r\n          >\r\n            {{ step.status }}\r\n          </el-tag>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"detail-section\">\r\n      <h4>备注</h4>\r\n      <el-input\r\n        :model-value=\"goal.notes\"\r\n        type=\"textarea\"\r\n        rows=\"4\"\r\n        placeholder=\"添加备注...\"\r\n        @update:model-value=\"handleNotesChange\"\r\n      />\r\n    </div>\r\n\r\n    <div class=\"detail-actions\">\r\n      <el-button type=\"primary\" @click=\"handleUpdate\">保存更改</el-button>\r\n      <el-button @click=\"handleDelete\" type=\"danger\">删除目标</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { inject, defineProps, defineEmits } from 'vue'\r\n\r\nconst props = defineProps({\r\n  goal: {\r\n    type: Object,\r\n    required: true\r\n  }\r\n})\r\n\r\nconst emits = defineEmits(['update'])\r\n\r\n// 注入工具函数\r\nconst { getStatusType, getProgressStatus, getTaskStatusType } = inject('goalUtils')\r\n\r\n// 处理子任务状态变更\r\nconst handleStepChange = (index, completed) => {\r\n  const updatedSteps = [...props.goal.steps]\r\n  updatedSteps[index] = { \r\n    ...updatedSteps[index], \r\n    completed,\r\n    status: completed ? 'completed' : 'in_progress'\r\n  }\r\n  \r\n  // 计算新的进度\r\n  const totalSteps = updatedSteps.length\r\n  const completedSteps = updatedSteps.filter(s => s.completed).length\r\n  const progress = Math.round((completedSteps / totalSteps) * 100)\r\n  \r\n  // 发送更新事件\r\n  emits('update', {\r\n    ...props.goal,\r\n    steps: updatedSteps,\r\n    progress,\r\n    status: progress === 100 ? 'completed' : 'in_progress'\r\n  })\r\n}\r\n\r\n// 处理备注更新\r\nconst handleNotesChange = (notes) => {\r\n  emits('update', { ...props.goal, notes })\r\n}\r\n\r\n// 更新目标\r\nconst handleUpdate = () => {\r\n  emits('update', props.goal)\r\n}\r\n\r\n// 删除目标\r\nconst handleDelete = () => {\r\n  // TODO: 实现删除逻辑\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.goal-detail {\r\n  padding: 20px;\r\n}\r\n\r\n.detail-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.detail-header h2 {\r\n  margin: 0;\r\n  color: var(--el-text-color-primary);\r\n}\r\n\r\n.detail-section {\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.detail-section h4 {\r\n  margin-bottom: 1rem;\r\n  color: var(--el-text-color-primary);\r\n}\r\n\r\n.steps-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.step-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 0.5rem;\r\n  border-radius: 4px;\r\n  background-color: var(--el-bg-color-page);\r\n}\r\n\r\n.detail-actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 1rem;\r\n  margin-top: 2rem;\r\n  padding-top: 1rem;\r\n  border-top: 1px solid var(--el-border-color-light);\r\n}\r\n</style> ","import script from \"./GoalDetail.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./GoalDetail.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./GoalDetail.vue?vue&type=style&index=0&id=713fab16&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-713fab16\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"goal-creator\">\r\n    <el-form\r\n      ref=\"formRef\"\r\n      :model=\"goalForm\"\r\n      :rules=\"rules\"\r\n      label-width=\"100px\"\r\n    >\r\n      <el-form-item label=\"目标名称\" prop=\"title\">\r\n        <el-input v-model=\"goalForm.title\" placeholder=\"请输入目标名称\" />\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"目标类别\" prop=\"category\">\r\n        <el-select v-model=\"goalForm.category\" placeholder=\"请选择目标类别\">\r\n          <el-option label=\"工作\" value=\"work\" />\r\n          <el-option label=\"学习\" value=\"study\" />\r\n          <el-option label=\"生活\" value=\"life\" />\r\n          <el-option label=\"其他\" value=\"other\" />\r\n        </el-select>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"优先级\" prop=\"priority\">\r\n        <el-radio-group v-model=\"goalForm.priority\">\r\n          <el-radio-button label=\"high\">高</el-radio-button>\r\n          <el-radio-button label=\"medium\">中</el-radio-button>\r\n          <el-radio-button label=\"low\">低</el-radio-button>\r\n        </el-radio-group>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"时间范围\" required>\r\n        <el-col :span=\"11\">\r\n          <el-form-item prop=\"startDate\">\r\n            <el-date-picker\r\n              v-model=\"goalForm.startDate\"\r\n              type=\"date\"\r\n              placeholder=\"开始日期\"\r\n              style=\"width: 100%\"\r\n              :disabled-date=\"disablePastDates\"\r\n            />\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"2\" class=\"text-center\">-</el-col>\r\n        <el-col :span=\"11\">\r\n          <el-form-item prop=\"deadline\">\r\n            <el-date-picker\r\n              v-model=\"goalForm.deadline\"\r\n              type=\"date\"\r\n              placeholder=\"截止日期\"\r\n              style=\"width: 100%\"\r\n              :disabled-date=\"(date) => disableDates(date, goalForm.startDate)\"\r\n            />\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"描述\" prop=\"description\">\r\n        <el-input\r\n          v-model=\"goalForm.description\"\r\n          type=\"textarea\"\r\n          rows=\"4\"\r\n          placeholder=\"请描述你的目标...\"\r\n        />\r\n      </el-form-item>\r\n\r\n      <div class=\"sub-tasks-section\">\r\n        <h3>子任务列表</h3>\r\n        <div class=\"steps-container\">\r\n          <el-form-item\r\n            v-for=\"(step, index) in goalForm.steps\"\r\n            :key=\"index\"\r\n            :prop=\"`steps.${index}.title`\"\r\n            :rules=\"stepRules.title\"\r\n          >\r\n            <div class=\"step-item\">\r\n              <el-input\r\n                v-model=\"step.title\"\r\n                placeholder=\"子任务名称\"\r\n                style=\"width: 200px\"\r\n              />\r\n              <el-input\r\n                v-model=\"step.criteria\"\r\n                placeholder=\"完成标准\"\r\n                style=\"width: 200px\"\r\n              />\r\n              <el-date-picker\r\n                v-model=\"step.deadline\"\r\n                type=\"date\"\r\n                placeholder=\"截止日期\"\r\n              />\r\n              <el-input-number\r\n                v-model=\"step.weight\"\r\n                :min=\"0\"\r\n                :max=\"100\"\r\n                placeholder=\"权重\"\r\n              />\r\n              <el-button type=\"danger\" link @click=\"removeStep(index)\">\r\n                删除\r\n              </el-button>\r\n            </div>\r\n          </el-form-item>\r\n          <el-button type=\"primary\" link @click=\"addStep\">\r\n            <el-icon><Plus /></el-icon> 添加子任务\r\n          </el-button>\r\n        </div>\r\n      </div>\r\n\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"submitForm(formRef)\">\r\n          创建目标\r\n        </el-button>\r\n        <el-button @click=\"resetForm(formRef)\">重置</el-button>\r\n        <el-button \r\n          v-if=\"aiEnabled\" \r\n          type=\"success\" \r\n          @click=\"generateWithAI\"\r\n          :loading=\"aiLoading\"\r\n        >\r\n          AI 辅助\r\n        </el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, defineProps, defineEmits } from 'vue'\r\nimport { ElMessage } from 'element-plus'\r\nimport { Plus } from '@element-plus/icons-vue'\r\n\r\ndefineProps({\r\n  aiEnabled: {\r\n    type: Boolean,\r\n    default: false\r\n  }\r\n})\r\n\r\nconst emit = defineEmits(['create', 'cancel'])\r\n\r\nconst formRef = ref(null)\r\n\r\n// 表单数据\r\nconst goalForm = ref({\r\n  title: '',\r\n  description: '',\r\n  startDate: '',\r\n  deadline: '',\r\n  priority: 'medium',\r\n  steps: [],\r\n  status: 'not_started',\r\n  progress: 0,\r\n  year: new Date().getFullYear(),\r\n  category: '',\r\n  expectedResults: '',\r\n})\r\n\r\n// 表单验证规则\r\nconst rules = {\r\n  title: [\r\n    { required: true, message: '请输入目标名称', trigger: 'blur' },\r\n    { min: 2, max: 50, message: '长度在 2 到 50 个字符', trigger: 'blur' }\r\n  ],\r\n  description: [\r\n    { required: true, message: '请输入目标描述', trigger: 'blur' }\r\n  ],\r\n  startDate: [\r\n    { type: 'date', required: true, message: '请选择开始日期', trigger: 'change' }\r\n  ],\r\n  deadline: [\r\n    { type: 'date', required: true, message: '请选择截止日期', trigger: 'change' }\r\n  ],\r\n  priority: [\r\n    { required: true, message: '请选择优先级', trigger: 'change' }\r\n  ],\r\n  category: [\r\n    { required: true, message: '请选择目标类别', trigger: 'change' }\r\n  ]\r\n}\r\n\r\n// 添加子任务\r\nconst addStep = () => {\r\n  goalForm.value.steps.push({\r\n    title: '',\r\n    description: '',\r\n    completed: false,\r\n    status: 'not_started',\r\n    deadline: '',\r\n    criteria: '',\r\n    weight: 0,\r\n  })\r\n}\r\n\r\n// 删除子任务\r\nconst removeStep = (index) => {\r\n  goalForm.value.steps.splice(index, 1)\r\n}\r\n\r\n// 添加 AI 加载状态\r\nconst aiLoading = ref(false)\r\n\r\n// 日期禁用函数\r\nconst disablePastDates = (date) => {\r\n  return date < new Date(new Date().setHours(0, 0, 0, 0))\r\n}\r\n\r\nconst disableDates = (date, startDate) => {\r\n  if (!startDate) return disablePastDates(date)\r\n  return date < startDate\r\n}\r\n\r\n// 生成唯一ID\r\nconst generateId = () => {\r\n  return 'goal_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9)\r\n}\r\n\r\n// 提交表单\r\nconst submitForm = async (formEl) => {\r\n  if (!formEl) return\r\n\r\n  await formEl.validate((valid) => {\r\n    if (valid) {\r\n      // 添加必要的字段\r\n      const newGoal = {\r\n        ...goalForm.value,\r\n        id: generateId(), // 生成唯一ID\r\n        status: 'not_started',\r\n        progress: 0,\r\n        createdAt: new Date().toISOString(),\r\n        steps: goalForm.value.steps.map((step, index) => ({\r\n          ...step,\r\n          id: `step_${index}_${Date.now()}`,\r\n          completed: false,\r\n          status: 'not_started'\r\n        }))\r\n      }\r\n      \r\n      emit('create', newGoal)\r\n      ElMessage.success('目标创建成功')\r\n      resetForm(formEl)\r\n    } else {\r\n      ElMessage.error('请完善表单信息')\r\n    }\r\n  })\r\n}\r\n\r\n// 重置表单\r\nconst resetForm = (formEl) => {\r\n  if (!formEl) return\r\n  formEl.resetFields()\r\n  goalForm.value.steps = []\r\n}\r\n\r\n// AI 辅助生成\r\nconst generateWithAI = () => {\r\n  // TODO: 实现 AI 辅助生成功能\r\n  ElMessage.info('AI 辅助功能开发中...')\r\n}\r\n\r\n// 添加日期验证\r\nconst validateDates = (rule, value, callback) => {\r\n  if (goalForm.value.startDate && goalForm.value.deadline) {\r\n    if (goalForm.value.startDate > goalForm.value.deadline) {\r\n      callback(new Error('开始日期不能晚于截止日期'))\r\n    } else {\r\n      callback()\r\n    }\r\n  }\r\n  callback()\r\n}\r\n\r\n// 子任务表单验证\r\nconst stepRules = {\r\n  title: [{ required: true, message: '请输入子任务名称', trigger: 'blur' }],\r\n  criteria: [{ required: true, message: '请设置完成标准', trigger: 'blur' }],\r\n  deadline: [{ required: true, message: '请设置截止日期', trigger: 'change' }],\r\n  weight: [{ \r\n    required: true,\r\n    type: 'number',\r\n    min: 0,\r\n    max: 100,\r\n    message: '权重需在0-100之间',\r\n    trigger: 'change'\r\n  }]\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.goal-creator {\r\n  padding: 20px;\r\n}\r\n\r\n.sub-tasks-section {\r\n  margin: 20px 0;\r\n  padding: 20px;\r\n  background: var(--el-bg-color-page);\r\n  border-radius: 8px;\r\n}\r\n\r\n.sub-tasks-section h3 {\r\n  margin-bottom: 20px;\r\n  color: var(--el-text-color-primary);\r\n}\r\n\r\n.steps-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1rem;\r\n}\r\n\r\n.step-item {\r\n  display: flex;\r\n  gap: 1rem;\r\n  align-items: center;\r\n  padding: 10px;\r\n  background: white;\r\n  border-radius: 4px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.text-center {\r\n  text-align: center;\r\n  line-height: 32px;\r\n}\r\n\r\n/* 响应式调整 */\r\n@media screen and (max-width: 768px) {\r\n  .step-item {\r\n    flex-direction: column;\r\n    align-items: stretch;\r\n  }\r\n  \r\n  .step-item > * {\r\n    width: 100% !important;\r\n    margin-bottom: 10px;\r\n  }\r\n}\r\n</style> ","import script from \"./GoalCreator.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./GoalCreator.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./GoalCreator.vue?vue&type=style&index=0&id=2ab018bd&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2ab018bd\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"goal-manager\">\r\n    <!-- 引导提示 -->\r\n    <el-empty\r\n      v-if=\"!goals.length\"\r\n      description=\"开始创建你的第一个目标吧！\"\r\n      class=\"empty-state\"\r\n    >\r\n      <el-button type=\"primary\" @click=\"showCreateDialog = true\">\r\n        创建新目标\r\n      </el-button>\r\n      <div class=\"guide-text\">\r\n        <p>💡 目标管理可以帮助你：</p>\r\n        <ul>\r\n          <li>📝 制定清晰的目标计划</li>\r\n          <li>✅ 分解目标为可执行的子任务</li>\r\n          <li>📊 追踪目标完成进度</li>\r\n          <li>🎯 保持专注和动力</li>\r\n        </ul>\r\n      </div>\r\n    </el-empty>\r\n\r\n    <!-- 主界面内容 -->\r\n    <template v-else>\r\n      <!-- 左侧导航 -->\r\n      <div class=\"nav-section\">\r\n        <div class=\"nav-header\">\r\n          <h2>目标管理</h2>\r\n          <el-tooltip content=\"目标完成概览\" placement=\"right\">\r\n            <div class=\"goal-stats\">\r\n              <el-progress\r\n                type=\"circle\"\r\n                :percentage=\"completionRate\"\r\n                :status=\"completionRate >= 80 ? 'success' : 'primary'\"\r\n                :width=\"60\"\r\n              />\r\n              <div class=\"stats-text\">\r\n                <div>总目标: {{ goals.length }}</div>\r\n                <div>已完成: {{ completedGoals }}</div>\r\n              </div>\r\n            </div>\r\n          </el-tooltip>\r\n        </div>\r\n\r\n        <el-button \r\n          type=\"primary\" \r\n          class=\"create-button\" \r\n          @click=\"showCreateDialog = true\"\r\n        >\r\n          创建新目标\r\n        </el-button>\r\n\r\n        <div class=\"view-switcher\">\r\n          <el-radio-group v-model=\"viewMode\">\r\n            <el-radio-button label=\"mind-map\">思维导图</el-radio-button>\r\n            <el-radio-button label=\"list\">列表视图</el-radio-button>\r\n            <el-radio-button label=\"kanban\">看板视图</el-radio-button>\r\n          </el-radio-group>\r\n        </div>\r\n        \r\n        <!-- 优化筛选器显示 -->\r\n        <div class=\"filter-section\">\r\n          <h4>快速筛选</h4>\r\n          <div class=\"quick-filters\">\r\n            <el-tag \r\n              v-for=\"filter in quickFilters\" \r\n              :key=\"filter.value\"\r\n              :type=\"filter.type\"\r\n              :effect=\"currentFilter === filter.value ? 'dark' : 'light'\"\r\n              @click=\"applyFilter(filter)\"\r\n              class=\"filter-tag\"\r\n            >\r\n              <el-icon><component :is=\"filter.icon\" /></el-icon>\r\n              {{ filter.label }}\r\n              <span class=\"count\">({{ getFilterCount(filter.value) }})</span>\r\n            </el-tag>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 添加帮助提示 -->\r\n        <div class=\"help-section\">\r\n          <el-collapse>\r\n            <el-collapse-item title=\"使用帮助\" name=\"1\">\r\n              <div class=\"help-content\">\r\n                <p>1. 创建目标并设置关键信息</p>\r\n                <p>2. 将目标分解为可执行的子任务</p>\r\n                <p>3. 使用不同视图管理目标</p>\r\n                <p>4. 实时追踪目标完成进度</p>\r\n              </div>\r\n            </el-collapse-item>\r\n          </el-collapse>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 主内容区 -->\r\n      <div class=\"main-content\">\r\n        <!-- 视图切换提示 -->\r\n        <div class=\"view-info\">\r\n          <el-alert\r\n            v-if=\"viewMode === 'mind-map'\"\r\n            type=\"info\"\r\n            show-icon\r\n            :closable=\"false\"\r\n          >\r\n            思维导图视图可以帮助你更好地理解目标之间的关系\r\n          </el-alert>\r\n          <el-alert\r\n            v-if=\"viewMode === 'kanban'\"\r\n            type=\"info\"\r\n            show-icon\r\n            :closable=\"false\"\r\n          >\r\n            看板视图适合管理目标的执行状态和进度\r\n          </el-alert>\r\n        </div>\r\n\r\n        <!-- 各种视图组件 -->\r\n        <component\r\n          :is=\"currentViewComponent\"\r\n          :goals=\"filteredGoals\"\r\n          @select=\"handleGoalSelect\"\r\n          @update=\"handleGoalUpdate\"\r\n        />\r\n      </div>\r\n    </template>\r\n\r\n    <!-- 目标详情抽屉 -->\r\n    <el-drawer\r\n      v-model=\"showDetail\"\r\n      title=\"目标详情\"\r\n      size=\"500px\"\r\n      :show-close=\"true\"\r\n      :with-header=\"true\"\r\n    >\r\n      <template #header>\r\n        <div class=\"drawer-header\">\r\n          <h3>目标详情</h3>\r\n          <el-button-group>\r\n            <el-button size=\"small\" @click=\"editGoal\">编辑</el-button>\r\n            <el-button size=\"small\" type=\"danger\" @click=\"deleteGoal\">删除</el-button>\r\n          </el-button-group>\r\n        </div>\r\n      </template>\r\n      <goal-detail\r\n        v-if=\"selectedGoal\"\r\n        :goal=\"selectedGoal\"\r\n        @update=\"handleGoalUpdate\"\r\n      />\r\n    </el-drawer>\r\n\r\n    <!-- 创建目标对话框 -->\r\n    <el-dialog\r\n      v-model=\"showCreateDialog\"\r\n      title=\"创建新目标\"\r\n      width=\"60%\"\r\n      :before-close=\"handleCreateDialogClose\"\r\n    >\r\n      <div class=\"dialog-header\">\r\n        <el-steps :active=\"createStep\" finish-status=\"success\">\r\n          <el-step title=\"基本信息\" />\r\n          <el-step title=\"分解任务\" />\r\n          <el-step title=\"确认创建\" />\r\n        </el-steps>\r\n      </div>\r\n      <goal-creator\r\n        :ai-enabled=\"true\"\r\n        @create=\"handleGoalCreate\"\r\n        @cancel=\"showCreateDialog = false\"\r\n        :current-step=\"createStep\"\r\n        @step-change=\"handleStepChange\"\r\n      />\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, provide, nextTick, getCurrentInstance } from 'vue'\r\nimport { message, ElMessage } from 'ant-design-vue'\r\nimport { ElMessageBox } from 'element-plus'\r\n\r\n// 导入需要的组件\r\nimport MindMapView from '../components/goals/GoalMindMap.vue'\r\nimport ListView from '../components/goals/GoalList.vue'\r\nimport KanbanView from '../components/goals/GoalKanban.vue'\r\nimport GoalDetail from '../components/goals/GoalDetail.vue'\r\nimport GoalCreator from '../components/goals/GoalCreator.vue'\r\n\r\n// 视图模式\r\nconst viewMode = ref('mind-map')\r\nconst showDetail = ref(false)\r\nconst showCreateDialog = ref(false)\r\nconst goals = ref([])\r\nconst selectedGoal = ref(null)\r\n\r\n// 快速筛选器\r\nconst quickFilters = [\r\n  { label: '全部', value: 'all', type: '' },\r\n  { label: '进行中', value: 'in_progress', type: 'primary' },\r\n  { label: '已完成', value: 'completed', type: 'success' },\r\n  { label: '已延期', value: 'overdue', type: 'danger' }\r\n]\r\n\r\n// 当前选中的筛选器\r\nconst currentFilter = ref('all')\r\n\r\n// 筛选后的目标列表\r\nconst filteredGoals = computed(() => {\r\n  if (!currentFilter.value || currentFilter.value === 'all') {\r\n    return goals.value\r\n  }\r\n  \r\n  return goals.value.filter(goal => {\r\n    switch (currentFilter.value) {\r\n      case 'in_progress':\r\n        return goal.status === 'in_progress'\r\n      case 'completed':\r\n        return goal.status === 'completed'\r\n      case 'overdue': {\r\n        const deadline = new Date(goal.deadline)\r\n        return deadline < new Date() && goal.status !== 'completed'\r\n      }\r\n      default:\r\n        return true\r\n    }\r\n  })\r\n})\r\n\r\n// 处理筛选\r\nconst applyFilter = (filter) => {\r\n  currentFilter.value = filter.value\r\n}\r\n\r\n// 处理目标选择\r\nconst handleGoalSelect = (goal) => {\r\n  selectedGoal.value = goal\r\n  showDetail.value = true\r\n}\r\n\r\n// 处理目标更新\r\nconst handleGoalUpdate = (updatedGoal) => {\r\n  // 更新目标数据\r\n  const index = goals.value.findIndex(g => g.id === updatedGoal.id)\r\n  if (index !== -1) {\r\n    goals.value[index] = updatedGoal\r\n    message.success('目标更新成功')\r\n  }\r\n}\r\n\r\n// 处理目标创建\r\nconst handleGoalCreate = (newGoal) => {\r\n  // 确保 goals 是响应式数组\r\n  goals.value = [...goals.value, newGoal]\r\n  showCreateDialog.value = false\r\n  ElMessage.success('目标创建成功')\r\n  \r\n  // 强制更新思维导图\r\n  nextTick(() => {\r\n    if (viewMode.value === 'mind-map') {\r\n      const mindMapComponent = getCurrentInstance().refs.mindMap\r\n      if (mindMapComponent) {\r\n        mindMapComponent.initMindMap()\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\n// 获取状态类型 - 用于标签颜色\r\nconst getStatusType = (status) => {\r\n  const statusMap = {\r\n    '进行中': 'primary',\r\n    '已完成': 'success',\r\n    '已暂停': 'warning',\r\n    '已取消': 'info'\r\n  }\r\n  return statusMap[status] || 'default'\r\n}\r\n\r\n// 获取进度状态 - 用于进度条\r\nconst getProgressStatus = (progress) => {\r\n  if (progress >= 100) return 'success'\r\n  if (progress >= 60) return 'primary'\r\n  if (progress >= 30) return 'warning'\r\n  return 'exception'\r\n}\r\n\r\n// 获取任务状态类型 - 用于关联任务\r\nconst getTaskStatusType = (status) => {\r\n  const statusMap = {\r\n    '待处理': 'info',\r\n    '进行中': 'primary',\r\n    '已完成': 'success',\r\n    '已延期': 'danger'\r\n  }\r\n  return statusMap[status] || 'default'\r\n}\r\n\r\n// 创建新目标按钮点击处理\r\nconst createNewGoal = () => {\r\n  showCreateDialog.value = true\r\n}\r\n\r\n// 提供这些函数给子组件使用\r\nprovide('goalUtils', {\r\n  getStatusType,\r\n  getProgressStatus,\r\n  getTaskStatusType\r\n})\r\n\r\n// 提供目标相关的状态和方法\r\nprovide('goalState', {\r\n  goals,\r\n  selectedGoal,\r\n  createNewGoal,\r\n  handleGoalUpdate,\r\n  handleGoalCreate,\r\n  handleGoalSelect\r\n})\r\n\r\n// 添加新的响应式数据\r\nconst createStep = ref(1)\r\nconst completedGoals = computed(() => goals.value.filter(g => g.status === 'completed').length)\r\nconst completionRate = computed(() => Math.round((completedGoals.value / goals.value.length) * 100) || 0)\r\n\r\n// 获取当前视图组件\r\nconst currentViewComponent = computed(() => {\r\n  switch (viewMode.value) {\r\n    case 'mind-map': return MindMapView\r\n    case 'list': return ListView\r\n    case 'kanban': return KanbanView\r\n    default: return ListView\r\n  }\r\n})\r\n\r\n// 获取筛选器数量\r\nconst getFilterCount = (filterValue) => {\r\n  switch (filterValue) {\r\n    case 'all': return goals.value.length\r\n    case 'in_progress': return goals.value.filter(g => g.status === 'in_progress').length\r\n    case 'completed': return completedGoals.value\r\n    case 'overdue': return goals.value.filter(g => {\r\n      const deadline = new Date(g.deadline)\r\n      return deadline < new Date() && g.status !== 'completed'\r\n    }).length\r\n    default: return 0\r\n  }\r\n}\r\n\r\n// 处理创建对话框关闭\r\nconst handleCreateDialogClose = (done) => {\r\n  ElMessageBox.confirm('确认关闭？未保存的内容将会丢失')\r\n    .then(() => {\r\n      createStep.value = 1\r\n      done()\r\n    })\r\n    .catch(() => {})\r\n}\r\n\r\n// 处理创建步骤变化\r\nconst handleStepChange = (step) => {\r\n  createStep.value = step\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.goal-manager {\r\n  display: flex;\r\n  height: 100%;\r\n  gap: 2rem;\r\n  padding: 1rem;\r\n}\r\n\r\n.mind-map-section {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  border-right: 1px solid var(--el-border-color-light);\r\n}\r\n\r\n.section-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 1rem;\r\n  border-bottom: 1px solid var(--el-border-color-light);\r\n}\r\n\r\n.mind-map {\r\n  flex: 1;\r\n  min-height: 500px;\r\n  height: calc(100vh - 200px);\r\n  border: 1px solid var(--el-border-color-light);\r\n  border-radius: 4px;\r\n  margin: 1rem;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.goal-detail-section {\r\n  flex: 1;\r\n  padding: 1rem;\r\n  overflow-y: auto;\r\n}\r\n\r\n.detail-header {\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.goal-status {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n  margin-top: 1rem;\r\n}\r\n\r\n.detail-section {\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.detail-section h4 {\r\n  margin-bottom: 1rem;\r\n  color: var(--el-text-color-primary);\r\n}\r\n\r\n.steps-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.step-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 0.5rem;\r\n  border-radius: 4px;\r\n  background-color: var(--el-bg-color-page);\r\n}\r\n\r\n.nav-section {\r\n  width: 200px;\r\n  padding: 1rem;\r\n  border-right: 1px solid var(--el-border-color-light);\r\n}\r\n\r\n.view-switcher {\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.quick-filters {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.main-content {\r\n  flex: 1;\r\n  overflow: hidden;\r\n}\r\n\r\n.el-tag {\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n}\r\n\r\n.el-tag:hover {\r\n  transform: translateX(5px);\r\n}\r\n\r\n.create-button {\r\n  width: 100%;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n/* 添加新样式 */\r\n.empty-state {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.guide-text {\r\n  margin-top: 2rem;\r\n  text-align: left;\r\n}\r\n\r\n.guide-text ul {\r\n  list-style: none;\r\n  padding: 0;\r\n}\r\n\r\n.guide-text li {\r\n  margin: 0.5rem 0;\r\n}\r\n\r\n.nav-header {\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.goal-stats {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n  margin: 1rem 0;\r\n  padding: 1rem;\r\n  background: var(--el-bg-color-page);\r\n  border-radius: 8px;\r\n}\r\n\r\n.stats-text {\r\n  font-size: 0.875rem;\r\n  color: var(--el-text-color-secondary);\r\n}\r\n\r\n.filter-tag {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  margin-bottom: 0.5rem;\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n}\r\n\r\n.filter-tag:hover {\r\n  transform: translateX(5px);\r\n}\r\n\r\n.count {\r\n  font-size: 0.75rem;\r\n  opacity: 0.8;\r\n}\r\n\r\n.help-section {\r\n  margin-top: auto;\r\n  padding-top: 1rem;\r\n}\r\n\r\n.help-content {\r\n  font-size: 0.875rem;\r\n  color: var(--el-text-color-regular);\r\n}\r\n\r\n.view-info {\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.drawer-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.dialog-header {\r\n  margin-bottom: 2rem;\r\n}\r\n</style> ","import script from \"./GoalManager.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./GoalManager.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./GoalManager.vue?vue&type=style&index=0&id=1bb65b52&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1bb65b52\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"login-container\">\r\n    <div class=\"login-content\">\r\n      <div class=\"login-left\">\r\n        <div class=\"login-banner\">\r\n          <img src=\"@/assets/logo-full.svg\" alt=\"Logo\" class=\"banner-logo\">\r\n          <h1>高效办公系统</h1>\r\n          <p class=\"banner-desc\">提升工作效率，助力职业发展</p>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"login-right\">\r\n        <div class=\"login-box\">\r\n          <h2>欢迎登录</h2>\r\n          <p class=\"login-desc\">请使用您的账号密码登录系统</p>\r\n          \r\n          <el-form\r\n            ref=\"loginForm\"\r\n            :model=\"loginForm\"\r\n            :rules=\"loginRules\"\r\n            class=\"login-form\"\r\n          >\r\n            <el-form-item prop=\"username\">\r\n              <el-input\r\n                v-model=\"loginForm.username\"\r\n                placeholder=\"请输入用户名\"\r\n                :prefix-icon=\"User\"\r\n                size=\"large\"\r\n              />\r\n            </el-form-item>\r\n            \r\n            <el-form-item prop=\"password\">\r\n              <el-input\r\n                v-model=\"loginForm.password\"\r\n                type=\"password\"\r\n                placeholder=\"请输入密码\"\r\n                :prefix-icon=\"Lock\"\r\n                show-password\r\n                size=\"large\"\r\n              />\r\n            </el-form-item>\r\n            \r\n            <div class=\"remember-forgot\">\r\n              <el-checkbox v-model=\"rememberMe\">记住我</el-checkbox>\r\n              <el-link type=\"primary\">忘记密码？</el-link>\r\n            </div>\r\n            \r\n            <el-form-item>\r\n              <el-button\r\n                type=\"primary\"\r\n                :loading=\"loading\"\r\n                class=\"login-button\"\r\n                size=\"large\"\r\n                @click=\"handleLogin\"\r\n              >\r\n                登录\r\n              </el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { ElMessage } from 'element-plus'\r\nimport { User, Lock } from '@element-plus/icons-vue'\r\n\r\nconst router = useRouter()\r\nconst loading = ref(false)\r\nconst rememberMe = ref(false)\r\n\r\nconst loginForm = reactive({\r\n  username: '',\r\n  password: ''\r\n})\r\n\r\nconst loginRules = {\r\n  username: [\r\n    { required: true, message: '请输入用户名', trigger: 'blur' },\r\n  ],\r\n  password: [\r\n    { required: true, message: '请输入密码', trigger: 'blur' },\r\n    { min: 6, message: '密码长度不能小于6位', trigger: 'blur' }\r\n  ]\r\n}\r\n\r\nconst handleLogin = async () => {\r\n  loading.value = true\r\n  try {\r\n    // TODO: 调用登录接口\r\n    await new Promise(resolve => setTimeout(resolve, 1000)) // 模拟登录请求\r\n    ElMessage.success('登录成功')\r\n    router.push('/')\r\n  } catch (error) {\r\n    ElMessage.error('登录失败')\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.login-container {\r\n  height: 100vh;\r\n  background: linear-gradient(135deg, var(--el-color-primary-light-7) 0%, var(--el-color-primary-light-9) 100%);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 20px;\r\n}\r\n\r\n.login-content {\r\n  display: flex;\r\n  width: 1000px;\r\n  height: 600px;\r\n  background: white;\r\n  border-radius: 16px;\r\n  overflow: hidden;\r\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.login-left {\r\n  flex: 1;\r\n  background: linear-gradient(135deg, var(--el-color-primary) 0%, var(--el-color-primary-light-3) 100%);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 40px;\r\n  color: white;\r\n}\r\n\r\n.login-banner {\r\n  text-align: center;\r\n}\r\n\r\n.banner-logo {\r\n  width: 120px;\r\n  margin-bottom: 24px;\r\n  filter: brightness(0) invert(1);\r\n}\r\n\r\n.login-banner h1 {\r\n  font-size: 32px;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.banner-desc {\r\n  font-size: 16px;\r\n  opacity: 0.9;\r\n}\r\n\r\n.login-right {\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 40px;\r\n}\r\n\r\n.login-box {\r\n  width: 100%;\r\n  max-width: 360px;\r\n}\r\n\r\n.login-box h2 {\r\n  font-size: 28px;\r\n  color: var(--el-text-color-primary);\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.login-desc {\r\n  color: var(--el-text-color-secondary);\r\n  margin-bottom: 40px;\r\n}\r\n\r\n.login-form {\r\n  .el-input {\r\n    --el-input-height: 44px;\r\n  }\r\n}\r\n\r\n.remember-forgot {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 24px;\r\n}\r\n\r\n.login-button {\r\n  width: 100%;\r\n  height: 44px;\r\n  font-size: 16px;\r\n}\r\n</style> ","import script from \"./LoginView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./LoginView.vue?vue&type=style&index=0&id=e8d403ec&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-e8d403ec\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"profile-container\">\r\n    <div class=\"profile-header\">\r\n      <h2>个人信息</h2>\r\n      <p class=\"header-desc\">管理您的账号信息和偏好设置</p>\r\n    </div>\r\n\r\n    <div class=\"profile-content\">\r\n      <el-row :gutter=\"20\">\r\n        <el-col :span=\"8\">\r\n          <div class=\"sticky-card\">\r\n            <el-card class=\"profile-card info-card\">\r\n              <div class=\"user-info-header\">\r\n                <el-upload\r\n                  class=\"avatar-uploader\"\r\n                  action=\"/api/upload\"\r\n                  :show-file-list=\"false\"\r\n                  :before-upload=\"beforeAvatarUpload\"\r\n                  :on-success=\"handleAvatarSuccess\"\r\n                >\r\n                  <div class=\"avatar-wrapper\">\r\n                    <el-avatar\r\n                      v-if=\"profileForm.avatar\"\r\n                      :size=\"120\"\r\n                      :src=\"profileForm.avatar\"\r\n                    />\r\n                    <el-icon v-else class=\"avatar-uploader-icon\"><plus /></el-icon>\r\n                    <div class=\"avatar-hover\">\r\n                      <el-icon><camera /></el-icon>\r\n                      <span>更换头像</span>\r\n                    </div>\r\n                  </div>\r\n                </el-upload>\r\n                <h3>{{ profileForm.nickname || profileForm.username }}</h3>\r\n                <p class=\"user-role\">高级用户</p>\r\n              </div>\r\n              \r\n              <div class=\"user-stats\">\r\n                <div class=\"stat-item\">\r\n                  <span class=\"stat-value\">138</span>\r\n                  <span class=\"stat-label\">待办完成</span>\r\n                </div>\r\n                <div class=\"stat-item\">\r\n                  <span class=\"stat-value\">42h</span>\r\n                  <span class=\"stat-label\">专注时长</span>\r\n                </div>\r\n                <div class=\"stat-item\">\r\n                  <span class=\"stat-value\">12</span>\r\n                  <span class=\"stat-label\">目标达成</span>\r\n                </div>\r\n              </div>\r\n            </el-card>\r\n          </div>\r\n        </el-col>\r\n\r\n        <el-col :span=\"16\">\r\n          <el-card class=\"profile-card\">\r\n            <template #header>\r\n              <div class=\"card-header\">\r\n                <h3>基本信息</h3>\r\n                <el-button \r\n                  type=\"primary\" \r\n                  :icon=\"isEditing ? 'Check' : 'Edit'\"\r\n                  @click=\"isEditing ? handleSave() : handleEdit()\"\r\n                >\r\n                  {{ isEditing ? '保存' : '编辑' }}\r\n                </el-button>\r\n              </div>\r\n            </template>\r\n            \r\n            <el-form\r\n              ref=\"profileForm\"\r\n              :model=\"profileForm\"\r\n              :disabled=\"!isEditing\"\r\n              label-width=\"100px\"\r\n            >\r\n              <el-form-item label=\"用户名\">\r\n                <el-input v-model=\"profileForm.username\" />\r\n              </el-form-item>\r\n              \r\n              <el-form-item label=\"昵称\">\r\n                <el-input v-model=\"profileForm.nickname\" />\r\n              </el-form-item>\r\n              \r\n              <el-form-item label=\"邮箱\">\r\n                <el-input v-model=\"profileForm.email\">\r\n                  <template #append>\r\n                    <el-tag v-if=\"profileForm.emailVerified\" type=\"success\" size=\"small\">已验证</el-tag>\r\n                    <el-button v-else type=\"primary\" link>验证邮箱</el-button>\r\n                  </template>\r\n                </el-input>\r\n              </el-form-item>\r\n              \r\n              <el-form-item label=\"手机号\">\r\n                <el-input v-model=\"profileForm.phone\">\r\n                  <template #append>\r\n                    <el-tag v-if=\"profileForm.phoneVerified\" type=\"success\" size=\"small\">已验证</el-tag>\r\n                    <el-button v-else type=\"primary\" link>验证手机</el-button>\r\n                  </template>\r\n                </el-input>\r\n              </el-form-item>\r\n\r\n              <el-form-item label=\"所在地区\">\r\n                <el-cascader\r\n                  v-model=\"profileForm.region\"\r\n                  :options=\"regionOptions\"\r\n                  placeholder=\"请选择所在地区\"\r\n                />\r\n              </el-form-item>\r\n\r\n              <el-form-item label=\"个人简介\">\r\n                <el-input\r\n                  v-model=\"profileForm.bio\"\r\n                  type=\"textarea\"\r\n                  :rows=\"3\"\r\n                  placeholder=\"介绍一下自己吧\"\r\n                />\r\n              </el-form-item>\r\n            </el-form>\r\n          </el-card>\r\n\r\n          <el-card class=\"profile-card security-card\">\r\n            <template #header>\r\n              <div class=\"card-header\">\r\n                <h3>安全设置</h3>\r\n              </div>\r\n            </template>\r\n\r\n            <div class=\"security-items\">\r\n              <div class=\"security-item\">\r\n                <div class=\"security-info\">\r\n                  <h4>登录密码</h4>\r\n                  <p>建议定期更换密码，确保账号安全</p>\r\n                </div>\r\n                <el-button link type=\"primary\">修改密码</el-button>\r\n              </div>\r\n\r\n              <div class=\"security-item\">\r\n                <div class=\"security-info\">\r\n                  <h4>双因素认证</h4>\r\n                  <p>启用双因素认证，提供额外的安全保护</p>\r\n                </div>\r\n                <el-switch v-model=\"securitySettings.twoFactor\" />\r\n              </div>\r\n            </div>\r\n          </el-card>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive } from 'vue'\r\nimport { ElMessage } from 'element-plus'\r\nimport { Plus, Camera, Check, Edit } from '@element-plus/icons-vue'\r\n\r\nconst isEditing = ref(false)\r\nconst profileForm = reactive({\r\n  avatar: '',\r\n  username: '测试用户',\r\n  nickname: '测试昵称',\r\n  email: 'test@example.com',\r\n  emailVerified: true,\r\n  phone: '13800138000',\r\n  phoneVerified: false,\r\n  region: [],\r\n  bio: '',\r\n})\r\n\r\nconst securitySettings = reactive({\r\n  twoFactor: false\r\n})\r\n\r\n// Mock region options\r\nconst regionOptions = [\r\n  {\r\n    value: 'beijing',\r\n    label: '北京',\r\n    children: [\r\n      { value: 'chaoyang', label: '朝阳区' },\r\n      { value: 'haidian', label: '海淀区' }\r\n    ]\r\n  }\r\n  // ... 其他选项\r\n]\r\n\r\nconst handleEdit = () => {\r\n  isEditing.value = true\r\n}\r\n\r\nconst handleSave = async () => {\r\n  try {\r\n    // TODO: 调用保存接口\r\n    await new Promise(resolve => setTimeout(resolve, 1000))\r\n    isEditing.value = false\r\n    ElMessage.success('保存成功')\r\n  } catch (error) {\r\n    ElMessage.error('保存失败')\r\n  }\r\n}\r\n\r\nconst beforeAvatarUpload = (file) => {\r\n  const isImage = file.type.startsWith('image/')\r\n  const isLt2M = file.size / 1024 / 1024 < 2\r\n\r\n  if (!isImage) {\r\n    ElMessage.error('上传头像图片只能是图片格式!')\r\n  }\r\n  if (!isLt2M) {\r\n    ElMessage.error('上传头像图片大小不能超过 2MB!')\r\n  }\r\n  return isImage && isLt2M\r\n}\r\n\r\nconst handleAvatarSuccess = (response) => {\r\n  profileForm.avatar = response.url\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.profile-container {\r\n  padding: 24px;\r\n}\r\n\r\n.profile-header {\r\n  padding: 24px 24px 0;\r\n  margin-bottom: 24px;\r\n}\r\n\r\n.profile-content {\r\n  flex: 1;\r\n  padding: 0 24px 24px;\r\n  overflow-y: auto;\r\n}\r\n\r\n/* 让左侧卡片固定 */\r\n.sticky-card {\r\n  position: sticky;\r\n  top: 24px;\r\n}\r\n\r\n.profile-card {\r\n  margin-bottom: 20px;\r\n  border-radius: 8px;\r\n}\r\n\r\n.info-card {\r\n  text-align: center;\r\n}\r\n\r\n.user-info-header {\r\n  padding: 20px 0;\r\n}\r\n\r\n.avatar-wrapper {\r\n  position: relative;\r\n  width: 120px;\r\n  height: 120px;\r\n  margin: 0 auto 16px;\r\n  border-radius: 50%;\r\n  overflow: hidden;\r\n  cursor: pointer;\r\n}\r\n\r\n.avatar-hover {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.6);\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  color: white;\r\n  opacity: 0;\r\n  transition: opacity 0.3s;\r\n}\r\n\r\n.avatar-wrapper:hover .avatar-hover {\r\n  opacity: 1;\r\n}\r\n\r\n.avatar-hover .el-icon {\r\n  font-size: 24px;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.user-role {\r\n  color: var(--el-text-color-secondary);\r\n  margin: 8px 0;\r\n}\r\n\r\n.user-stats {\r\n  display: flex;\r\n  justify-content: space-around;\r\n  padding: 20px 0;\r\n  border-top: 1px solid var(--el-border-color-lighter);\r\n}\r\n\r\n.stat-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.stat-value {\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n  color: var(--el-color-primary);\r\n}\r\n\r\n.stat-label {\r\n  font-size: 14px;\r\n  color: var(--el-text-color-secondary);\r\n  margin-top: 4px;\r\n}\r\n\r\n.card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.card-header h3 {\r\n  margin: 0;\r\n  font-size: 18px;\r\n}\r\n\r\n.security-items {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 20px;\r\n}\r\n\r\n.security-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 16px 0;\r\n  border-bottom: 1px solid var(--el-border-color-lighter);\r\n}\r\n\r\n.security-item:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.security-info h4 {\r\n  margin: 0 0 4px;\r\n  font-size: 16px;\r\n}\r\n\r\n.security-info p {\r\n  margin: 0;\r\n  color: var(--el-text-color-secondary);\r\n  font-size: 14px;\r\n}\r\n</style> ","import script from \"./ProfileView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ProfileView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ProfileView.vue?vue&type=style&index=0&id=7b4f3aa4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7b4f3aa4\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"menu-manager\">\r\n    <div class=\"menu-header\">\r\n      <h3>菜单管理</h3>\r\n      <div class=\"header-actions\">\r\n        <el-button type=\"primary\" @click=\"handleAddRootMenu\">\r\n          <el-icon><plus /></el-icon>添加根菜单\r\n        </el-button>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"menu-content\">\r\n      <!-- 左侧树形菜单 -->\r\n      <div class=\"menu-tree\">\r\n        <el-tree\r\n          ref=\"treeRef\"\r\n          :data=\"menuList\"\r\n          node-key=\"id\"\r\n          :props=\"{ label: 'title' }\"\r\n          draggable\r\n          :allow-drop=\"handleAllowDrop\"\r\n          @node-drop=\"handleDrop\"\r\n          default-expand-all\r\n        >\r\n          <template #default=\"{ node, data }\">\r\n            <div class=\"tree-node\">\r\n              <div class=\"node-content\">\r\n                <el-icon v-if=\"!data.editing\"><component :is=\"data.icon\" /></el-icon>\r\n                <template v-if=\"data.editing\">\r\n                  <el-input\r\n                    v-model=\"data.title\"\r\n                    size=\"small\"\r\n                    class=\"edit-input\"\r\n                    @blur=\"handleSave(data)\"\r\n                    @keyup.enter=\"handleSave(data)\"\r\n                  />\r\n                </template>\r\n                <span v-else class=\"label\">{{ node.label }}</span>\r\n              </div>\r\n              <div class=\"node-actions\">\r\n                <el-button-group>\r\n                  <el-button\r\n                    type=\"primary\"\r\n                    size=\"small\"\r\n                    text\r\n                    @click.stop=\"handleAddChild(data)\"\r\n                  >\r\n                    <el-icon><plus /></el-icon>\r\n                  </el-button>\r\n                  <el-button\r\n                    type=\"primary\"\r\n                    size=\"small\"\r\n                    text\r\n                    @click.stop=\"handleEdit(data)\"\r\n                  >\r\n                    <el-icon><edit /></el-icon>\r\n                  </el-button>\r\n                  <el-button\r\n                    type=\"danger\"\r\n                    size=\"small\"\r\n                    text\r\n                    @click.stop=\"handleDelete(node, data)\"\r\n                  >\r\n                    <el-icon><delete /></el-icon>\r\n                  </el-button>\r\n                </el-button-group>\r\n              </div>\r\n            </div>\r\n          </template>\r\n        </el-tree>\r\n      </div>\r\n\r\n      <!-- 右侧编辑表单 -->\r\n      <div class=\"menu-form\" v-if=\"currentMenu\">\r\n        <el-form :model=\"currentMenu\" label-width=\"80px\">\r\n          <el-form-item label=\"菜单名称\">\r\n            <el-input v-model=\"currentMenu.title\" />\r\n          </el-form-item>\r\n          \r\n          <el-form-item label=\"路径\">\r\n            <el-input \r\n              v-model=\"currentMenu.path\"\r\n              placeholder=\"输入系统路由或外部URL\"\r\n            />\r\n          </el-form-item>\r\n          \r\n          <el-form-item label=\"图标\">\r\n            <el-select v-model=\"currentMenu.icon\" class=\"icon-select\">\r\n              <el-option\r\n                v-for=\"icon in iconList\"\r\n                :key=\"icon\"\r\n                :label=\"icon\"\r\n                :value=\"icon\"\r\n              >\r\n                <el-icon><component :is=\"icon\" /></el-icon>\r\n                <span style=\"margin-left: 8px\">{{ icon }}</span>\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          \r\n          <el-form-item label=\"显示\">\r\n            <el-switch v-model=\"currentMenu.visible\" />\r\n          </el-form-item>\r\n          \r\n          <el-form-item>\r\n            <el-button type=\"primary\" @click=\"handleSaveForm\">保存</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue'\r\nimport { ElMessage, ElMessageBox } from 'element-plus'\r\nimport {\r\n  Plus,\r\n  Edit,\r\n  Delete,\r\n  HomeFilled,\r\n  List,\r\n  Timer,\r\n  Aim,\r\n  Share,\r\n  Memo,\r\n  Collection,\r\n  Calendar,\r\n  ChatDotRound,\r\n  EditPen,\r\n} from '@element-plus/icons-vue'\r\n\r\nconst treeRef = ref(null)\r\nconst menuList = ref([])\r\nconst currentMenu = ref(null)\r\n\r\n// 预定义图标列表\r\nconst iconList = [\r\n  'HomeFilled',\r\n  'List',\r\n  'Timer',\r\n  'Aim',\r\n  'Share',\r\n  'Memo',\r\n  'Collection',\r\n  'Calendar',\r\n  'ChatDotRound',\r\n  'EditPen',\r\n]\r\n\r\n// 初始化默认菜单数据\r\nconst defaultMenus = [\r\n  {\r\n    id: 1,\r\n    title: '仪表盘',\r\n    path: '/dashboard',\r\n    icon: 'HomeFilled',\r\n    visible: true,\r\n    children: []\r\n  },\r\n  {\r\n    id: 2,\r\n    title: '任务管理',\r\n    path: '/tasks',\r\n    icon: 'List',\r\n    visible: true,\r\n    children: [\r\n      {\r\n        id: 21,\r\n        title: '待办事项',\r\n        path: '/todos',\r\n        icon: 'List',\r\n        visible: true,\r\n        children: []\r\n      },\r\n      {\r\n        id: 22,\r\n        title: '目标管理',\r\n        path: '/goals',\r\n        icon: 'Aim',\r\n        visible: true,\r\n        children: []\r\n      }\r\n    ]\r\n  }\r\n]\r\n\r\nonMounted(() => {\r\n  loadMenus()\r\n})\r\n\r\n// 加载菜单数据\r\nconst loadMenus = () => {\r\n  const savedMenus = localStorage.getItem('menu-config')\r\n  if (savedMenus) {\r\n    menuList.value = JSON.parse(savedMenus)\r\n  } else {\r\n    menuList.value = defaultMenus\r\n    saveMenus()\r\n  }\r\n}\r\n\r\n// 添加根菜单\r\nconst handleAddRootMenu = () => {\r\n  const newMenu = {\r\n    id: Date.now(),\r\n    title: '新菜单项',\r\n    path: '',\r\n    icon: 'Menu',\r\n    visible: true,\r\n    children: [],\r\n    editing: true\r\n  }\r\n  menuList.value.push(newMenu)\r\n  currentMenu.value = newMenu\r\n}\r\n\r\n// 添加子菜单\r\nconst handleAddChild = (data) => {\r\n  const newChild = {\r\n    id: Date.now(),\r\n    title: '新子菜单',\r\n    path: '',\r\n    icon: 'Menu',\r\n    visible: true,\r\n    children: [],\r\n    editing: true\r\n  }\r\n  if (!data.children) {\r\n    data.children = []\r\n  }\r\n  data.children.push(newChild)\r\n  currentMenu.value = newChild\r\n  saveMenus()\r\n}\r\n\r\n// 编辑菜单\r\nconst handleEdit = (data) => {\r\n  currentMenu.value = data\r\n}\r\n\r\n// 删除菜单\r\nconst handleDelete = (node, data) => {\r\n  ElMessageBox.confirm(\r\n    '确定要删除这个菜单项吗？',\r\n    '警告',\r\n    {\r\n      confirmButtonText: '确定',\r\n      cancelButtonText: '取消',\r\n      type: 'warning'\r\n    }\r\n  ).then(() => {\r\n    const parent = node.parent\r\n    const children = parent.data.children || parent.data\r\n    const index = children.findIndex(d => d.id === data.id)\r\n    children.splice(index, 1)\r\n    saveMenus()\r\n    ElMessage.success('删除成功')\r\n    if (currentMenu.value?.id === data.id) {\r\n      currentMenu.value = null\r\n    }\r\n  })\r\n}\r\n\r\n// 保存编辑中的菜单项\r\nconst handleSave = (data) => {\r\n  data.editing = false\r\n  saveMenus()\r\n}\r\n\r\n// 保存表单\r\nconst handleSaveForm = () => {\r\n  saveMenus()\r\n  ElMessage.success('保存成功')\r\n}\r\n\r\n// 允许拖拽的条件\r\nconst handleAllowDrop = (draggingNode, dropNode, type) => {\r\n  // 防止拖拽到自身或其子节点\r\n  if (draggingNode.data.id === dropNode.data.id) {\r\n    return false\r\n  }\r\n  return true\r\n}\r\n\r\n// 处理拖拽完成\r\nconst handleDrop = (draggingNode, dropNode, type) => {\r\n  saveMenus()\r\n}\r\n\r\n// 保存菜单配置\r\nconst saveMenus = () => {\r\n  localStorage.setItem('menu-config', JSON.stringify(menuList.value))\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.menu-manager {\r\n  padding: 20px;\r\n}\r\n\r\n.menu-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.menu-content {\r\n  display: flex;\r\n  gap: 20px;\r\n  min-height: 500px;\r\n}\r\n\r\n.menu-tree {\r\n  flex: 0 0 300px;\r\n  border: 1px solid var(--el-border-color-light);\r\n  border-radius: 4px;\r\n  padding: 10px;\r\n}\r\n\r\n.menu-form {\r\n  flex: 1;\r\n  padding: 20px;\r\n  border: 1px solid var(--el-border-color-light);\r\n  border-radius: 4px;\r\n}\r\n\r\n.tree-node {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n  padding: 4px 0;\r\n}\r\n\r\n.node-content {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.edit-input {\r\n  width: 150px;\r\n}\r\n\r\n.label {\r\n  font-size: 14px;\r\n}\r\n\r\n.node-actions {\r\n  opacity: 0;\r\n  transition: opacity 0.2s;\r\n}\r\n\r\n.tree-node:hover .node-actions {\r\n  opacity: 1;\r\n}\r\n\r\n.icon-select {\r\n  width: 100%;\r\n}\r\n\r\n:deep(.el-tree-node__content) {\r\n  height: 32px;\r\n}\r\n\r\n:deep(.el-tree-node.is-drop-inner > .el-tree-node__content) {\r\n  background-color: var(--el-color-primary-light-9);\r\n}\r\n</style> ","import script from \"./MenuManager.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MenuManager.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MenuManager.vue?vue&type=style&index=0&id=10c374b6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-10c374b6\"]])\n\nexport default __exports__","<template>\n  <div class=\"settings-container\">\n    <div class=\"settings-header\">\n      <h2>系统设置</h2>\n      <p class=\"header-desc\">自定义您的系统偏好设置</p>\n    </div>\n\n    <el-row :gutter=\"20\">\n      <el-col :span=\"6\">\n        <el-card class=\"settings-menu\">\n          <el-menu\n            :default-active=\"activeMenu\"\n            @select=\"handleMenuSelect\"\n          >\n            <el-menu-item index=\"appearance\">\n              <el-icon><brush /></el-icon>\n              <span>外观设置</span>\n            </el-menu-item>\n            <el-menu-item index=\"notification\">\n              <el-icon><bell /></el-icon>\n              <span>通知设置</span>\n            </el-menu-item>\n            <el-menu-item index=\"pomodoro\">\n              <el-icon><timer /></el-icon>\n              <span>番茄钟设置</span>\n            </el-menu-item>\n            <el-menu-item index=\"shortcut\">\n              <el-icon><operation /></el-icon>\n              <span>快捷键设置</span>\n            </el-menu-item>\n            <el-menu-item index=\"data-management\">\n              <el-icon><document /></el-icon>\n              <span>数据管理</span>\n            </el-menu-item>\n            <el-menu-item index=\"menu-management\">\n              <el-icon><grid /></el-icon>\n              <span>菜单管理</span>\n            </el-menu-item>\n          </el-menu>\n        </el-card>\n      </el-col>\n\n      <el-col :span=\"18\">\n        <el-card v-if=\"activeMenu === 'appearance'\" class=\"settings-card\">\n          <template #header>\n            <h3>外观设置</h3>\n          </template>\n          \n          <el-form label-width=\"120px\">\n            <el-form-item label=\"主题模式\">\n              <el-radio-group v-model=\"settingsForm.theme\" class=\"theme-radio-group\">\n                <el-radio-button label=\"light\">\n                  <el-icon><sunny /></el-icon>\n                  浅色模式\n                </el-radio-button>\n                <el-radio-button label=\"dark\">\n                  <el-icon><moon /></el-icon>\n                  深色模式\n                </el-radio-button>\n                <el-radio-button label=\"system\">\n                  <el-icon><monitor /></el-icon>\n                  跟随系统\n                </el-radio-button>\n              </el-radio-group>\n            </el-form-item>\n\n            <el-form-item label=\"主题色\">\n              <div class=\"color-picker-wrapper\">\n                <el-color-picker\n                  v-model=\"settingsForm.primaryColor\"\n                  show-alpha\n                  :predefine=\"predefineColors\"\n                />\n                <span class=\"color-value\">{{ settingsForm.primaryColor }}</span>\n              </div>\n            </el-form-item>\n\n            <el-form-item label=\"紧凑模式\">\n              <el-switch v-model=\"settingsForm.compact\" />\n            </el-form-item>\n          </el-form>\n        </el-card>\n\n        <el-card v-if=\"activeMenu === 'notification'\" class=\"settings-card\">\n          <template #header>\n            <h3>通知设置</h3>\n          </template>\n          \n          <el-form label-width=\"120px\">\n            <el-form-item label=\"消息通知\">\n              <el-switch v-model=\"settingsForm.notifications\" />\n            </el-form-item>\n\n            <el-form-item label=\"声音提醒\">\n              <el-switch v-model=\"settingsForm.sound\" />\n            </el-form-item>\n\n            <el-form-item label=\"通知位置\">\n              <el-select v-model=\"settingsForm.notificationPosition\">\n                <el-option label=\"右上角\" value=\"top-right\" />\n                <el-option label=\"右下角\" value=\"bottom-right\" />\n              </el-select>\n            </el-form-item>\n          </el-form>\n        </el-card>\n\n        <el-card v-if=\"activeMenu === 'pomodoro'\" class=\"settings-card\">\n          <template #header>\n            <h3>番茄钟设置</h3>\n          </template>\n          \n          <el-form label-width=\"120px\">\n            <el-form-item label=\"专注时长\">\n              <div class=\"time-input\">\n                <el-input-number\n                  v-model=\"settingsForm.pomodoroLength\"\n                  :min=\"1\"\n                  :max=\"60\"\n                  :step=\"5\"\n                />\n                <span class=\"unit\">分钟</span>\n              </div>\n            </el-form-item>\n\n            <el-form-item label=\"休息时长\">\n              <div class=\"time-input\">\n                <el-input-number\n                  v-model=\"settingsForm.breakLength\"\n                  :min=\"1\"\n                  :max=\"30\"\n                  :step=\"5\"\n                />\n                <span class=\"unit\">分钟</span>\n              </div>\n            </el-form-item>\n\n            <el-form-item label=\"自动开始休息\">\n              <el-switch v-model=\"settingsForm.autoStartBreak\" />\n            </el-form-item>\n\n            <el-form-item label=\"自动开始下一轮\">\n              <el-switch v-model=\"settingsForm.autoStartNextRound\" />\n            </el-form-item>\n          </el-form>\n        </el-card>\n\n        <el-card v-if=\"activeMenu === 'shortcut'\" class=\"settings-card\">\n          <template #header>\n            <h3>快捷键设置</h3>\n          </template>\n          \n          <el-form label-width=\"100px\" class=\"shortcut-form\">\n            <el-row :gutter=\"40\">\n              <!-- 左侧列 -->\n              <el-col :span=\"12\">\n                <div class=\"shortcut-section\">\n                  <h4 class=\"section-title\">通用</h4>\n                  <el-form-item label=\"保存\">\n                    <el-tag class=\"shortcut-tag\">\n                      <kbd>Ctrl</kbd> + <kbd>S</kbd>\n                    </el-tag>\n                  </el-form-item>\n                  \n                  <el-form-item label=\"撤销\">\n                    <el-tag class=\"shortcut-tag\">\n                      <kbd>Ctrl</kbd> + <kbd>Z</kbd>\n                    </el-tag>\n                  </el-form-item>\n                  \n                  <el-form-item label=\"重做\">\n                    <el-tag class=\"shortcut-tag\">\n                      <kbd>Ctrl</kbd> + <kbd>Y</kbd>\n                    </el-tag>\n                  </el-form-item>\n                </div>\n\n                <div class=\"shortcut-section\">\n                  <h4 class=\"section-title\">待办事项</h4>\n                  <el-form-item label=\"新建待办\">\n                    <el-tag class=\"shortcut-tag\">\n                      <kbd>Ctrl</kbd> + <kbd>N</kbd>\n                    </el-tag>\n                  </el-form-item>\n                  \n                  <el-form-item label=\"完成待办\">\n                    <el-tag class=\"shortcut-tag\">\n                      <kbd>Space</kbd>\n                    </el-tag>\n                  </el-form-item>\n                  \n                  <el-form-item label=\"删除待办\">\n                    <el-tag class=\"shortcut-tag\">\n                      <kbd>Delete</kbd>\n                    </el-tag>\n                  </el-form-item>\n                </div>\n\n                <div class=\"shortcut-section\">\n                  <h4 class=\"section-title\">番茄钟</h4>\n                  <el-form-item label=\"开始/暂停\">\n                    <el-tag class=\"shortcut-tag\">\n                      <kbd>Ctrl</kbd> + <kbd>Space</kbd>\n                    </el-tag>\n                  </el-form-item>\n                  \n                  <el-form-item label=\"重置\">\n                    <el-tag class=\"shortcut-tag\">\n                      <kbd>Ctrl</kbd> + <kbd>R</kbd>\n                    </el-tag>\n                  </el-form-item>\n                </div>\n              </el-col>\n\n              <!-- 右侧列 -->\n              <el-col :span=\"12\">\n                <div class=\"shortcut-section\">\n                  <h4 class=\"section-title\">目标管理</h4>\n                  <el-form-item label=\"新建目标\">\n                    <el-tag class=\"shortcut-tag\">\n                      <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>N</kbd>\n                    </el-tag>\n                  </el-form-item>\n                  \n                  <el-form-item label=\"编辑目标\">\n                    <el-tag class=\"shortcut-tag\">\n                      <kbd>Ctrl</kbd> + <kbd>E</kbd>\n                    </el-tag>\n                  </el-form-item>\n                  \n                  <el-form-item label=\"归档目标\">\n                    <el-tag class=\"shortcut-tag\">\n                      <kbd>Ctrl</kbd> + <kbd>D</kbd>\n                    </el-tag>\n                  </el-form-item>\n                </div>\n\n                <div class=\"shortcut-section\">\n                  <h4 class=\"section-title\">导航</h4>\n                  <el-form-item label=\"切换菜单\">\n                    <el-tag class=\"shortcut-tag\">\n                      <kbd>Ctrl</kbd> + <kbd>B</kbd>\n                    </el-tag>\n                  </el-form-item>\n                  \n                  <el-form-item label=\"搜索\">\n                    <el-tag class=\"shortcut-tag\">\n                      <kbd>Ctrl</kbd> + <kbd>K</kbd>\n                    </el-tag>\n                  </el-form-item>\n                  \n                  <el-form-item label=\"帮助\">\n                    <el-tag class=\"shortcut-tag\">\n                      <kbd>F1</kbd>\n                    </el-tag>\n                  </el-form-item>\n                </div>\n              </el-col>\n            </el-row>\n\n            <div class=\"shortcut-tips\">\n              <el-alert\n                title=\"提示\"\n                type=\"info\"\n                :closable=\"false\"\n                show-icon\n              >\n                <template #default>\n                  <p>1. 部分快捷键可能与系统或浏览器快捷键冲突</p>\n                  <p>2. Mac 用户请将 Ctrl 替换为 Command ⌘</p>\n                  <p>3. 快捷键设置将在下次启动后生效</p>\n                </template>\n              </el-alert>\n            </div>\n          </el-form>\n        </el-card>\n\n        <div v-if=\"activeMenu === 'data-management'\" class=\"space-y-6\">\n          <h2 class=\"text-lg font-medium mb-4\">数据管理</h2>\n          \n          <div class=\"bg-white p-4 rounded-lg border border-gray-100\">\n            <h3 class=\"text-base font-medium mb-2\">导出数据</h3>\n            <p class=\"text-sm text-gray-500 mb-4\">\n              将您的待办事项数据导出为 JSON 文件，以便备份或迁移到其他设备。\n            </p>\n            <a-button type=\"primary\" @click=\"exportData\">\n              <template #icon><download-outlined /></template>\n              导出数据\n            </a-button>\n          </div>\n\n          <div class=\"bg-white p-4 rounded-lg border border-gray-100\">\n            <h3 class=\"text-base font-medium mb-2\">导入数据</h3>\n            <p class=\"text-sm text-gray-500 mb-4\">\n              从之前导出的 JSON 文件中恢复您的待办事项数据。\n              <br>\n              <span class=\"text-yellow-500\">注意：导入数据将覆盖当前的所有数据！</span>\n            </p>\n            <a-upload\n              accept=\".json\"\n              :show-upload-list=\"false\"\n              :before-upload=\"handleImport\"\n            >\n              <a-button>\n                <template #icon><upload-outlined /></template>\n                导入数据\n              </a-button>\n            </a-upload>\n          </div>\n        </div>\n\n        <el-card v-if=\"activeMenu === 'menu-management'\" class=\"settings-card\">\n          <MenuManager />\n        </el-card>\n\n        <div class=\"settings-actions\">\n          <el-button type=\"primary\" @click=\"handleSave\">保存设置</el-button>\n          <el-button @click=\"handleReset\">恢复默认</el-button>\n        </div>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script setup>\nimport { ref, reactive } from 'vue'\nimport { ElMessage } from 'element-plus'\nimport {\n  Brush,\n  Bell,\n  Timer,\n  Operation,\n  Sunny,\n  Moon,\n  Monitor,\n  Document,\n  Grid\n} from '@element-plus/icons-vue'\nimport { message } from 'ant-design-vue'\nimport { DownloadOutlined, UploadOutlined } from '@ant-design/icons-vue'\nimport MenuManager from '@/components/MenuManager.vue'\n\nconst activeMenu = ref('appearance')\n\nconst settingsForm = reactive({\n  theme: 'light',\n  primaryColor: '#409EFF',\n  compact: false,\n  notifications: true,\n  sound: true,\n  notificationPosition: 'top-right',\n  pomodoroLength: 25,\n  breakLength: 5,\n  autoStartBreak: false,\n  autoStartNextRound: false\n})\n\nconst predefineColors = [\n  '#409EFF',\n  '#67C23A',\n  '#E6A23C',\n  '#F56C6C',\n  '#909399'\n]\n\nconst handleMenuSelect = (key) => {\n  activeMenu.value = key\n}\n\nconst handleSave = async () => {\n  try {\n    await new Promise(resolve => setTimeout(resolve, 1000))\n    ElMessage.success('设置保存成功')\n  } catch (error) {\n    ElMessage.error('设置保存失败')\n  }\n}\n\nconst handleReset = () => {\n  ElMessage.success('已重置为默认设置')\n  Object.assign(settingsForm, {\n    theme: 'light',\n    primaryColor: '#409EFF',\n    compact: false,\n    notifications: true,\n    sound: true,\n    notificationPosition: 'top-right',\n    pomodoroLength: 25,\n    breakLength: 5,\n    autoStartBreak: false,\n    autoStartNextRound: false\n  })\n}\n\nconst exportData = () => {\n  try {\n    // 获取所有 localStorage 数据\n    const data = {}\n    for (let i = 0; i < localStorage.length; i++) {\n      const key = localStorage.key(i)\n      try {\n        // 尝试解析 JSON 数据\n        data[key] = JSON.parse(localStorage.getItem(key))\n      } catch {\n        // 如果不是 JSON 格式,直接存储原始值\n        data[key] = localStorage.getItem(key)\n      }\n    }\n\n    // 添加导出时间戳\n    data._exportedAt = new Date().toISOString()\n\n    // 创建并下载文件\n    const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' })\n    const url = window.URL.createObjectURL(blob)\n    const link = document.createElement('a')\n    link.href = url\n    link.download = `efficient-office-backup-${new Date().toISOString().split('T')[0]}.json`\n    document.body.appendChild(link)\n    link.click()\n    document.body.removeChild(link)\n    window.URL.revokeObjectURL(url)\n\n    message.success('数据导出成功！')\n  } catch (error) {\n    console.error('导出数据失败:', error)\n    message.error('导出数据失败，请重试！')\n  }\n}\n\nconst handleImport = (file) => {\n  const reader = new FileReader()\n  \n  reader.onload = (e) => {\n    try {\n      const data = JSON.parse(e.target.result)\n      \n      // 验证数据格式\n      if (!data || typeof data !== 'object') {\n        throw new Error('无效的数据格式')\n      }\n\n      // 显示确认对话框\n      const confirmImport = window.confirm(\n        '导入数据将覆盖当前的所有数据，确定要继续吗？'\n      )\n\n      if (confirmImport) {\n        // 清空当前 localStorage\n        localStorage.clear()\n        \n        // 导入所有数据\n        Object.entries(data).forEach(([key, value]) => {\n          // 跳过导出时间戳\n          if (key !== '_exportedAt') {\n            localStorage.setItem(key, JSON.stringify(value))\n          }\n        })\n\n        message.success('数据导入成功！请刷新页面以加载新数据。')\n        \n        // 自动刷新页面\n        setTimeout(() => {\n          window.location.reload()\n        }, 1500)\n      }\n    } catch (error) {\n      console.error('导入数据失败:', error)\n      message.error('导入数据失败，请确保文件格式正确！')\n    }\n  }\n\n  reader.readAsText(file)\n  return false // 阻止自动上传\n}\n</script>\n\n<style scoped>\n.settings-container {\n  padding: 24px;\n}\n\n.settings-header {\n  margin-bottom: 24px;\n}\n\n.settings-header h2 {\n  margin: 0;\n  font-size: 24px;\n  color: var(--el-text-color-primary);\n}\n\n.header-desc {\n  margin: 8px 0 0;\n  color: var(--el-text-color-secondary);\n}\n\n.settings-menu {\n  border-radius: 8px;\n}\n\n.settings-menu .el-menu {\n  border-right: none;\n}\n\n.settings-menu .el-menu-item {\n  height: 50px;\n  line-height: 50px;\n}\n\n.settings-menu .el-icon {\n  margin-right: 12px;\n  font-size: 18px;\n}\n\n.settings-card {\n  border-radius: 8px;\n  margin-bottom: 20px;\n}\n\n.theme-radio-group {\n  .el-radio-button__inner {\n    display: flex;\n    align-items: center;\n    padding: 12px 20px;\n  }\n\n  .el-icon {\n    margin-right: 8px;\n  }\n}\n\n.color-picker-wrapper {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.color-value {\n  color: var(--el-text-color-secondary);\n  font-family: monospace;\n}\n\n.time-input {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.unit {\n  color: var(--el-text-color-secondary);\n}\n\n.settings-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 12px;\n}\n\n/* 添加快捷键相关样式 */\n.shortcut-form {\n  padding: 0 12px;\n}\n\n.shortcut-section {\n  margin-bottom: 24px;\n}\n\n.section-title {\n  font-size: 15px;\n  color: var(--el-text-color-primary);\n  margin: 0 0 12px;\n  padding-bottom: 6px;\n  border-bottom: 1px solid var(--el-border-color-lighter);\n}\n\n.shortcut-tag {\n  background-color: var(--el-fill-color-light);\n  border: none;\n  padding: 4px 8px;\n}\n\nkbd {\n  display: inline-block;\n  padding: 2px 4px;\n  font-family: var(--el-font-family);\n  font-size: 12px;\n  font-weight: 600;\n  line-height: 1;\n  color: var(--el-text-color-primary);\n  background-color: var(--el-fill-color);\n  border: 1px solid var(--el-border-color);\n  border-radius: 3px;\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);\n}\n\n.shortcut-tips {\n  margin-top: 16px;\n}\n\n.shortcut-tips p {\n  margin: 2px 0;\n  line-height: 1.5;\n}\n\n:deep(.el-form-item) {\n  margin-bottom: 12px;\n}\n\n:deep(.el-form-item__label) {\n  font-size: 13px;\n}\n</style> ","import script from \"./SettingsView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SettingsView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SettingsView.vue?vue&type=style&index=0&id=1c286a15&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1c286a15\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"note-list\">\r\n    <div\r\n      v-for=\"note in notes\"\r\n      :key=\"note.id\"\r\n      class=\"note-item-wrapper\"\r\n      @touchstart=\"touchStart($event, note)\"\r\n      @touchmove=\"touchMove($event, note)\"\r\n      @touchend=\"touchEnd(note)\"\r\n      @mouseenter=\"hoveredNote = note\"\r\n      @mouseleave=\"hoveredNote = null\"\r\n    >\r\n      <div \r\n        class=\"note-item\" \r\n        :class=\"{ \r\n          'is-pinned': note.isPinned,\r\n          'sliding': note === slidingNote,\r\n          'deleting': note === deletedNote\r\n        }\"\r\n        :style=\"{ transform: `translateX(${note === slidingNote ? slideOffset : 0}px)` }\"\r\n        @click=\"$emit('select', note)\"\r\n      >\r\n        <div class=\"note-header\">\r\n          <h3 class=\"note-title\">{{ note.title || '无标题便签' }}</h3>\r\n          <div class=\"note-actions\">\r\n            <el-icon v-if=\"note.isPinned\"><star-filled /></el-icon>\r\n            <el-button\r\n              v-if=\"hoveredNote === note\"\r\n              class=\"delete-btn\"\r\n              @click.stop=\"deleteNote(note)\"\r\n            >\r\n              <el-icon><delete /></el-icon>\r\n            </el-button>\r\n          </div>\r\n        </div>\r\n        <p class=\"note-preview\">{{ note.content }}</p>\r\n        <div class=\"note-footer\">\r\n          <span class=\"note-date\">{{ formatDate(note.updatedAt) }}</span>\r\n          <div class=\"note-tags\">\r\n            <el-tag\r\n              v-for=\"tag in note.tags\"\r\n              :key=\"tag\"\r\n              size=\"small\"\r\n              effect=\"plain\"\r\n            >\r\n              {{ tag }}\r\n            </el-tag>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div \r\n        class=\"delete-button\"\r\n        :class=\"{ 'visible': note === slidingNote && slideOffset <= -50 }\"\r\n        @click=\"handleSlideDelete(note)\"\r\n      >\r\n        <el-icon><delete /></el-icon>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { StarFilled, Delete } from '@element-plus/icons-vue'\r\nimport { ref, onMounted, onUnmounted } from 'vue'\r\n\r\nconst props = defineProps({\r\n  notes: {\r\n    type: Array,\r\n    default: () => []\r\n  }\r\n})\r\n\r\nconst emit = defineEmits(['select', 'delete'])\r\n\r\n// 滑动相关状态\r\nconst slidingNote = ref(null)\r\nconst slideOffset = ref(0)\r\nlet touchStartX = 0\r\nlet currentOffset = 0\r\n\r\n// 触摸开始\r\nconst touchStart = (event, note) => {\r\n  touchStartX = event.touches[0].clientX\r\n  currentOffset = note === slidingNote.value ? slideOffset.value : 0\r\n  slidingNote.value = note\r\n}\r\n\r\n// 触摸移动\r\nconst touchMove = (event) => {\r\n  if (!slidingNote.value) return\r\n  \r\n  const deltaX = event.touches[0].clientX - touchStartX\r\n  const newOffset = Math.min(0, Math.max(-80, currentOffset + deltaX))\r\n  slideOffset.value = newOffset\r\n}\r\n\r\n// 触摸结束\r\nconst touchEnd = (note) => {\r\n  if (!slidingNote.value) return\r\n  \r\n  if (slideOffset.value <= -40) {\r\n    slideOffset.value = -80 // 展开删除按钮\r\n  } else {\r\n    slideOffset.value = 0 // 回弹\r\n    slidingNote.value = null\r\n  }\r\n}\r\n\r\nconst hoveredNote = ref(null)\r\nconst deletedNote = ref(null)\r\nconst deleteTimeout = ref(null)\r\nconst deletedNotes = ref([]) // 存储最近删除的便签\r\n\r\n// 左滑删除\r\nconst handleSlideDelete = (note) => {\r\n  deletedNotes.value.push(note)\r\n  emit('delete', note)\r\n  slidingNote.value = null\r\n  slideOffset.value = 0\r\n  \r\n  // 3秒后清除撤销历史\r\n  deleteTimeout.value = setTimeout(() => {\r\n    deletedNotes.value.shift()\r\n  }, 3000)\r\n}\r\n\r\nconst deleteNote = (note) => {\r\n  // 保存到删除历史\r\n  deletedNotes.value.push(note)\r\n  // 立即删除\r\n  emit('delete', note)\r\n  \r\n  // 3秒后清除撤销历史\r\n  deleteTimeout.value = setTimeout(() => {\r\n    deletedNotes.value.shift()\r\n  }, 3000)\r\n}\r\n\r\nconst undoDelete = () => {\r\n  if (deleteTimeout.value) {\r\n    clearTimeout(deleteTimeout.value)\r\n    deleteTimeout.value = null\r\n  }\r\n  \r\n  // 从删除历史中恢复最后一个便签\r\n  const lastDeleted = deletedNotes.value.pop()\r\n  if (lastDeleted) {\r\n    emit('undoDelete', lastDeleted)\r\n  }\r\n}\r\n\r\n// 监听键盘事件\r\nconst handleKeydown = (event) => {\r\n  if ((event.ctrlKey || event.metaKey) && event.key === 'z') {\r\n    event.preventDefault()\r\n    undoDelete()\r\n  }\r\n}\r\n\r\nonMounted(() => {\r\n  window.addEventListener('keydown', handleKeydown)\r\n})\r\n\r\nonUnmounted(() => {\r\n  window.removeEventListener('keydown', handleKeydown)\r\n})\r\n\r\nconst formatDate = (date) => {\r\n  if (!date) return ''\r\n  return new Date(date).toLocaleString()\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.note-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n  padding: 12px;\r\n}\r\n\r\n.note-item-wrapper {\r\n  position: relative;\r\n  overflow: hidden;\r\n  border-radius: 4px;\r\n}\r\n\r\n.note-item {\r\n  padding: 12px;\r\n  border: 1px solid var(--el-border-color-light);\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n  transform: translateX(0);\r\n  background-color: white;\r\n  position: relative;\r\n  z-index: 1;\r\n}\r\n\r\n.note-item:hover {\r\n  background-color: var(--el-fill-color-light);\r\n}\r\n\r\n.note-item.is-pinned {\r\n  border-color: var(--el-color-primary);\r\n  background-color: var(--el-color-primary-light-9);\r\n}\r\n\r\n.note-item.sliding {\r\n  transition: transform 0.3s ease;\r\n}\r\n\r\n.delete-button {\r\n  position: absolute;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  width: 80px;\r\n  background-color: var(--el-color-danger);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: white;\r\n  font-size: 20px;\r\n  opacity: 0;\r\n  transition: opacity 0.3s;\r\n  cursor: pointer;\r\n}\r\n\r\n.delete-button.visible {\r\n  opacity: 1;\r\n}\r\n\r\n.note-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.note-title {\r\n  margin: 0;\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n}\r\n\r\n.note-preview {\r\n  margin: 0;\r\n  font-size: 14px;\r\n  color: var(--el-text-color-secondary);\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n}\r\n\r\n.note-footer {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-top: 8px;\r\n  font-size: 12px;\r\n}\r\n\r\n.note-date {\r\n  color: var(--el-text-color-secondary);\r\n}\r\n\r\n.note-tags {\r\n  display: flex;\r\n  gap: 4px;\r\n}\r\n\r\n.note-actions {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.delete-btn {\r\n  padding: 4px;\r\n  border: none;\r\n  background: transparent;\r\n  opacity: 0.6;\r\n  transition: opacity 0.2s;\r\n}\r\n\r\n.delete-btn:hover {\r\n  opacity: 1;\r\n  color: var(--el-color-danger);\r\n}\r\n\r\n.note-item.deleting {\r\n  animation: fadeOut 0.2s ease-in-out forwards;\r\n}\r\n\r\n@keyframes fadeOut {\r\n  from {\r\n    opacity: 1;\r\n    transform: translateX(0);\r\n  }\r\n  to {\r\n    opacity: 0;\r\n    transform: translateX(-100%);\r\n  }\r\n}\r\n</style> ","import script from \"./NoteList.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./NoteList.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./NoteList.vue?vue&type=style&index=0&id=97d2a4da&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-97d2a4da\"]])\n\nexport default __exports__","import { defineStore } from 'pinia'\r\nimport { ref, computed } from 'vue'\r\n\r\nexport const useNoteStore = defineStore('note', () => {\r\n  // 状态\r\n  const notes = ref(JSON.parse(localStorage.getItem('notes') || '[]'))\r\n  \r\n  // 计算属性\r\n  const pinnedNotes = computed(() => notes.value.filter(note => note.isPinned))\r\n  const unpinnedNotes = computed(() => notes.value.filter(note => !note.isPinned))\r\n  const archivedNotes = computed(() => notes.value.filter(note => note.isArchived))\r\n  \r\n  // 方法\r\n  const saveToLocal = () => {\r\n    localStorage.setItem('notes', JSON.stringify(notes.value))\r\n  }\r\n  \r\n  const addNote = (note) => {\r\n    const newNote = {\r\n      id: Date.now().toString(),\r\n      title: note.title || '',\r\n      content: note.content || '',\r\n      tags: note.tags || [],\r\n      isPinned: note.isPinned || false,\r\n      isArchived: false,\r\n      createdAt: new Date().toISOString(),\r\n      updatedAt: new Date().toISOString()\r\n    }\r\n    notes.value.unshift(newNote)\r\n    saveToLocal()\r\n    return newNote\r\n  }\r\n  \r\n  const updateNote = (id, updates) => {\r\n    const index = notes.value.findIndex(note => note.id === id)\r\n    if (index > -1) {\r\n      notes.value[index] = {\r\n        ...notes.value[index],\r\n        ...updates,\r\n        updatedAt: new Date().toISOString()\r\n      }\r\n      saveToLocal()\r\n    }\r\n  }\r\n  \r\n  const deleteNote = (id) => {\r\n    const index = notes.value.findIndex(note => note.id === id)\r\n    if (index > -1) {\r\n      notes.value.splice(index, 1)\r\n      saveToLocal()\r\n    }\r\n  }\r\n  \r\n  const togglePin = (id) => {\r\n    const note = notes.value.find(note => note.id === id)\r\n    if (note) {\r\n      note.isPinned = !note.isPinned\r\n      saveToLocal()\r\n    }\r\n  }\r\n  \r\n  const toggleArchive = (id) => {\r\n    const note = notes.value.find(note => note.id === id)\r\n    if (note) {\r\n      note.isArchived = !note.isArchived\r\n      note.isPinned = false // 归档时取消置顶\r\n      saveToLocal()\r\n    }\r\n  }\r\n  \r\n  const addTag = (noteId, tag) => {\r\n    const note = notes.value.find(note => note.id === noteId)\r\n    if (note) {\r\n      // 确保 tags 数组存在\r\n      if (!Array.isArray(note.tags)) {\r\n        note.tags = []\r\n      }\r\n      // 移除可能存在的重复标签\r\n      note.tags = [...new Set([...note.tags, tag])]\r\n      saveToLocal()\r\n      return [...note.tags]  // 返回一个新数组\r\n    }\r\n    return []  // 确保总是返回一个数组\r\n  }\r\n  \r\n  const removeTag = (noteId, tag) => {\r\n    const note = notes.value.find(note => note.id === noteId)\r\n    if (note) {\r\n      note.tags = note.tags.filter(t => t !== tag)\r\n      saveToLocal()\r\n    }\r\n  }\r\n\r\n  // 恢复便签\r\n  const restoreNote = (note) => {\r\n    notes.value.push(note)\r\n    saveToLocal()\r\n  }\r\n\r\n  return {\r\n    notes,\r\n    pinnedNotes,\r\n    unpinnedNotes,\r\n    archivedNotes,\r\n    addNote,\r\n    updateNote,\r\n    deleteNote,\r\n    togglePin,\r\n    toggleArchive,\r\n    addTag,\r\n    removeTag,\r\n    restoreNote\r\n  }\r\n}) ","<template>\n  <div class=\"notes-container\">\n    <div class=\"notes-sidebar\">\n      <div class=\"sidebar-header\">\n        <el-input\n          v-model=\"searchQuery\"\n          placeholder=\"搜索便签\"\n          prefix-icon=\"Search\"\n          class=\"search-input\"\n        />\n        <el-button type=\"primary\" @click=\"createNote\" class=\"create-btn\">\n          <el-icon><plus /></el-icon>新建便签\n        </el-button>\n      </div>\n      \n      <div class=\"notes-list\">\n        <el-tabs v-model=\"activeTab\">\n          <el-tab-pane label=\"全部\" name=\"all\">\n            <note-list \n              :notes=\"filteredNotes\" \n              @select=\"selectNote\"\n              @delete=\"deleteNote\"\n              @undoDelete=\"undoDelete\"\n            />\n          </el-tab-pane>\n          <el-tab-pane label=\"未归档\" name=\"unarchived\">\n            <note-list \n              :notes=\"unarchivedNotes\" \n              @select=\"selectNote\"\n              @delete=\"deleteNote\"\n            />\n          </el-tab-pane>\n          <el-tab-pane label=\"已归档\" name=\"archived\">\n            <note-list \n              :notes=\"archivedNotes\" \n              @select=\"selectNote\"\n              @delete=\"deleteNote\"\n            />\n          </el-tab-pane>\n        </el-tabs>\n      </div>\n    </div>\n    \n    <div class=\"note-editor\">\n      <template v-if=\"currentNote\">\n        <div class=\"note-title-section\">\n          <div class=\"title-content\" @mouseenter=\"showTitleEdit = true\" @mouseleave=\"showTitleEdit = false\">\n            <template v-if=\"isEditingTitle\">\n              <el-input\n                v-model=\"currentNote.title\"\n                placeholder=\"标题\"\n                @blur=\"finishTitleEdit\"\n                @keyup.enter=\"finishTitleEdit\"\n                ref=\"titleInputRef\"\n              />\n            </template>\n            <template v-else>\n              <h2 class=\"note-title\" @click=\"startTitleEdit\">\n                {{ currentNote.title || formatDateTime(currentNote.createdAt) }}\n                <el-icon v-show=\"showTitleEdit\"><edit /></el-icon>\n              </h2>\n            </template>\n          </div>\n          <div class=\"editor-actions\">\n            <el-button-group>\n              <el-button \n                :type=\"currentNote.isPinned ? 'primary' : ''\"\n                @click=\"togglePin\" \n                :title=\"currentNote.isPinned ? '取消收藏' : '收藏'\"\n              >\n                <el-icon><component :is=\"currentNote.isPinned ? 'StarFilled' : 'Star'\" /></el-icon>\n              </el-button>\n              <el-button \n                @click=\"toggleArchive\" \n                :type=\"currentNote.isArchived ? 'warning' : ''\"\n                :title=\"currentNote.isArchived ? '取消归档' : '归档'\"\n              >\n                <el-icon><Box /></el-icon>\n              </el-button>\n              <el-button \n                @click=\"deleteNote\"\n                title=\"删除\"\n              >\n                <el-icon><Delete /></el-icon>\n              </el-button>\n            </el-button-group>\n          </div>\n        </div>\n        \n        <div class=\"note-tags-section\">\n          <div class=\"tags-row\">\n            <div class=\"tags-container\">\n              <el-tag\n                v-for=\"tag in currentNote.tags\"\n                :key=\"tag\"\n                closable\n                @close=\"removeTag(tag)\"\n                class=\"note-tag\"\n              >\n                {{ tag }}\n              </el-tag>\n              <el-button link @click=\"showTagInputAndFocus\" v-if=\"!showTagInput\">\n                + 新标签\n              </el-button>\n              <el-input\n                v-else\n                v-model=\"newTag\"\n                ref=\"tagInputRef\"\n                @keyup.enter=\"addTag\"\n                @blur=\"showTagInput = false\"\n                size=\"small\"\n                style=\"width: 100px\"\n              />\n            </div>\n            <div class=\"note-info\">\n              <span class=\"update-time\">更新时间：{{ formatDateTime(currentNote.updatedAt) }}</span>\n              <span class=\"word-count\">当前字数：{{ currentNote.content?.length || 0 }}</span>\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"note-content-section\">\n          <el-input\n            v-model=\"currentNote.content\"\n            type=\"textarea\"\n            placeholder=\"开始输入...\"\n          />\n        </div>\n      </template>\n      \n      <div v-else class=\"empty-state\">\n        <el-empty description=\"选择或创建一个便签\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted, watch, nextTick } from 'vue'\nimport { \n  Star, \n  StarFilled, \n  Box,\n  Delete, \n  Plus, \n  Search, \n  Edit \n} from '@element-plus/icons-vue'\nimport NoteList from '../components/NoteList.vue'\nimport { useNoteStore } from '../stores/noteStore'\nimport { ElMessageBox } from 'element-plus'\n\nconst tagInputRef = ref(null)\nconst noteStore = useNoteStore()\nconst searchQuery = ref('')\nconst activeTab = ref('all')\nconst currentNote = ref(null)\nconst showTagInput = ref(false)\nconst newTag = ref('')\nconst showTitleEdit = ref(false)\nconst isEditingTitle = ref(false)\nconst titleInputRef = ref(null)\n\n// 过滤笔记\nconst filteredNotes = computed(() => {\n  const notes = [...noteStore.pinnedNotes, ...noteStore.unpinnedNotes]\n  \n  if (!searchQuery.value) return notes\n  \n  const query = searchQuery.value.toLowerCase()\n  return notes.filter(note => \n    note.title.toLowerCase().includes(query) || \n    note.content.toLowerCase().includes(query) ||\n    note.tags.some(tag => tag.toLowerCase().includes(query))\n  )\n})\n\n// 获取归档笔记\nconst archivedNotes = computed(() => {\n  const notes = noteStore.archivedNotes\n  if (!searchQuery.value) return notes\n  \n  const query = searchQuery.value.toLowerCase()\n  return notes.filter(note => \n    note.title.toLowerCase().includes(query) || \n    note.content.toLowerCase().includes(query) ||\n    note.tags.some(tag => tag.toLowerCase().includes(query))\n  )\n})\n\n// 获取未归档笔记\nconst unarchivedNotes = computed(() => {\n  const notes = [...noteStore.pinnedNotes, ...noteStore.unpinnedNotes]\n    .filter(note => !note.isArchived)\n  \n  if (!searchQuery.value) return notes\n  \n  const query = searchQuery.value.toLowerCase()\n  return notes.filter(note => \n    note.title.toLowerCase().includes(query) || \n    note.content.toLowerCase().includes(query) ||\n    note.tags.some(tag => tag.toLowerCase().includes(query))\n  )\n})\n\n// 创建新便签\nconst createNote = () => {\n  const newNote = noteStore.addNote({\n    title: '',\n    content: '',\n    tags: []\n  })\n  currentNote.value = newNote\n}\n\n// 选择便签\nconst selectNote = (note) => {\n  currentNote.value = { ...note }\n}\n\n// 保存便签\nconst saveNote = () => {\n  if (currentNote.value) {\n    noteStore.updateNote(currentNote.value.id, currentNote.value)\n  }\n}\n\n// 删除便签\nconst deleteNote = async () => {\n  try {\n    await ElMessageBox.confirm('确定要删除这个便签吗？', '提示', {\n      confirmButtonText: '确定',\n      cancelButtonText: '取消',\n      type: 'warning'\n    })\n    noteStore.deleteNote(currentNote.value.id)\n    currentNote.value = null\n  } catch {\n    // 用户取消删除\n  }\n}\n\n// 切换置顶状态\nconst togglePin = () => {\n  if (currentNote.value) {\n    noteStore.togglePin(currentNote.value.id)\n    currentNote.value.isPinned = !currentNote.value.isPinned\n  }\n}\n\n// 切换归档状态\nconst toggleArchive = () => {\n  if (currentNote.value) {\n    noteStore.toggleArchive(currentNote.value.id)\n    const isArchived = !currentNote.value.isArchived\n    currentNote.value = {\n      ...currentNote.value,\n      isArchived,\n      isPinned: isArchived ? false : currentNote.value.isPinned\n    }\n    // 如果当前在归档标签页，且取消归档，则清空当前笔记\n    if (activeTab.value === 'archived' && !isArchived) {\n      currentNote.value = null\n    }\n  }\n}\n\n// 添加标签\nconst addTag = () => {\n  if (newTag.value?.trim() && currentNote.value) {\n    const tag = newTag.value.trim()\n    // 检查标签是否已存在\n    if (currentNote.value.tags.includes(tag)) {\n      return\n    }\n    // 从 store 获取更新后的标签数组\n    const updatedTags = noteStore.addTag(currentNote.value.id, tag)\n    // 确保 updatedTags 是数组\n    if (Array.isArray(updatedTags)) {\n      // 使用 store 返回的标签数组更新当前笔记\n      currentNote.value = {\n        ...currentNote.value,\n        tags: [...updatedTags]\n      }\n    }\n    newTag.value = ''\n    showTagInput.value = false\n  }\n}\n\n// 移除标签\nconst removeTag = (tag) => {\n  if (currentNote.value) {\n    noteStore.removeTag(currentNote.value.id, tag)\n    // 更新当前笔记的引用，触发视图更新\n    currentNote.value = {\n      ...currentNote.value,\n      tags: currentNote.value.tags.filter(t => t !== tag)\n    }\n  }\n}\n\n// 自动保存\nlet autoSaveTimer = null\nconst autoSave = () => {\n  if (autoSaveTimer) clearTimeout(autoSaveTimer)\n  autoSaveTimer = setTimeout(saveNote, 1000)\n}\n\n// 监听便签内容变化\nwatch(() => currentNote.value?.content, autoSave)\nwatch(() => currentNote.value?.title, autoSave)\n\n// 显示标签输入框并聚焦\nconst showTagInputAndFocus = async () => {\n  showTagInput.value = true\n  await nextTick()\n  tagInputRef.value?.input?.focus()\n}\n\n// 编辑标题\nconst startTitleEdit = () => {\n  isEditingTitle.value = true\n  nextTick(() => {\n    titleInputRef.value?.input?.focus()\n  })\n}\n\nconst finishTitleEdit = () => {\n  isEditingTitle.value = false\n  showTitleEdit.value = false\n  saveNote()\n}\n\n// 格式化时间\nconst formatDateTime = (dateStr) => {\n  if (!dateStr) return ''\n  const date = new Date(dateStr)\n  const year = date.getFullYear()\n  const month = String(date.getMonth() + 1).padStart(2, '0')\n  const day = String(date.getDate()).padStart(2, '0')\n  const hour = String(date.getHours()).padStart(2, '0')\n  const minute = String(date.getMinutes()).padStart(2, '0')\n  const second = String(date.getSeconds()).padStart(2, '0')\n  \n  return `${year}年${month}月${day}日 ${hour}:${minute}:${second}`\n}\n\n// 监听标签页切换\nwatch(activeTab, () => {\n  // 切换标签页时清空当前笔记\n  currentNote.value = null\n})\n\n// 撤销删除\nconst undoDelete = (note) => {\n  noteStore.restoreNote(note)\n}\n</script>\n\n<style scoped>\n.notes-container {\n  display: flex;\n  height: 100vh;\n  gap: 20px;\n  padding: 20px;\n  background-color: var(--el-bg-color);\n  overflow: hidden;  /* 防止整个页面滚动 */\n}\n\n.notes-sidebar {\n  width: 300px;\n  height: calc(100vh - 40px);\n  border-right: 1px solid var(--el-border-color-light);\n  display: flex;\n  flex-direction: column;\n  background-color: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 12px 0 rgba(0,0,0,0.1);\n  overflow: hidden;  /* 防止侧边栏本身滚动 */\n}\n\n.sidebar-header {\n  padding: 16px;\n  border-bottom: 1px solid var(--el-border-color-light);\n  flex-shrink: 0;  /* 防止头部被压缩 */\n}\n\n.search-input {\n  margin-bottom: 12px;\n}\n\n.create-btn {\n  width: 100%;\n}\n\n.notes-list {\n  flex: 1;\n  overflow-y: auto;\n  padding: 0 16px;\n  /* 自定义滚动条样式 - Webkit 浏览器 */\n  &::-webkit-scrollbar {\n    width: 8px;\n  }\n  \n  &::-webkit-scrollbar-track {\n    background: transparent;\n  }\n  \n  &::-webkit-scrollbar-thumb {\n    background-color: #e4e4e4;\n    border-radius: 4px;\n    border: 2px solid transparent;\n    background-clip: padding-box;\n  }\n  \n  &::-webkit-scrollbar-thumb:hover {\n    background-color: #d4d4d4;\n  }\n  \n  /* Firefox 滚动条样式 */\n  scrollbar-width: thin;\n  scrollbar-color: #e4e4e4 transparent;\n}\n\n.note-editor {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  height: calc(100vh - 40px);\n  background-color: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 12px 0 rgba(0,0,0,0.1);\n  padding: 20px;\n  overflow: hidden;  /* 防止编辑器本身滚动 */\n}\n\n.note-title-section {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 16px;\n  padding-bottom: 16px;\n  border-bottom: 1px solid var(--el-border-color-light);\n  flex-shrink: 0;  /* 防止标题区域被压缩 */\n}\n\n.title-content {\n  flex: 1;\n  margin-right: 16px;\n}\n\n.note-title {\n  margin: 0;\n  font-size: 20px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.note-content-section {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  height: calc(100% - 140px);\n  min-height: 0;\n  overflow: hidden;  /* 防止内容区域本身滚动 */\n}\n\n.note-content-section .el-textarea {\n  flex: 1;\n}\n\n/* 设置textarea本身的样式 */\n.note-content-section :deep(.el-textarea__inner) {\n  height: 100% !important;\n  resize: none;\n  overflow-y: auto;\n  /* 自定义滚动条样式 - Webkit 浏览器 */\n  &::-webkit-scrollbar {\n    width: 8px;\n  }\n  \n  &::-webkit-scrollbar-track {\n    background: transparent;\n  }\n  \n  &::-webkit-scrollbar-thumb {\n    background-color: #e4e4e4;\n    border-radius: 4px;\n    border: 2px solid transparent;\n    background-clip: padding-box;\n  }\n  \n  &::-webkit-scrollbar-thumb:hover {\n    background-color: #d4d4d4;\n  }\n  \n  /* Firefox 滚动条样式 */\n  scrollbar-width: thin;\n  scrollbar-color: #e4e4e4 transparent;\n}\n\n.note-tags-section {\n  padding: 8px 0 16px;\n  border-bottom: 1px solid var(--el-border-color-light);\n  flex-shrink: 0;\n}\n\n.tags-row {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  min-height: 32px;\n}\n\n.tags-container {\n  display: flex;\n  flex-wrap: nowrap;  /* 防止标签换行 */\n  align-items: center;\n  gap: 8px;\n  overflow-x: auto;  /* 允许水平滚动 */\n  overflow-y: hidden;  /* 隐藏垂直滚动条 */\n  flex: 1;          /* 占据剩余空间 */\n  margin-right: 16px;  /* 与信息区域保持间距 */\n  /* 隐藏滚动条 - Webkit 浏览器 */\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  /* 隐藏滚动条 - Firefox */\n  scrollbar-width: none;\n  /* 启用水平滚动的触摸操作 */\n  -webkit-overflow-scrolling: touch;\n  /* 防止标签被压缩 */\n  min-width: 0;\n}\n\n.note-tag {\n  margin: 0;\n  flex-shrink: 0;  /* 防止标签被压缩 */\n  /* 确保标签不会被压缩 */\n  white-space: nowrap;\n}\n\n.note-info {\n  display: flex;\n  justify-content: flex-end;\n  padding: 8px 0;\n  color: var(--el-text-color-secondary);\n  font-size: 12px;\n  flex-shrink: 0;\n  gap: 16px;\n  white-space: nowrap;  /* 防止信息换行 */\n}\n\n/* 添加标签按钮样式 */\n.el-button.is-link {\n  flex-shrink: 0;  /* 防止按钮被压缩 */\n}\n\n/* 标签输入框样式 */\n.el-input {\n  flex-shrink: 0;  /* 防止输入框被压缩 */\n}\n\n/* 优化标签页样式 */\n:deep(.el-tabs__header) {\n  margin: 0;\n  padding: 16px 16px 0;\n  flex-shrink: 0;\n}\n\n:deep(.el-tabs__content) {\n  flex: 1;\n  overflow: hidden;\n}\n\n:deep(.el-tab-pane) {\n  height: 100%;\n  overflow: hidden;\n}\n\n/* 确保新增标签按钮和输入框始终显示 */\n.el-button.is-link,\n.el-input {\n  position: sticky;\n  right: 0;\n  background: white;\n  margin-left: 8px;\n  /* 添加渐变遮罩效果 */\n  &::before {\n    content: '';\n    position: absolute;\n    left: -20px;\n    top: 0;\n    bottom: 0;\n    width: 20px;\n    background: linear-gradient(to right, transparent, white);\n  }\n}\n\n/* 按钮组样式 */\n.editor-actions .el-button-group {\n  display: flex;\n  gap: 1px;  /* 按钮之间的间隔 */\n}\n\n.editor-actions .el-button {\n  padding: 8px 16px;  /* 统一按钮大小 */\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.editor-actions .el-icon {\n  font-size: 16px;  /* 统一图标大小 */\n}\n\n/* 按钮悬浮效果 */\n.editor-actions .el-button:hover {\n  background-color: var(--el-color-primary-light-8);\n}\n\n/* 归档按钮样式 */\n.editor-actions .el-button:nth-child(2) {\n  &:hover {\n    color: var(--el-color-warning);\n  }\n  &.el-button--warning {\n    background-color: var(--el-color-warning);\n    border-color: var(--el-color-warning);\n    color: white;\n    &:hover {\n      background-color: var(--el-color-warning-light-3);\n      border-color: var(--el-color-warning-light-3);\n      color: white;\n    }\n  }\n}\n\n/* 删除按钮样式 */\n.editor-actions .el-button:last-child:hover {\n  color: var(--el-color-danger);\n}\n\n/* 调整标签页顺序和样式 */\n:deep(.el-tabs__nav) {\n  display: flex;\n}\n\n:deep(.el-tabs__item) {\n  flex: 1;\n  text-align: center;\n  min-width: 80px;\n}\n</style> ","import script from \"./NotesView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./NotesView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./NotesView.vue?vue&type=style&index=0&id=3d3687b8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3d3687b8\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"kb-container\">\r\n    <div class=\"kb-sidebar\">\r\n      <el-tree\r\n        :data=\"docTree\"\r\n        :props=\"defaultProps\"\r\n        @node-click=\"handleNodeClick\"\r\n      >\r\n        <template #default=\"{ node }\">\r\n          <div class=\"tree-node\">\r\n            <el-icon><folder /></el-icon>\r\n            <span>{{ node.label }}</span>\r\n          </div>\r\n        </template>\r\n      </el-tree>\r\n    </div>\r\n    \r\n    <div class=\"kb-main\">\r\n      <div class=\"kb-toolbar\">\r\n        <el-button-group>\r\n          <el-button @click=\"createDoc\">新建文档</el-button>\r\n          <el-button @click=\"createFolder\">新建文件夹</el-button>\r\n        </el-button-group>\r\n        \r\n        <el-input\r\n          v-model=\"searchQuery\"\r\n          placeholder=\"搜索文档\"\r\n          prefix-icon=\"Search\"\r\n          style=\"width: 200px\"\r\n        />\r\n      </div>\r\n      \r\n      <div class=\"kb-editor\" v-if=\"currentDoc\">\r\n        <el-input v-model=\"currentDoc.title\" placeholder=\"文档标题\" />\r\n        \r\n        <md-editor\r\n          v-model=\"currentDoc.content\"\r\n          height=\"70vh\"\r\n          @save=\"saveDoc\"\r\n          @upload-img=\"handleUploadImage\"\r\n          :toolbars=\"toolbars\"\r\n        />\r\n        \r\n        <div class=\"doc-meta\">\r\n          <span>最后编辑: {{ formatDate(currentDoc.updatedAt) }}</span>\r\n          <el-tag size=\"small\">{{ currentDoc.category }}</el-tag>\r\n        </div>\r\n      </div>\r\n      \r\n      <div v-else class=\"empty-state\">\r\n        <el-empty description=\"选择或创建一个文档\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed } from 'vue'\r\nimport { Folder, Search } from '@element-plus/icons-vue'\r\n\r\n// 工具栏配置\r\nconst toolbars = [\r\n  'bold',\r\n  'underline',\r\n  'italic',\r\n  'strikethrough',\r\n  'sub',\r\n  'sup',\r\n  'quote',\r\n  'unorderedList',\r\n  'orderedList',\r\n  'codeRow',\r\n  'code',\r\n  'link',\r\n  'image',\r\n  'table',\r\n  'save'\r\n]\r\n\r\n// 添加必要的响应式数据\r\nconst docTree = ref([])\r\nconst searchQuery = ref('')\r\nconst currentDoc = ref(null)\r\n\r\n// 树形控件的属性配置\r\nconst defaultProps = {\r\n  children: 'children',\r\n  label: 'name'\r\n}\r\n\r\n// 处理节点点击\r\nconst handleNodeClick = (node) => {\r\n  // 处理文档节点点击逻辑\r\n  console.log('节点点击:', node)\r\n}\r\n\r\n// 创建新文档\r\nconst createDoc = () => {\r\n  // 实现创建文档的逻辑\r\n}\r\n\r\n// 创建新文件夹\r\nconst createFolder = () => {\r\n  // 实现创建文件夹的逻辑\r\n}\r\n\r\n// 保存文档\r\nconst saveDoc = () => {\r\n  // 实现保存文档的逻辑\r\n}\r\n\r\n// 格式化日期\r\nconst formatDate = (date) => {\r\n  if (!date) return ''\r\n  return new Date(date).toLocaleString()\r\n}\r\n\r\n// 处理图片上传\r\nconst handleUploadImage = async (event, insertImage, files) => {\r\n  // 这里处理图片上传逻辑\r\n  try {\r\n    // TODO: 实现图片上传到服务器\r\n    const url = 'uploaded_image_url'\r\n    insertImage({\r\n      url,\r\n      desc: '图片描述'\r\n    })\r\n  } catch (error) {\r\n    console.error('图片上传失败:', error)\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.kb-container {\r\n  display: flex;\r\n  height: 100%;\r\n  gap: 20px;\r\n}\r\n\r\n.kb-sidebar {\r\n  width: 250px;\r\n  border-right: 1px solid var(--el-border-color-light);\r\n}\r\n\r\n.kb-main {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n}\r\n\r\n.kb-editor {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n  height: calc(100vh - 180px);\r\n}\r\n\r\n:deep(.v-md-editor) {\r\n  flex: 1;\r\n  overflow: hidden;\r\n}\r\n\r\n/* ... 更多样式 ... */\r\n</style> ","import script from \"./KnowledgeBaseView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./KnowledgeBaseView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./KnowledgeBaseView.vue?vue&type=style&index=0&id=391e8044&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-391e8044\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"mindmap-container\">\r\n    <!-- 工具栏 -->\r\n    <div class=\"toolbar\">\r\n      <el-button-group>\r\n        <el-button @click=\"createNewMap\">\r\n          <el-icon><Plus /></el-icon>新建导图\r\n        </el-button>\r\n        <el-button @click=\"saveCurrentMap\">\r\n          <el-icon><Save /></el-icon>保存\r\n        </el-button>\r\n        <el-button @click=\"exportMap\">\r\n          <el-icon><Download /></el-icon>导出\r\n        </el-button>\r\n      </el-button-group>\r\n\r\n      <el-button-group>\r\n        <el-button @click=\"zoomIn\">\r\n          <el-icon><ZoomIn /></el-icon>\r\n        </el-button>\r\n        <el-button @click=\"zoomOut\">\r\n          <el-icon><ZoomOut /></el-icon>\r\n        </el-button>\r\n        <el-button @click=\"resetZoom\">\r\n          <el-icon><FullScreen /></el-icon>\r\n        </el-button>\r\n      </el-button-group>\r\n\r\n      <el-button-group>\r\n        <el-button @click=\"undo\" :disabled=\"!canUndo\">\r\n          <el-icon><Back /></el-icon>\r\n        </el-button>\r\n        <el-button @click=\"redo\" :disabled=\"!canRedo\">\r\n          <el-icon><Right /></el-icon>\r\n        </el-button>\r\n      </el-button-group>\r\n\r\n      <el-select v-model=\"currentTheme\" placeholder=\"选择主题\">\r\n        <el-option\r\n          v-for=\"theme in themes\"\r\n          :key=\"theme.value\"\r\n          :label=\"theme.label\"\r\n          :value=\"theme.value\"\r\n        />\r\n      </el-select>\r\n    </div>\r\n\r\n    <!-- 左侧导图列表 -->\r\n    <div class=\"sidebar\">\r\n      <div class=\"map-list-header\">\r\n        <h3>我的导图</h3>\r\n        <el-input\r\n          v-model=\"searchQuery\"\r\n          placeholder=\"搜索导图...\"\r\n          prefix-icon=\"Search\"\r\n        />\r\n      </div>\r\n      \r\n      <div class=\"map-list\">\r\n        <div\r\n          v-for=\"map in filteredMaps\"\r\n          :key=\"map.id\"\r\n          class=\"map-item\"\r\n          :class=\"{ active: currentMap?.id === map.id }\"\r\n          @click=\"loadMap(map)\"\r\n        >\r\n          <div class=\"map-info\">\r\n            <h4>{{ map.title }}</h4>\r\n            <p>{{ formatDate(map.updatedAt) }}</p>\r\n          </div>\r\n          <el-dropdown trigger=\"click\" @command=\"handleMapCommand($event, map)\">\r\n            <el-button type=\"text\">\r\n              <el-icon><More /></el-icon>\r\n            </el-button>\r\n            <template #dropdown>\r\n              <el-dropdown-menu>\r\n                <el-dropdown-item command=\"rename\">重命名</el-dropdown-item>\r\n                <el-dropdown-item command=\"duplicate\">复制</el-dropdown-item>\r\n                <el-dropdown-item command=\"delete\" divided>删除</el-dropdown-item>\r\n              </el-dropdown-menu>\r\n            </template>\r\n          </el-dropdown>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 主要编辑区域 -->\r\n    <div class=\"main-content\">\r\n      <template v-if=\"maps.length === 0\">\r\n        <div class=\"empty-state\">\r\n          <el-empty description=\"还没有思维导图\">\r\n            <el-button type=\"primary\" @click=\"createNewMap\">\r\n              创建第一个思维导图\r\n            </el-button>\r\n          </el-empty>\r\n        </div>\r\n      </template>\r\n      <template v-else>\r\n        <div class=\"mindmap-wrapper\" ref=\"mindMapContainer\"></div>\r\n      </template>\r\n    </div>\r\n\r\n    <!-- 新建导图对话框 -->\r\n    <el-dialog\r\n      v-model=\"showCreateDialog\"\r\n      title=\"新建思维导图\"\r\n      width=\"30%\"\r\n    >\r\n      <el-form :model=\"newMapForm\" label-width=\"80px\">\r\n        <el-form-item label=\"标题\">\r\n          <el-input v-model=\"newMapForm.title\" placeholder=\"输入导图标题\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"描述\">\r\n          <el-input\r\n            v-model=\"newMapForm.description\"\r\n            type=\"textarea\"\r\n            placeholder=\"输入导图描述\"\r\n          />\r\n        </el-form-item>\r\n      </el-form>\r\n      <template #footer>\r\n        <el-button @click=\"showCreateDialog = false\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"handleCreateMap\">创建</el-button>\r\n      </template>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, onBeforeUnmount, computed, nextTick } from 'vue'\r\nimport MindMap from 'simple-mind-map'\r\nimport { ElMessage, ElMessageBox } from 'element-plus'\r\nimport {\r\n  Plus, Save, Download, ZoomIn, ZoomOut,\r\n  FullScreen, Back, Right, More, Search\r\n} from '@element-plus/icons-vue'\r\n\r\n// 状态\r\nconst mindMapContainer = ref(null)\r\nconst mindMap = ref(null)\r\nconst currentMap = ref(null)\r\nconst maps = ref([])\r\nconst searchQuery = ref('')\r\nconst showCreateDialog = ref(false)\r\nconst currentTheme = ref('default')\r\nconst canUndo = ref(false)\r\nconst canRedo = ref(false)\r\n\r\n// 新建导图表单\r\nconst newMapForm = ref({\r\n  title: '',\r\n  description: ''\r\n})\r\n\r\n// 主题列表\r\nconst themes = [\r\n  { label: '默认主题', value: 'default' },\r\n  { label: '清新主题', value: 'fresh' },\r\n  { label: '暗色主题', value: 'dark' },\r\n  { label: '商务主题', value: 'business' }\r\n]\r\n\r\n// 过滤后的导图列表\r\nconst filteredMaps = computed(() => {\r\n  if (!searchQuery.value) return maps.value\r\n  return maps.value.filter(map => \r\n    map.title.toLowerCase().includes(searchQuery.value.toLowerCase())\r\n  )\r\n})\r\n\r\n// 防抖保存的定时器\r\nlet saveTimeout = null\r\n\r\n// 加载导图\r\nconst loadMap = (map) => {\r\n  currentMap.value = map\r\n  if (mindMap.value && map.content) {\r\n    // 直接使用保存的数据结构\r\n    const data = map.content\r\n    \r\n    // 重新初始化思维导图\r\n    if (mindMapContainer.value) {\r\n      // 先销毁旧实例\r\n      mindMap.value.destroy()\r\n      \r\n      // 创建新实例\r\n      mindMap.value = new MindMap({\r\n        el: mindMapContainer.value,\r\n        data: data,\r\n        width: mindMapContainer.value.clientWidth,\r\n        height: mindMapContainer.value.clientHeight,\r\n        layout: 'mindMap',\r\n        draggable: true,\r\n        keyboard: true,\r\n        contextMenu: true,\r\n        theme: 'classic',\r\n        themeConfig: {\r\n          nodeMargin: 20,\r\n          lineWidth: 2,\r\n          lineColor: '#666'\r\n        },\r\n        viewportOptions: {\r\n          padding: 50\r\n        }\r\n      })\r\n      \r\n      // 重新绑定数据变化监听\r\n      mindMap.value.on('data_change', () => {\r\n        // 使用防抖处理频繁保存\r\n        if (saveTimeout) clearTimeout(saveTimeout)\r\n        saveTimeout = setTimeout(() => {\r\n          saveCurrentMap()\r\n        }, 1000)\r\n      })\r\n    }\r\n    mindMap.value.render()\r\n  }\r\n}\r\n\r\n// 创建新导图\r\nconst createNewMap = () => {\r\n  showCreateDialog.value = true\r\n}\r\n\r\n// 处理创建导图\r\nconst handleCreateMap = () => {\r\n  if (!newMapForm.value.title) {\r\n    ElMessage.warning('请输入标题')\r\n    return\r\n  }\r\n\r\n  const newMap = {\r\n    id: Date.now(),\r\n    title: newMapForm.value.title,\r\n    description: newMapForm.value.description,\r\n    content: {\r\n      data: {\r\n        text: newMapForm.value.title,\r\n        expand: true,\r\n        uid: Date.now().toString(),\r\n        children: []\r\n      }\r\n    },\r\n    createdAt: new Date().toISOString(),\r\n    updatedAt: new Date().toISOString()\r\n  }\r\n\r\n  maps.value.unshift(newMap)\r\n  saveMapsToStorage()\r\n  showCreateDialog.value = false\r\n  currentMap.value = newMap\r\n  \r\n  // 确保 mindMap 实例存在\r\n  if (!mindMap.value) {\r\n    initMindMap()\r\n  }\r\n  \r\n  // 等待 DOM 更新后加载导图\r\n  nextTick(() => {\r\n    loadMap(newMap)\r\n  })\r\n  \r\n  ElMessage.success('创建成功')\r\n}\r\n\r\n// 保存当前导图\r\nconst saveCurrentMap = () => {\r\n  if (!currentMap.value) return\r\n  \r\n  debugger\r\n  const data = mindMap.value?.getData() || {}\r\n  \r\n  // 确保数据结构正确\r\n  const savedData = {\r\n    data: {\r\n      ...data.data,\r\n      children: data.data?.children || []\r\n    }\r\n  }\r\n\r\n  const index = maps.value.findIndex(m => m.id === currentMap.value.id)\r\n  if (index > -1) {\r\n    maps.value[index] = {\r\n      ...currentMap.value,\r\n      content: savedData,\r\n      updatedAt: new Date().toISOString()\r\n    }\r\n    saveMapsToStorage()\r\n    console.log('保存的数据:', savedData) // 添加日志以便调试\r\n  }\r\n}\r\n\r\n// 导出导图\r\nconst exportMap = () => {\r\n  // TODO: 实现导出功能\r\n  ElMessage.info('导出功能开发中...')\r\n}\r\n\r\n// 缩放控制\r\nconst zoomIn = () => {\r\n  if (mindMap.value) {\r\n    const currentZoom = mindMap.value.getZoom()\r\n    mindMap.value.setZoom(currentZoom + 0.1)\r\n  }\r\n}\r\n\r\nconst zoomOut = () => {\r\n  if (mindMap.value) {\r\n    const currentZoom = mindMap.value.getZoom()\r\n    mindMap.value.setZoom(Math.max(0.1, currentZoom - 0.1))\r\n  }\r\n}\r\n\r\nconst resetZoom = () => mindMap.value?.setZoom(1)\r\n\r\n// 撤销/重做\r\nconst undo = () => mindMap.value?.undo()\r\nconst redo = () => mindMap.value?.redo()\r\n\r\n// 处理导图操作\r\nconst handleMapCommand = async (command, map) => {\r\n  let index;\r\n  let duplicatedMap;\r\n\r\n  switch (command) {\r\n    case 'rename':\r\n      try {\r\n        const { value: newTitle } = await ElMessageBox.prompt(\r\n          '请输入新的标题',\r\n          '重命名',\r\n          {\r\n            confirmButtonText: '确定',\r\n            cancelButtonText: '取消',\r\n            inputValue: map.title,\r\n            inputValidator: (value) => {\r\n              if (!value) {\r\n                return '标题不能为空'\r\n              }\r\n              return true\r\n            }\r\n          }\r\n        )\r\n        index = maps.value.findIndex(m => m.id === map.id)\r\n        if (index > -1) {\r\n          maps.value[index] = {\r\n            ...map,\r\n            title: newTitle,\r\n            updatedAt: new Date().toISOString()\r\n          }\r\n          saveMapsToStorage()\r\n          ElMessage.success('重命名成功')\r\n        }\r\n      } catch (err) {\r\n        // 用户取消操作\r\n      }\r\n      break\r\n    case 'duplicate':\r\n      duplicatedMap = {\r\n        ...map,\r\n        id: Date.now(),\r\n        title: `${map.title} - 副本`,\r\n        createdAt: new Date().toISOString(),\r\n        updatedAt: new Date().toISOString()\r\n      }\r\n      maps.value.unshift(duplicatedMap)\r\n      saveMapsToStorage()\r\n      ElMessage.success('复制成功')\r\n      break\r\n    case 'delete':\r\n      try {\r\n        await ElMessageBox.confirm('确定要删除该导图吗？', '提示', {\r\n          type: 'warning'\r\n        })\r\n        index = maps.value.findIndex(m => m.id === map.id)\r\n        if (index > -1) {\r\n          maps.value.splice(index, 1)\r\n          saveMapsToStorage()\r\n          if (currentMap.value?.id === map.id) {\r\n            currentMap.value = null\r\n            mindMap.value?.setData({\r\n              data: {\r\n                text: '中心主题',\r\n                expand: true,\r\n                uid: Date.now().toString(),\r\n                children: []\r\n              }\r\n            })\r\n            mindMap.value?.setLayout('mindMap')\r\n            mindMap.value?.render()\r\n          }\r\n          ElMessage.success('删除成功')\r\n        }\r\n      } catch (err) {\r\n        // 用户取消删除操作\r\n      }\r\n      break\r\n  }\r\n}\r\n\r\n// 重置思维导图\r\nconst resetMindMap = () => {\r\n  mindMap.value?.setData({\r\n    data: {\r\n      text: '中心主题',\r\n      expand: true,\r\n      uid: Date.now().toString(),\r\n      children: []\r\n    }\r\n  })\r\n  mindMap.value?.setLayout('mindMap')\r\n  mindMap.value?.render()\r\n}\r\n\r\n// 格式化日期\r\nconst formatDate = (date) => {\r\n  if (!date) return ''\r\n  return new Date(date).toLocaleString()\r\n}\r\n\r\n// 存储相关\r\nconst saveMapsToStorage = () => {\r\n  localStorage.setItem('mindmaps', JSON.stringify(maps.value))\r\n}\r\n\r\nconst loadMapsFromStorage = () => {\r\n  const stored = localStorage.getItem('mindmaps')\r\n  if (stored) {\r\n    maps.value = JSON.parse(stored)\r\n    // 如果有已保存的导图，加载第一个\r\n    if (maps.value.length > 0) {\r\n      loadMap(maps.value[0])\r\n    } else {\r\n      resetMindMap()\r\n    }\r\n  }\r\n}\r\n\r\n// 生命周期钩子\r\nonMounted(() => {\r\n  // 先加载数据\r\n  loadMapsFromStorage()\r\n  // 如果有导图数据，初始化画布\r\n  if (maps.value.length > 0) {\r\n    nextTick(() => {\r\n      initMindMap()\r\n    })\r\n  }\r\n})\r\n\r\nonBeforeUnmount(() => {\r\n  if (saveTimeout) {\r\n    clearTimeout(saveTimeout)\r\n  }\r\n  mindMap.value?.destroy()\r\n})\r\n\r\n// 初始化思维导图\r\nconst initMindMap = () => {\r\n  if (!mindMapContainer.value) return\r\n  \r\n  // 初始数据结构\r\n  const initialData = {\r\n    data: {\r\n      text: '中心主题',\r\n      expand: true,\r\n      uid: Date.now().toString(),\r\n      children: []\r\n    }\r\n  }\r\n\r\n  mindMap.value = new MindMap({\r\n    el: mindMapContainer.value,\r\n    data: initialData,\r\n    width: mindMapContainer.value.clientWidth,\r\n    height: mindMapContainer.value.clientHeight,\r\n    layout: 'mindMap',\r\n    draggable: true,\r\n    keyboard: true,\r\n    contextMenu: true,\r\n    theme: 'classic',\r\n    themeConfig: {\r\n      nodeMargin: 20,\r\n      lineWidth: 2,\r\n      lineColor: '#666'\r\n    },\r\n    viewportOptions: {\r\n      padding: 50\r\n    }\r\n  })\r\n\r\n  // 监听数据变化\r\n  mindMap.value.on('data_change', () => {\r\n    saveCurrentMap()\r\n  })\r\n\r\n  // 等待 DOM 更新后渲染\r\n  nextTick(() => {\r\n    mindMap.value.render()\r\n  })\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.mindmap-container {\r\n  height: 100%;\r\n  display: grid;\r\n  grid-template-columns: 250px 1fr;\r\n  grid-template-rows: auto 1fr;\r\n  gap: 1px;\r\n  background: var(--el-border-color-light);\r\n}\r\n\r\n.toolbar {\r\n  grid-column: 1 / -1;\r\n  padding: 8px 16px;\r\n  background: white;\r\n  display: flex;\r\n  gap: 16px;\r\n  align-items: center;\r\n  border-bottom: 1px solid var(--el-border-color-light);\r\n}\r\n\r\n.sidebar {\r\n  background: white;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.map-list-header {\r\n  padding: 16px;\r\n  border-bottom: 1px solid var(--el-border-color-light);\r\n}\r\n\r\n.map-list {\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  padding: 8px;\r\n}\r\n\r\n.map-item {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 12px;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n}\r\n\r\n.map-item:hover {\r\n  background: var(--el-fill-color-light);\r\n}\r\n\r\n.map-item.active {\r\n  background: var(--el-color-primary-light-9);\r\n}\r\n\r\n.map-info h4 {\r\n  margin: 0;\r\n  font-size: 14px;\r\n  color: var(--el-text-color-primary);\r\n}\r\n\r\n.map-info p {\r\n  margin: 4px 0 0;\r\n  font-size: 12px;\r\n  color: var(--el-text-color-secondary);\r\n}\r\n\r\n.main-content {\r\n  background: white;\r\n  position: relative;\r\n}\r\n\r\n.empty-state {\r\n  height: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background: white;\r\n}\r\n\r\n.empty-state :deep(.el-empty) {\r\n  padding: 40px;\r\n}\r\n\r\n.empty-state :deep(.el-button) {\r\n  margin-top: 16px;\r\n}\r\n\r\n.mindmap-wrapper {\r\n  position: absolute;\r\n  inset: 0;\r\n}\r\n\r\n.el-button-group {\r\n  display: flex;\r\n  gap: 1px;\r\n}\r\n\r\n.el-button-group .el-button {\r\n  border-radius: 0;\r\n}\r\n\r\n.el-button-group .el-button:first-child {\r\n  border-radius: 4px 0 0 4px;\r\n}\r\n\r\n.el-button-group .el-button:last-child {\r\n  border-radius: 0 4px 4px 0;\r\n}\r\n</style> ","import script from \"./MindMapView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MindMapView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MindMapView.vue?vue&type=style&index=0&id=05b4c8aa&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-05b4c8aa\"]])\n\nexport default __exports__","<template>\n  <div class=\"reviews-container\">\n    <div class=\"page-header\">\n      <h2>复盘记录</h2>\n      <el-button type=\"primary\" @click=\"openReviewDialog\">\n        <el-icon><plus /></el-icon>新建复盘\n      </el-button>\n    </div>\n\n    <!-- 复盘类型筛选 -->\n    <div class=\"filter-section\">\n      <el-radio-group v-model=\"reviewType\" size=\"large\">\n        <el-radio-button label=\"all\">全部</el-radio-button>\n        <el-radio-button label=\"daily\">日复盘</el-radio-button>\n        <el-radio-button label=\"weekly\">周复盘</el-radio-button>\n        <el-radio-button label=\"monthly\">月复盘</el-radio-button>\n      </el-radio-group>\n    </div>\n\n    <!-- 复盘列表 -->\n    <el-timeline>\n      <el-timeline-item\n        v-for=\"review in filteredReviews\"\n        :key=\"review.id\"\n        :timestamp=\"getReviewTimeRange(review)\"\n        :type=\"getReviewType(review.type)\"\n      >\n        <el-card class=\"review-item\">\n          <template #header>\n            <div class=\"review-item-header\">\n              <el-tag :type=\"getReviewTagType(review.type)\">\n                {{ getReviewTypeText(review) }}\n              </el-tag>\n              <span class=\"review-title\">{{ review.title }}</span>\n              <div class=\"review-actions\">\n                <el-button type=\"primary\" link @click=\"editReview(review)\">\n                  编辑\n                </el-button>\n                <el-button type=\"danger\" link @click=\"deleteReview(review)\">\n                  删除\n                </el-button>\n              </div>\n            </div>\n          </template>\n          <div class=\"review-content\">\n            <div v-if=\"review.achievements\" class=\"review-section\">\n              <h4>🎯 主要成就</h4>\n              <p>{{ review.achievements }}</p>\n            </div>\n            <div v-if=\"review.lessons\" class=\"review-section\">\n              <h4>📝 经验教训</h4>\n              <p>{{ review.lessons }}</p>\n            </div>\n            <div v-if=\"review.plans\" class=\"review-section\">\n              <h4>📋 下步计划</h4>\n              <p>{{ review.plans }}</p>\n            </div>\n          </div>\n        </el-card>\n      </el-timeline-item>\n    </el-timeline>\n\n    <!-- 复盘表单对话框 -->\n    <el-dialog\n      v-model=\"reviewDialogVisible\"\n      :title=\"dialogTitle\"\n      width=\"60%\"\n    >\n      <el-form :model=\"reviewForm\" ref=\"reviewFormRef\" :rules=\"reviewRules\">\n        <el-form-item label=\"复盘类型\" prop=\"type\">\n          <el-select v-model=\"reviewForm.type\">\n            <el-option label=\"日复盘\" value=\"daily\" />\n            <el-option label=\"周复盘\" value=\"weekly\" />\n            <el-option label=\"月复盘\" value=\"monthly\" />\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"复盘标题\" prop=\"title\">\n          <el-input v-model=\"reviewForm.title\" placeholder=\"请输入复盘标题\" />\n        </el-form-item>\n        <el-form-item label=\"主要成就\" prop=\"achievements\">\n          <el-input\n            v-model=\"reviewForm.achievements\"\n            type=\"textarea\"\n            :rows=\"3\"\n            placeholder=\"记录本阶段的主要成就和进展\"\n          />\n        </el-form-item>\n        <el-form-item label=\"经验教训\" prop=\"lessons\">\n          <el-input\n            v-model=\"reviewForm.lessons\"\n            type=\"textarea\"\n            :rows=\"3\"\n            placeholder=\"总结经验教训和改进点\"\n          />\n        </el-form-item>\n        <el-form-item label=\"下步计划\" prop=\"plans\">\n          <el-input\n            v-model=\"reviewForm.plans\"\n            type=\"textarea\"\n            :rows=\"3\"\n            placeholder=\"制定下一阶段的计划和目标\"\n          />\n        </el-form-item>\n      </el-form>\n      <template #footer>\n        <span class=\"dialog-footer\">\n          <el-button @click=\"reviewDialogVisible = false\">取消</el-button>\n          <el-button type=\"primary\" @click=\"submitReview\">\n            确认\n          </el-button>\n        </span>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted, watch } from 'vue'\nimport { Plus } from '@element-plus/icons-vue'\nimport { ElMessage, ElMessageBox } from 'element-plus'\nimport { useReviewStore } from '@/stores/review'\n\nconst reviewStore = useReviewStore()\n\n// 状态\nconst reviewType = ref('all')\nconst reviewDialogVisible = ref(false)\nconst reviewFormRef = ref(null)\nconst isEditing = ref(false)\nconst currentReviewId = ref(null)\n\n// 表单数据\nconst reviewForm = ref({\n  type: 'daily',\n  title: '',\n  achievements: '',\n  lessons: '',\n  plans: '',\n})\n\n// 表单验证规则\nconst reviewRules = {\n  type: [{ required: true, message: '请选择复盘类型', trigger: 'change' }],\n  title: [{ required: true, message: '请输入复盘标题', trigger: 'blur' }],\n  achievements: [{ required: true, message: '请输入主要成就', trigger: 'blur' }],\n  lessons: [{ required: true, message: '请输入经验教训', trigger: 'blur' }],\n  plans: [{ required: true, message: '请输入下步计划', trigger: 'blur' }],\n}\n\n// 计算属性：对话框标题\nconst dialogTitle = computed(() => {\n  return isEditing.value ? '编辑复盘' : '新建复盘'\n})\n\n// 计算属性：根据类型筛选复盘记录\nconst filteredReviews = computed(() => {\n  return reviewStore.getFilteredReviews(reviewType.value)\n})\n\n// 监听复盘类型变化，自动生成标题\nwatch(() => reviewForm.value.type, (newType) => {\n  if (!isEditing.value) {  // 只在新建时自动生成标题\n    const now = new Date()\n    switch (newType) {\n      case 'daily':\n        reviewForm.value.title = formatDateWithYear(now)\n        break\n      case 'weekly': {\n        const weekStart = new Date(now)\n        weekStart.setDate(now.getDate() - now.getDay() + 1)\n        const firstDayOfYear = new Date(now.getFullYear(), 0, 1)\n        const weekNumber = Math.ceil((((now - firstDayOfYear) / 86400000) + firstDayOfYear.getDay() + 1) / 7)\n        reviewForm.value.title = `${now.getFullYear()}年${now.getMonth() + 1}月 第${weekNumber}周`\n        break\n      }\n      case 'monthly':\n        reviewForm.value.title = `${now.getFullYear()}年${now.getMonth() + 1}月`\n        break\n    }\n  }\n})\n\n// 添加新的日期格式化函数（带年份）\nconst formatDateWithYear = (date) => {\n  return date.toLocaleDateString('zh-CN', {\n    year: 'numeric',\n    month: '2-digit',\n    day: '2-digit'\n  }).replace(/\\//g, '年').replace(/-/g, '月') + '日'\n}\n\n// 打开新建复盘对话框\nconst openReviewDialog = () => {\n  isEditing.value = false\n  currentReviewId.value = null\n  const now = new Date()\n  const type = reviewType.value === 'all' ? 'daily' : reviewType.value\n  \n  // 根据类型生成初始标题\n  let title = ''\n  switch (type) {\n    case 'daily':\n      title = formatDateWithYear(now)\n      break\n    case 'weekly': {\n      const weekStart = new Date(now)\n      weekStart.setDate(now.getDate() - now.getDay() + 1)\n      const firstDayOfYear = new Date(now.getFullYear(), 0, 1)\n      const weekNumber = Math.ceil((((now - firstDayOfYear) / 86400000) + firstDayOfYear.getDay() + 1) / 7)\n      title = `${now.getFullYear()}年${now.getMonth() + 1}月 第${weekNumber}周`\n      break\n    }\n    case 'monthly':\n      title = `${now.getFullYear()}年${now.getMonth() + 1}月`\n      break\n  }\n\n  reviewForm.value = {\n    type,\n    title,\n    achievements: '',\n    lessons: '',\n    plans: '',\n  }\n  reviewDialogVisible.value = true\n}\n\n// 编辑复盘\nconst editReview = (review) => {\n  isEditing.value = true\n  currentReviewId.value = review.id\n  reviewForm.value = { ...review }\n  reviewDialogVisible.value = true\n}\n\n// 删除复盘\nconst deleteReview = async (review) => {\n  try {\n    await ElMessageBox.confirm(\n      '确定要删除这条复盘记录吗？',\n      '提示',\n      {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning',\n      }\n    )\n    reviewStore.deleteReview(review.id)\n    ElMessage.success('删除成功')\n  } catch {\n    // 用户取消删除\n  }\n}\n\n// 提交复盘\nconst submitReview = async () => {\n  if (!reviewFormRef.value) return\n  \n  await reviewFormRef.value.validate((valid) => {\n    if (valid) {\n      const now = new Date()\n      let reviewDate = now\n      \n      // 根据复盘类型设置日期\n      switch (reviewForm.value.type) {\n        case 'weekly':\n          reviewDate = new Date(now)\n          reviewDate.setDate(now.getDate() - now.getDay() + 1)\n          break\n        case 'monthly':\n          reviewDate = new Date(now.getFullYear(), now.getMonth(), 1)\n          break\n      }\n\n      if (isEditing.value) {\n        reviewStore.updateReview(currentReviewId.value, {\n          ...reviewForm.value,\n        })\n      } else {\n        reviewStore.addReview({\n          id: Date.now(),\n          ...reviewForm.value,\n          date: formatDate(reviewDate),\n        })\n      }\n      \n      reviewDialogVisible.value = false\n      reviewFormRef.value.resetFields()\n      ElMessage.success(isEditing.value ? '更新成功' : '复盘记录已保存')\n    }\n  })\n}\n\n// 辅助函数\nconst getReviewType = (type) => {\n  const typeMap = {\n    daily: 'primary',\n    weekly: 'success',\n    monthly: 'warning',\n  }\n  return typeMap[type] || 'info'\n}\n\nconst getReviewTagType = (type) => {\n  const typeMap = {\n    daily: '',\n    weekly: 'success',\n    monthly: 'warning',\n  }\n  return typeMap[type] || 'info'\n}\n\nconst getReviewTypeText = (review) => {\n  const date = new Date(review.date)\n  \n  switch (review.type) {\n    case 'daily':\n      return '日复盘'  // 简化标签显示\n    case 'weekly': {\n      const weekStart = new Date(date)\n      weekStart.setDate(date.getDate() - date.getDay() + 1)\n      const weekEnd = new Date(date)\n      weekEnd.setDate(date.getDate() + (7 - date.getDay()))\n      const firstDayOfYear = new Date(date.getFullYear(), 0, 1)\n      const weekNumber = Math.ceil((((date - firstDayOfYear) / 86400000) + firstDayOfYear.getDay() + 1) / 7)\n      return `周复盘 第${weekNumber}周`\n    }\n    case 'monthly': {\n      const monthNames = ['一', '二', '三', '四', '五', '六', '七', '八', '九', '十', '十一', '十二']\n      return `月复盘 ${monthNames[date.getMonth()]}月`\n    }\n    default:\n      return '未知类型'\n  }\n}\n\n// 在 script setup 部分添加以下函数\nconst getReviewTimeRange = (review) => {\n  const date = new Date(review.date)\n  \n  switch (review.type) {\n    case 'daily':\n      return formatDate(date)  // 只显示日期\n    case 'weekly': {\n      const weekStart = new Date(date)\n      weekStart.setDate(date.getDate() - date.getDay() + 1)\n      const weekEnd = new Date(date)\n      weekEnd.setDate(date.getDate() + (7 - date.getDay()))\n      return `${formatDate(weekStart)} ~ ${formatDate(weekEnd)}`\n    }\n    case 'monthly': {\n      const monthStart = new Date(date.getFullYear(), date.getMonth(), 1)\n      const monthEnd = new Date(date.getFullYear(), date.getMonth() + 1, 0)\n      return `${formatDate(monthStart)} ~ ${formatDate(monthEnd)}`\n    }\n    default:\n      return review.date\n  }\n}\n\n// 添加日期格式化函数\nconst formatDate = (date) => {\n  return date.toLocaleDateString('zh-CN', {\n    year: 'numeric',\n    month: '2-digit',\n    day: '2-digit'\n  }).replace(/\\//g, '-')\n}\n\n// 初始化\nonMounted(() => {\n  reviewStore.loadReviews()\n})\n</script>\n\n<style scoped>\n.reviews-container {\n  padding: 20px;\n}\n\n.page-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 24px;\n}\n\n.page-header h2 {\n  margin: 0;\n  font-size: 24px;\n  font-weight: 500;\n}\n\n.filter-section {\n  margin-bottom: 24px;\n}\n\n.review-item {\n  margin-bottom: 16px;\n}\n\n.review-item-header {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n}\n\n.review-title {\n  flex: 1;\n  font-weight: 500;\n  color: var(--el-text-color-primary);\n  font-size: 16px;\n  margin-left: 8px;  /* 调整标题与标签的间距 */\n}\n\n.review-actions {\n  display: flex;\n  gap: 8px;\n}\n\n.review-content {\n  padding: 8px 0;\n}\n\n.review-section {\n  margin-bottom: 12px;\n  text-align: left;  /* 添加左对齐 */\n}\n\n.review-section h4 {\n  margin: 0 0 8px 0;\n  color: var(--el-text-color-regular);\n  text-align: left;  /* 添加左对齐 */\n}\n\n.review-section p {\n  margin: 0;\n  color: var(--el-text-color-primary);\n  line-height: 1.5;\n  text-align: left;  /* 添加左对齐 */\n}\n\n.dialog-footer {\n  display: flex;\n  justify-content: flex-end;\n  gap: 12px;\n}\n\n/* 修改时间戳样式 */\n.el-timeline-item__timestamp {\n  font-size: 13px;\n  color: var(--el-text-color-secondary);\n  font-weight: normal;\n}\n\n/* 让时间范围在小屏幕上也能完整显示 */\n@media screen and (max-width: 768px) {\n  .el-timeline-item__timestamp {\n    word-break: keep-all;\n    white-space: nowrap;\n  }\n}\n\n/* 修改标签样式 */\n.el-tag {\n  min-width: 80px;  /* 减小标签宽度 */\n  padding: 0 12px;\n  text-align: center;\n  font-size: 13px;\n  height: 28px;\n  line-height: 26px;\n}\n</style> ","import script from \"./ReviewsView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ReviewsView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ReviewsView.vue?vue&type=style&index=0&id=f79f615c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-f79f615c\"]])\n\nexport default __exports__","import { defineStore } from 'pinia'\r\nimport dayjs from 'dayjs'\r\n\r\nexport const useTodoStore = defineStore('todo', {\r\n  state: () => ({\r\n    todos: JSON.parse(localStorage.getItem('todos') || '[]')\r\n  }),\r\n\r\n  actions: {\r\n    addTodo(todo) {\r\n      this.todos.push({\r\n        id: Date.now(),\r\n        text: todo.title,\r\n        completed: false,\r\n        category: todo.category || '其他目标',\r\n        priority: todo.priority || '中',\r\n        date: todo.date,\r\n        dueDate: todo.dueDate || null,\r\n        description: todo.description || '',\r\n        pomodoros: 0,\r\n        createdAt: Date.now()\r\n      })\r\n      this.saveTodos()\r\n    },\r\n\r\n    updateTodo(todo) {\r\n      const index = this.todos.findIndex(t => t.id === todo.id)\r\n      if (index !== -1) {\r\n        this.todos[index] = { ...this.todos[index], ...todo }\r\n        this.saveTodos()\r\n      }\r\n    },\r\n\r\n    toggleTodo(id, completed) {\r\n      const todo = this.todos.find(t => t.id === id)\r\n      if (todo) {\r\n        todo.completed = completed\r\n        this.saveTodos()\r\n      }\r\n    },\r\n\r\n    deleteTodo(id) {\r\n      const index = this.todos.findIndex(todo => todo.id === id)\r\n      if (index !== -1) {\r\n        this.todos.splice(index, 1)\r\n        this.saveTodos()\r\n      }\r\n    },\r\n\r\n    deleteTodosByDate(date) {\r\n      const dateStr = dayjs(date).format('YYYY-MM-DD')\r\n      this.todos = this.todos.filter(todo => todo.date !== dateStr)\r\n      this.saveTodos()\r\n    },\r\n\r\n    saveTodos() {\r\n      localStorage.setItem('todos', JSON.stringify(this.todos))\r\n    }\r\n  },\r\n\r\n  getters: {\r\n    getTodosByDate: (state) => (date) => {\r\n      const dateStr = dayjs(date).format('YYYY-MM-DD')\r\n      return state.todos.filter(todo => {\r\n        const todoDate = todo.date === dateStr\r\n        const todoDueDate = todo.dueDate && dayjs(todo.dueDate).format('YYYY-MM-DD') === dateStr\r\n        return todoDate || todoDueDate\r\n      })\r\n    },\r\n\r\n    activeTodos: (state) => {\r\n      return state.todos.filter(todo => !todo.completed)\r\n    },\r\n\r\n    completedTodos: (state) => {\r\n      return state.todos.filter(todo => todo.completed)\r\n    },\r\n\r\n    getTodosByCategory: (state) => (category) => {\r\n      return state.todos.filter(todo => todo.category === category)\r\n    }\r\n  }\r\n}) ","<template>\r\n  <div class=\"calendar-container\">\r\n    <a-calendar v-model:value=\"currentDate\">\r\n      <!-- 自定义头部，添加今天按钮 -->\r\n      <template #headerRender=\"{ value, type, onChange, onTypeChange }\">\r\n        <div class=\"calendar-header\">\r\n          <div class=\"calendar-header-left\">\r\n            <!-- 月份选择器 -->\r\n            <a-select\r\n              size=\"small\"\r\n              :value=\"value.month()\"\r\n              style=\"width: 80px; margin-right: 8px;\"\r\n              @change=\"(selectedMonth) => {\r\n                const newValue = value.clone().month(selectedMonth)\r\n                onChange(newValue)\r\n              }\"\r\n            >\r\n              <a-select-option v-for=\"i in 12\" :key=\"i-1\" :value=\"i-1\">\r\n                {{ i }}月\r\n              </a-select-option>\r\n            </a-select>\r\n            <!-- 年份选择器 -->\r\n            <a-select\r\n              size=\"small\"\r\n              :value=\"value.year()\"\r\n              style=\"width: 100px;\"\r\n              @change=\"(selectedYear) => {\r\n                const newValue = value.clone().year(selectedYear)\r\n                onChange(newValue)\r\n              }\"\r\n            >\r\n              <a-select-option v-for=\"i in 10\" :key=\"startYear + i\" :value=\"startYear + i\">\r\n                {{ startYear + i }}年\r\n              </a-select-option>\r\n            </a-select>\r\n          </div>\r\n          <div class=\"calendar-header-right\">\r\n            <!-- 视图切换 -->\r\n            <a-radio-group\r\n              size=\"small\"\r\n              :value=\"type\"\r\n              @change=\"e => onTypeChange(e.target.value)\"\r\n              style=\"margin-right: 8px;\"\r\n            >\r\n              <a-radio-button value=\"month\">月</a-radio-button>\r\n              <a-radio-button value=\"year\">年</a-radio-button>\r\n            </a-radio-group>\r\n            <!-- 今天按钮 -->\r\n            <a-button\r\n              type=\"primary\"\r\n              size=\"small\"\r\n              @click=\"() => {\r\n                const now = dayjs()\r\n                onChange(now)\r\n                currentDate = now\r\n              }\"\r\n            >\r\n              今天\r\n            </a-button>\r\n          </div>\r\n        </div>\r\n      </template>\r\n\r\n      <template #dateCellRender=\"{ current }\">\r\n        <div \r\n          class=\"date-cell\"\r\n          @contextmenu.prevent=\"handleContextMenu($event, current)\"\r\n        >\r\n          <!-- 日期信息容器 -->\r\n          <div class=\"date-info\">\r\n            <!-- 休息日标记 -->\r\n            <span v-if=\"isHoliday(current)\" class=\"holiday-mark\">休</span>\r\n            <!-- 公历日期 -->\r\n            <span class=\"solar-date\" :class=\"{ 'is-holiday': isHoliday(current) }\">\r\n              {{ current.date() }}\r\n            </span>\r\n            <!-- 农历日期 -->\r\n            <span class=\"lunar-date\">{{ getLunarDate(current) }}</span>\r\n          </div>\r\n          <!-- 待办事项列表 -->\r\n          <div class=\"todo-list\">\r\n            <div\r\n              v-for=\"item in getTodosByDate(current)\"\r\n              :key=\"item.id\"\r\n              class=\"todo-item\"\r\n              :class=\"[\r\n                item.priority, \r\n                { \r\n                  completed: item.completed,\r\n                  'due-date': isDueDate(current, item),\r\n                  'create-date': isCreateDate(current, item)\r\n                }\r\n              ]\"\r\n            >\r\n              <span class=\"todo-tag\" v-if=\"isDueDate(current, item)\">截止</span>\r\n              <span class=\"todo-tag\" v-if=\"isCreateDate(current, item)\">开始</span>\r\n              {{ item.text }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </template>\r\n    </a-calendar>\r\n\r\n    <!-- 右键菜单 -->\r\n    <div v-if=\"showContextMenu\" :style=\"contextMenuStyle\" class=\"context-menu\">\r\n      <div class=\"menu-item\" @click=\"handleAddTodo\">\r\n        <plus-outlined />\r\n        <span>添加待办事项</span>\r\n      </div>\r\n      <div \r\n        v-if=\"todoStore.getTodosByDate(selectedDate).length\"\r\n        class=\"menu-item\" \r\n        @click=\"handleViewTodos\"\r\n      >\r\n        <file-outlined />\r\n        <span>查看待办事项</span>\r\n      </div>\r\n      <div \r\n        v-if=\"todoStore.getTodosByDate(selectedDate).length\"\r\n        class=\"menu-item\" \r\n        @click=\"handleDeleteTodo\"\r\n      >\r\n        <delete-outlined />\r\n        <span>删除待办事项</span>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 添加待办事项对话框 -->\r\n    <a-modal\r\n      v-model:open=\"dialogVisible\"\r\n      :title=\"dragMode ? '批量添加待办事项' : '添加待办事项'\"\r\n      @ok=\"saveTodo\"\r\n      @cancel=\"dialogVisible = false\"\r\n    >\r\n      <a-form :model=\"todoForm\" layout=\"vertical\">\r\n        <a-form-item label=\"标题\" required>\r\n          <a-input v-model:value=\"todoForm.title\" placeholder=\"请输入待办事项标题\" />\r\n        </a-form-item>\r\n        \r\n        <a-form-item label=\"描述\">\r\n          <a-textarea\r\n            v-model:value=\"todoForm.description\"\r\n            :rows=\"3\"\r\n            placeholder=\"请输入详细描述\"\r\n          />\r\n        </a-form-item>\r\n        \r\n        <a-form-item label=\"优先级\">\r\n          <a-select v-model:value=\"todoForm.priority\">\r\n            <a-select-option value=\"高\">高</a-select-option>\r\n            <a-select-option value=\"中\">中</a-select-option>\r\n            <a-select-option value=\"低\">低</a-select-option>\r\n          </a-select>\r\n        </a-form-item>\r\n\r\n        <a-form-item label=\"分类\">\r\n          <a-select v-model:value=\"todoForm.category\">\r\n            <a-select-option value=\"工作目标\">工作目标</a-select-option>\r\n            <a-select-option value=\"学习目标\">学习目标</a-select-option>\r\n            <a-select-option value=\"生活目标\">生活目标</a-select-option>\r\n            <a-select-option value=\"其他目标\">其他目标</a-select-option>\r\n          </a-select>\r\n        </a-form-item>\r\n      </a-form>\r\n    </a-modal>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed } from 'vue'\r\nimport { message, Modal } from 'ant-design-vue'\r\nimport { \r\n  PlusOutlined, \r\n  FileOutlined, \r\n  DeleteOutlined \r\n} from '@ant-design/icons-vue'\r\nimport { useRouter } from 'vue-router'\r\nimport dayjs from 'dayjs'\r\nimport { Lunar } from 'lunar-javascript'\r\nimport { useTodoStore } from '@/stores/todo'\r\n\r\nconst router = useRouter()\r\nconst todoStore = useTodoStore()\r\n\r\nconst currentDate = ref(dayjs())\r\nconst dialogVisible = ref(false)\r\nconst showContextMenu = ref(false)\r\nconst contextMenuPosition = ref({ x: 0, y: 0 })\r\nconst selectedDate = ref(null)\r\nconst dragMode = ref(false)\r\nconst selectedDates = ref([])\r\n\r\nconst todoForm = ref({\r\n  title: '',\r\n  date: null,\r\n  description: '',\r\n  priority: '中',\r\n  category: '其他目标',\r\n  dueDate: null\r\n})\r\n\r\n// 计算起始年份（当前年份前5年）\r\nconst startYear = dayjs().year() - 5\r\n\r\n// 获取农历日期\r\nconst getLunarDate = (date) => {\r\n  try {\r\n    const lunar = Lunar.fromDate(date.toDate())\r\n    \r\n    // 获取节日\r\n    const festivals = lunar.getFestivals()\r\n    if (festivals.length > 0) {\r\n      return festivals[0]\r\n    }\r\n    \r\n    // 获取节气\r\n    const jieQi = lunar.getJieQi()\r\n    if (jieQi) {\r\n      return jieQi\r\n    }\r\n    \r\n    // 如果是初一，显示月份\r\n    if (lunar.getDay() === 1) {\r\n      return lunar.getMonthInChinese() + '月'\r\n    }\r\n    \r\n    // 其他日期显示农历日期\r\n    return lunar.getDayInChinese()\r\n  } catch (error) {\r\n    console.error('getLunarDate error:', error)\r\n    return ''\r\n  }\r\n}\r\n\r\n// 获取指定日期的待办事项\r\nconst getTodosByDate = (date) => {\r\n  return todoStore.getTodosByDate(date)\r\n}\r\n\r\n// 格式化日期范围\r\nconst formatDateRange = (dates) => {\r\n  if (!dates.length) return ''\r\n  return dates\r\n    .sort()\r\n    .map(date => dayjs(date).format('YYYY年MM月DD日'))\r\n    .join(' 至 ')\r\n}\r\n\r\n// 右键菜单样式\r\nconst contextMenuStyle = computed(() => ({\r\n  left: `${contextMenuPosition.value.x}px`,\r\n  top: `${contextMenuPosition.value.y}px`\r\n}))\r\n\r\n// 处理右键点击\r\nconst handleContextMenu = (e, date) => {\r\n  e.preventDefault()\r\n  showContextMenu.value = true\r\n  contextMenuPosition.value = {\r\n    x: Math.min(e.clientX, window.innerWidth - 200),\r\n    y: Math.min(e.clientY, window.innerHeight - 150)\r\n  }\r\n  selectedDate.value = date\r\n  dragMode.value = false\r\n  selectedDates.value = [date]\r\n}\r\n\r\n// 添加待办事项\r\nconst handleAddTodo = () => {\r\n  todoForm.value = {\r\n    title: '',\r\n    description: '',\r\n    priority: '中',\r\n    category: '其他目标',\r\n    date: dayjs(selectedDate.value).format('YYYY-MM-DD'),\r\n    dueDate: null\r\n  }\r\n  dialogVisible.value = true\r\n  showContextMenu.value = false\r\n}\r\n\r\n// 查看待办事项\r\nconst handleViewTodos = () => {\r\n  router.push('/todos')\r\n  showContextMenu.value = false\r\n}\r\n\r\n// 删除待办事项\r\nconst handleDeleteTodo = () => {\r\n  Modal.confirm({\r\n    title: '确认删除',\r\n    content: '确定要删除这天的所有待办事项吗？',\r\n    onOk: () => {\r\n      todoStore.deleteTodosByDate(selectedDate.value)\r\n      message.success('删除成功')\r\n      showContextMenu.value = false\r\n    }\r\n  })\r\n}\r\n\r\n// 保存待办事项\r\nconst saveTodo = () => {\r\n  if (!todoForm.value.title) {\r\n    message.warning('请输入待办事项标题')\r\n    return\r\n  }\r\n\r\n  todoStore.addTodo(todoForm.value)\r\n  message.success('添加成功')\r\n  dialogVisible.value = false\r\n}\r\n\r\n// 重置表单\r\nconst resetForm = () => {\r\n  todoForm.value = {\r\n    title: '',\r\n    date: null,\r\n    description: '',\r\n    priority: '中',\r\n    category: '其他目标',\r\n    dueDate: null\r\n  }\r\n  selectedDates.value = []\r\n}\r\n\r\n// 点击外部关闭右键菜单\r\nconst handleClickOutside = (e) => {\r\n  if (showContextMenu.value && !e.target.closest('.context-menu')) {\r\n    showContextMenu.value = false\r\n  }\r\n}\r\n\r\n// 监听点击事件\r\nwindow.addEventListener('click', handleClickOutside)\r\n\r\n// 判断是否为节假日（周末或法定节假日）\r\nconst isHoliday = (date) => {\r\n  // 判断是否为周末\r\n  const isWeekend = date.day() === 0 || date.day() === 6\r\n  \r\n  // 获取农历信息\r\n  const lunar = Lunar.fromDate(date.toDate())\r\n  const festivals = lunar.getFestivals()\r\n  \r\n  // 法定节假日列表（可以根据实际需求扩展）\r\n  const legalHolidays = [\r\n    '春节',\r\n    '元宵节',\r\n    '清明节',\r\n    '劳动节',\r\n    '端午节',\r\n    '中秋节',\r\n    '国庆节'\r\n  ]\r\n  \r\n  // 判断是否为法定节假日\r\n  const isLegalHoliday = festivals.some(festival => \r\n    legalHolidays.some(holiday => festival.includes(holiday))\r\n  )\r\n  \r\n  return isWeekend || isLegalHoliday\r\n}\r\n\r\n// 判断是否为截止日期\r\nconst isDueDate = (date, todo) => {\r\n  if (!todo.dueDate) return false\r\n  return dayjs(todo.dueDate).format('YYYY-MM-DD') === dayjs(date).format('YYYY-MM-DD')\r\n}\r\n\r\n// 判断是否为创建日期\r\nconst isCreateDate = (date, todo) => {\r\n  if (!todo.date) return false\r\n  return todo.date === dayjs(date).format('YYYY-MM-DD')\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.calendar-container {\r\n  padding: 20px;\r\n  background: #fff;\r\n  border-radius: 4px;\r\n}\r\n\r\n.date-cell {\r\n  position: relative;\r\n  min-height: 80px;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n/* 日期信息容器样式 */\r\n.date-info {\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 4px 0;\r\n  min-height: 48px; /* 确保有足够的高度显示两行文字 */\r\n}\r\n\r\n/* 休息日标记样式 */\r\n.holiday-mark {\r\n  position: absolute;\r\n  top: 4px;\r\n  left: 4px;\r\n  font-size: 12px;\r\n  color: #f5222d;\r\n  font-weight: bold;\r\n}\r\n\r\n/* 公历日期样式 */\r\n.solar-date {\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  line-height: 1.5;\r\n  color: rgba(0, 0, 0, 0.85);\r\n}\r\n\r\n/* 节假日公历日期样式 */\r\n.solar-date.is-holiday {\r\n  color: #f5222d;\r\n  font-weight: bold;\r\n}\r\n\r\n/* 农历日期样式 */\r\n.lunar-date {\r\n  font-size: 12px;\r\n  line-height: 1.5;\r\n  color: rgba(0, 0, 0, 0.45);\r\n  margin-top: 2px;\r\n}\r\n\r\n/* 待办事项列表容器 */\r\n.todo-list {\r\n  flex: 1;\r\n  margin-top: 4px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.todo-item {\r\n  padding: 2px 4px;\r\n  margin: 2px 0;\r\n  font-size: 12px;\r\n  border-radius: 2px;\r\n  background: #f0f5ff;\r\n  color: #1890ff;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n}\r\n\r\n/* 截止日期待办项样式 */\r\n.todo-item.due-date {\r\n  background: #fff2e8;\r\n  color: #fa541c;\r\n  border-left: 2px solid #fa541c;\r\n}\r\n\r\n/* 创建日期待办项样式 */\r\n.todo-item.create-date {\r\n  background: #f6ffed;\r\n  color: #52c41a;\r\n  border-left: 2px solid #52c41a;\r\n}\r\n\r\n/* 标签样式 */\r\n.todo-tag {\r\n  font-size: 10px;\r\n  padding: 0 4px;\r\n  border-radius: 2px;\r\n  background: rgba(0, 0, 0, 0.1);\r\n  color: inherit;\r\n}\r\n\r\n/* 优先级样式 */\r\n.todo-item.高 {\r\n  background: #fff1f0;\r\n  color: #f5222d;\r\n}\r\n\r\n.todo-item.中 {\r\n  background: #fff7e6;\r\n  color: #fa8c16;\r\n}\r\n\r\n.todo-item.低 {\r\n  background: #f6ffed;\r\n  color: #52c41a;\r\n}\r\n\r\n/* 完成状态样式 */\r\n.todo-item.completed {\r\n  text-decoration: line-through;\r\n  opacity: 0.6;\r\n}\r\n\r\n/* 当同时具有多个状态时的样式 */\r\n.todo-item.completed.due-date,\r\n.todo-item.completed.create-date {\r\n  opacity: 0.4;\r\n}\r\n\r\n/* 确保待办事项列表容器可以容纳多个待办项 */\r\n.todo-list {\r\n  max-height: 80px;\r\n  overflow-y: auto;\r\n  padding: 2px;\r\n}\r\n\r\n/* 美化滚动条 */\r\n.todo-list::-webkit-scrollbar {\r\n  width: 4px;\r\n}\r\n\r\n.todo-list::-webkit-scrollbar-track {\r\n  background: transparent;\r\n}\r\n\r\n.todo-list::-webkit-scrollbar-thumb {\r\n  background: rgba(0, 0, 0, 0.1);\r\n  border-radius: 2px;\r\n}\r\n\r\n.context-menu {\r\n  position: fixed;\r\n  background: white;\r\n  border: 1px solid #f0f0f0;\r\n  border-radius: 2px;\r\n  padding: 4px 0;\r\n  box-shadow: 0 3px 6px -4px rgba(0,0,0,.12);\r\n  z-index: 1050;\r\n  min-width: 160px;\r\n}\r\n\r\n.menu-item {\r\n  padding: 5px 12px;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  transition: all 0.3s;\r\n}\r\n\r\n.menu-item:hover {\r\n  background: #f5f5f5;\r\n}\r\n\r\n.menu-item .anticon {\r\n  margin-right: 8px;\r\n}\r\n\r\n.selected-dates {\r\n  color: rgba(0, 0, 0, 0.45);\r\n}\r\n\r\n/* 今天的日期特殊样式 */\r\n:deep(.ant-picker-calendar-date-today) .solar-date {\r\n  color: #1890ff;\r\n  font-weight: bold;\r\n}\r\n\r\n:deep(.ant-picker-calendar-date-today) .solar-date.is-holiday {\r\n  color: #f5222d;\r\n}\r\n\r\n:deep(.ant-picker-calendar-date-today) .lunar-date {\r\n  color: #1890ff;\r\n}\r\n\r\n/* 选中日期的样式 */\r\n:deep(.ant-picker-calendar-date-selected) .date-info {\r\n  background: #e6f7ff;\r\n  border-radius: 2px;\r\n}\r\n\r\n/* 日历头部样式 */\r\n.calendar-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 12px 0;\r\n}\r\n\r\n.calendar-header-left,\r\n.calendar-header-right {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n/* 确保下拉菜单在其他元素之上 */\r\n:deep(.ant-select-dropdown) {\r\n  z-index: 1100;\r\n}\r\n</style> ","import script from \"./CalendarView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CalendarView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./CalendarView.vue?vue&type=style&index=0&id=3021e2fb&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3021e2fb\"]])\n\nexport default __exports__","<template>\n  <div class=\"ai-chat-container\">\n    <!-- 左侧边栏 -->\n    <div class=\"sidebar\">\n      <!-- 新建对话按钮 -->\n      <el-button \n        type=\"primary\" \n        class=\"new-chat-btn\"\n        @click=\"createNewChat\"\n      >\n        <el-icon><Plus /></el-icon>\n        新建对话\n      </el-button>\n\n      <!-- 模型选择 -->\n      <div class=\"model-selector\">\n        <el-select \n          v-model=\"currentModel\" \n          class=\"model-select\"\n          popper-class=\"model-select-dropdown\"\n        >\n          <el-option\n            v-for=\"option in modelOptions\"\n            :key=\"option.value\"\n            :label=\"option.label\"\n            :value=\"option.value\"\n          >\n            <div class=\"model-option\">\n              <div class=\"model-info\">\n                <div class=\"model-name\">{{ option.label }}</div>\n                <div class=\"model-desc\">{{ option.description }}</div>\n              </div>\n              <el-tag size=\"small\" type=\"info\" v-if=\"option.tag\">\n                {{ option.tag }}\n              </el-tag>\n            </div>\n          </el-option>\n        </el-select>\n      </div>\n\n      <!-- 历史记录列表 -->\n      <div class=\"chat-history\">\n        <div\n          v-for=\"(chat, index) in filteredHistory\"\n          :key=\"chat.id\"\n          class=\"history-item\"\n          :class=\"{ active: currentChatId === chat.id }\"\n          @click=\"loadChat(chat)\"\n        >\n          <div class=\"history-content\">\n            <el-icon><ChatRound /></el-icon>\n            <div class=\"chat-title-wrapper\">\n              <template v-if=\"editingChatId === chat.id\">\n                <el-input\n                  v-model=\"editingTitle\"\n                  size=\"small\"\n                  @click.stop\n                  @keyup.enter=\"saveTitle(chat)\"\n                  @blur=\"handleBlur(chat)\"\n                  ref=\"titleInputRef\"\n                  :autofocus=\"true\"\n                />\n              </template>\n              <span v-else class=\"chat-title\">{{ chat.title }}</span>\n            </div>\n          </div>\n          <div class=\"history-actions\">\n            <el-button \n              link \n              size=\"small\"\n              @click.stop=\"startEditTitle(chat)\"\n            >\n              <el-icon><Edit /></el-icon>\n            </el-button>\n            <el-button \n              link \n              type=\"danger\" \n              size=\"small\"\n              @click.stop=\"deleteChat(index)\"\n            >\n              <el-icon><Delete /></el-icon>\n            </el-button>\n          </div>\n        </div>\n      </div>\n\n      <!-- 底部设置按钮 -->\n      <div class=\"sidebar-footer\">\n        <el-button \n          link \n          @click=\"showSettings = true\"\n        >\n          <el-icon><Setting /></el-icon>\n          设置\n        </el-button>\n      </div>\n    </div>\n\n    <!-- 右侧对话区域 -->\n    <div class=\"chat-area\">\n      <!-- 对话内容 -->\n      <div class=\"messages\" ref=\"messagesContainer\">\n        <div class=\"messages-wrapper\" v-if=\"currentChat.messages.length\">\n          <!-- 当前模型标记 -->\n          <div class=\"model-indicator\">\n            <el-tag size=\"small\" effect=\"plain\">\n              {{ getModelLabel(currentChat.currentModel || currentModel.value) }}\n            </el-tag>\n          </div>\n\n          <template v-for=\"(message, index) in currentChat.messages\" :key=\"index\">\n            <!-- 模型切换标记 -->\n            <template v-if=\"message.modelSwitch\">\n              <div class=\"model-switch-divider\">\n                <div class=\"divider-line\"></div>\n                <el-tag size=\"small\" effect=\"plain\">\n                  切换至 {{ getModelLabel(message.modelSwitch) }}\n                </el-tag>\n                <div class=\"divider-line\"></div>\n              </div>\n            </template>\n            <div\n              v-else\n              :class=\"['message', message.role, { selected: selectedMessages.includes(message) }]\"\n              @contextmenu.prevent=\"showContextMenu($event, message, index)\"\n            >\n              <div class=\"message-avatar\">\n                <el-avatar \n                  :size=\"36\"\n                  :src=\"message.role === 'user' ? userAvatar : aiAvatar\"\n                />\n              </div>\n              <div class=\"message-body\">\n                <div class=\"message-header\">\n                  <span class=\"message-role\">{{ message.role === 'user' ? '用户' : 'AI' }}</span>\n                </div>\n                <div class=\"message-content\" v-html=\"formatMessage(message.content)\" />\n              </div>\n            </div>\n          </template>\n        </div>\n        <div v-else class=\"empty-chat\">\n          <div class=\"empty-icon\">\n            <el-icon :size=\"48\"><ChatRound /></el-icon>\n          </div>\n          <h2>开始新对话</h2>\n          <p>选择模型并输入问题开始对话</p>\n        </div>\n      </div>\n\n      <!-- 输入区域 -->\n      <div class=\"input-area\">\n        <div class=\"input-container\">\n          <el-input\n            v-model=\"userInput\"\n            type=\"textarea\"\n            :rows=\"3\"\n            :placeholder=\"inputPlaceholder\"\n            resize=\"none\"\n            @keyup.enter.ctrl=\"sendMessage\"\n          />\n          <el-button \n            class=\"send-btn\"\n            type=\"primary\" \n            :loading=\"loading\"\n            @click=\"sendMessage\"\n          >\n            发送\n          </el-button>\n        </div>\n        <div class=\"input-tip\">\n          按 Ctrl + Enter 发送\n        </div>\n      </div>\n    </div>\n\n    <!-- 设置对话框 -->\n    <el-dialog\n      v-model=\"showSettings\"\n      title=\"模型设置\"\n      width=\"500px\"\n    >\n      <el-tabs>\n        <el-tab-pane \n          v-for=\"option in modelOptions\" \n          :key=\"option.value\"\n          :label=\"option.label\"\n        >\n          <el-form label-width=\"100px\">\n            <el-form-item label=\"API地址\">\n              <el-input \n                v-model=\"modelSettings.apiUrls[option.value]\" \n                placeholder=\"请输入API地址\"\n              />\n            </el-form-item>\n            <el-form-item label=\"API密钥\">\n              <el-input \n                v-model=\"modelSettings.apiKeys[option.value]\" \n                type=\"password\" \n                placeholder=\"请输入API密钥\"\n                show-password\n              />\n            </el-form-item>\n          </el-form>\n        </el-tab-pane>\n      </el-tabs>\n      <el-divider>通用设置</el-divider>\n      <el-form label-width=\"200px\">\n        <el-form-item label=\"自动总结对话标题\">\n          <el-switch\n            v-model=\"modelSettings.autoSummarize\"\n            active-text=\"开启\"\n            inactive-text=\"关闭\"\n          />\n        </el-form-item>\n      </el-form>\n      <template #footer>\n        <span class=\"dialog-footer\">\n          <el-button @click=\"showSettings = false\">取消</el-button>\n          <el-button type=\"primary\" @click=\"saveSettings\">保存</el-button>\n        </span>\n      </template>\n    </el-dialog>\n\n    <!-- Apple风格右键菜单 -->\n    <div v-if=\"contextMenu.visible\" \n         class=\"context-menu\" \n         :style=\"{ top: contextMenu.y + 'px', left: contextMenu.x + 'px' }\"\n    >\n      <ul>\n        <li @click=\"copyMessage(contextMenu.message?.content)\">\n          <el-icon><Document /></el-icon>\n          <span>复制</span>\n        </li>\n        <li @click=\"toggleMessageSelection(contextMenu.message)\">\n          <el-icon><Select /></el-icon>\n          <span>{{ selectedMessages.includes(contextMenu.message) ? '取消选择' : '选择' }}</span>\n        </li>\n        <li v-if=\"selectedMessages.length > 0\" @click=\"downloadAsImage\">\n          <el-icon><Download /></el-icon>\n          <span>下载选中消息</span>\n        </li>\n        <li class=\"danger\" @click=\"deleteMessage(contextMenu.index)\">\n          <el-icon><Delete /></el-icon>\n          <span>删除</span>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted, watch, nextTick } from 'vue'\nimport { formatDistanceToNow } from 'date-fns'\nimport { zhCN } from 'date-fns/locale'\nimport { Setting, Plus, ChatRound, Delete, Document, Select, Download, Edit } from '@element-plus/icons-vue'\nimport { marked } from 'marked'\nimport { ElMessage } from 'element-plus'\nimport html2canvas from 'html2canvas'\n\n// 基础变量\nconst searchQuery = ref('')\nconst userInput = ref('')\nconst loading = ref(false)\nconst currentChatId = ref(null)\nconst messagesContainer = ref(null)\nconst showSettings = ref(false)\n\nconst userAvatar = 'https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png'\nconst aiAvatar = 'https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png'\n\n// 聊天历史记录\nconst chatHistory = ref([])\n\n// 当前聊天\nconst currentChat = ref({\n  id: null,\n  title: '',\n  time: new Date(),\n  messages: [],\n  currentModel: null  // 添加当前模型字段\n})\n\n// 过滤后的历史记录\nconst filteredHistory = computed(() => {\n  if (!searchQuery.value) return chatHistory.value\n  return chatHistory.value.filter(chat => \n    chat.title.toLowerCase().includes(searchQuery.value.toLowerCase())\n  )\n})\n\n// 格式化时间\nconst formatTime = (time) => {\n  return formatDistanceToNow(new Date(time), { addSuffix: true, locale: zhCN })\n}\n\n// 加载聊天记录\nconst loadChat = (chat) => {\n  currentChatId.value = chat.id\n  currentChat.value = JSON.parse(JSON.stringify(chat))\n  // 如果有历史模型记录，设置为当前模型\n  if (currentChat.value.currentModel) {\n    currentModel.value = currentChat.value.currentModel\n  } else {\n    // 如果没有历史模型记录，设置默认模型\n    currentChat.value.currentModel = currentModel.value\n  }\n  // 等待DOM更新后滚动到底部\n  nextTick(() => {\n    if (messagesContainer.value) {\n      messagesContainer.value.scrollTop = messagesContainer.value.scrollHeight\n    }\n  })\n}\n\n// 模型相关配置\nconst modelOptions = ref([\n  { \n    label: 'kimi', \n    value: 'kimi',\n    model: 'moonshot-v1-8k',\n    type: 'kimi',\n    description: '适用于大多数问题',\n    tag: '推荐',\n    systemPrompt: '你是 Kimi，由 Moonshot AI 提供的人工智能助手，你更擅长中文和英文的对话。你会为用户提供安全，有帮助，准确的回答。同时，你会拒绝一切涉及恐怖主义，种族歧视，黄色暴力等问题的回答。Moonshot AI 为专有名词，不可翻译成其他语言。'\n  },\n  { \n    label: 'DeepSeek', \n    value: 'deepseek',\n    model: 'deepseek-r1:latest',\n    type: 'deepseek',\n    description: '快速进行高级推理',\n    systemPrompt: 'You are a helpful assistant.'\n  },\n  {\n    label: '通义千问Plus',\n    value: 'qwen',\n    model: 'qwen-plus',\n    type: 'qwen',\n    description: '擅长编码和逻辑推理',\n    systemPrompt: 'You are a helpful assistant.'\n  }\n])\n\n// 必须在 modelOptions 后声明\nconst currentModel = ref(modelOptions.value[0].value)\n\nconst modelSettings = ref({\n  apiUrls: {\n    kimi: 'https://api.moonshot.cn/v1/chat/completions',\n    deepseek: 'http://localhost:8888/api/generate',\n    qwen: 'https://dashscope.aliyuncs.com/compatible-mode/v1'\n  },\n  apiKeys: {\n    kimi: '',\n    deepseek: '',\n    qwen: ''\n  },\n  autoSummarize: true  // 默认开启自动总结\n})\n\n// 添加保存设置的方法\nconst saveSettings = () => {\n  localStorage.setItem('modelSettings', JSON.stringify(modelSettings.value))\n  showSettings.value = false\n}\n\n// 添加自动总结标题的函数\nconst generateTitle = async (messages) => {\n  const currentModelConfig = modelOptions.value.find(m => m.value === currentModel.value)\n  try {\n    const response = await fetch('/api/kimi/chat/completions', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${modelSettings.value.apiKeys.kimi}`\n      },\n      body: JSON.stringify({\n        model: 'moonshot-v1-8k',\n        messages: [\n          {\n            role: 'system',\n            content: '你是一个对话标题生成助手。请根据用户的对话内容，生成一个10字以内的简短标题，直接返回标题文本，不要包含任何其他内容。'\n          },\n          {\n            role: 'user',\n            content: `请为以下对话生成一个10字以内的标题：\\n${messages.map(m => `${m.role}: ${m.content}`).join('\\n')}`\n          }\n        ],\n        temperature: 0.3,\n        stream: false\n      })\n    });\n\n    const result = await response.json();\n    return result.choices[0].message.content.trim();\n  } catch (error) {\n    console.error('生成标题失败:', error);\n    return null;\n  }\n}\n\n// 修改sendMessage函数\nconst sendMessage = async () => {\n  if (!userInput.value.trim() || loading.value) return\n\n  const message = userInput.value\n  userInput.value = ''\n  \n  const isNewChat = !currentChat.value.id\n  if (isNewChat) {\n    currentChat.value = {\n      id: Date.now(),\n      title: message.length <= 10 ? message : '新对话',\n      time: new Date(),\n      messages: [],\n      currentModel: currentModel.value  // 记录初始模型\n    }\n    chatHistory.value.unshift(JSON.parse(JSON.stringify(currentChat.value)))\n    // 保存新建的对话\n    localStorage.setItem('chatHistory', JSON.stringify(chatHistory.value))\n    currentChatId.value = currentChat.value.id\n  }\n\n  // 检查是否切换了模型\n  if (currentChat.value.currentModel !== currentModel.value) {\n    // 添加模型切换标记\n    currentChat.value.messages.push({\n      modelSwitch: currentModel.value,\n      role: 'system'  // 使用role标记系统消息\n    })\n    // 更新当前模型\n    currentChat.value.currentModel = currentModel.value\n    // 保存模型切换\n    saveChat()\n  }\n\n  // 添加用户消息\n  currentChat.value.messages.push({\n    role: 'user',\n    content: message,\n    model: currentModel.value  // 记录消息使用的模型\n  })\n  // 保存用户消息\n  saveChat()\n\n  loading.value = true\n  try {\n    const currentModelConfig = modelOptions.value.find(m => m.value === currentModel.value)\n    const assistantMessage = {\n      role: 'assistant',\n      content: ''\n    }\n    currentChat.value.messages.push(assistantMessage)\n    // 保存空的AI消息\n    saveChat()\n\n    // 定义发送给API的消息数组（不包含空的assistant消息）\n    const apiMessages = [\n      {\n        role: 'system',\n        content: currentModelConfig.systemPrompt\n      },\n      ...currentChat.value.messages.filter(msg => msg.role !== 'assistant' || msg.content !== '')\n    ];\n\n    let response;\n    if (currentModelConfig.type === 'kimi') {\n      // Moonshot API\n      response = await fetch('/api/kimi/chat/completions', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${modelSettings.value.apiKeys.kimi}`\n        },\n        body: JSON.stringify({\n          model: 'moonshot-v1-8k',\n          messages: apiMessages,\n          temperature: 0.3,\n          stream: true\n        })\n      });\n    } else if (currentModelConfig.type === 'qwen') {\n      // 通义千问 API\n      response = await fetch('/api/qwen/chat/completions', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${modelSettings.value.apiKeys.qwen}`\n        },\n        body: JSON.stringify({\n          model: currentModelConfig.model,\n          messages: apiMessages,\n          stream: true\n        })\n      });\n    } else if (currentModelConfig.type === 'deepseek') {\n      // SiliconFlow API\n      response = await fetch('/api/deepseek/chat/completions', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${modelSettings.value.apiKeys.deepseek}`\n        },\n        body: JSON.stringify({\n          model: currentModelConfig.model,\n          messages: apiMessages,\n          stream: true,\n          max_tokens: 512,\n          temperature: 0.7,\n          top_p: 0.7,\n          top_k: 50,\n          frequency_penalty: 0.5\n        })\n      });\n    }\n\n    // 确保滚动到最新消息\n    await nextTick()\n    if (messagesContainer.value) {\n      const lastMessage = messagesContainer.value.lastElementChild\n      if (lastMessage) {\n        lastMessage.scrollIntoView({ behavior: 'smooth', block: 'end' })\n      }\n    }\n\n    // 处理流式响应\n    const reader = response.body.getReader();\n    const decoder = new TextDecoder();\n\n    let isDone = false;\n    while (!isDone) {\n      const { done, value } = await reader.read();\n      isDone = done;\n      \n      if (!value) continue;\n      \n      const chunk = decoder.decode(value);\n      const lines = chunk.split('\\n');\n      \n      for (const line of lines) {\n        if (line.startsWith('data: ')) {\n          try {\n            const jsonData = JSON.parse(line.slice(6));\n            if (jsonData.choices?.[0]?.delta?.content) {\n              assistantMessage.content += jsonData.choices[0].delta.content;\n              // 每收到一块内容就保存一次\n              saveChat()\n            }\n          } catch (e) {\n            console.warn('Failed to parse streaming data:', e);\n          }\n        }\n      }\n    }\n\n    // 如果是新对话且开启了自动总结，且初始消息超过10个字才需要生成标题\n    if (isNewChat && modelSettings.value.autoSummarize && message.length > 10) {\n      const title = await generateTitle(currentChat.value.messages)\n      if (title) {\n        currentChat.value.title = title\n        const chatIndex = chatHistory.value.findIndex(chat => chat.id === currentChat.value.id)\n        if (chatIndex !== -1) {\n          chatHistory.value[chatIndex].title = title\n          // 保存更新后的标题\n          saveChat()\n        }\n      }\n    }\n  } catch (error) {\n    console.error('Error:', error);\n    currentChat.value.messages = currentChat.value.messages.filter(msg => msg.content !== '');\n    currentChat.value.messages.push({\n      role: 'assistant',\n      content: '抱歉，发生了错误，请稍后重试。'\n    });\n    // 保存错误消息\n    saveChat()\n  } finally {\n    loading.value = false;\n  }\n};\n\n// 添加保存聊天记录的辅助函数\nconst saveChat = () => {\n  // 更新历史记录中的当前聊天\n  const index = chatHistory.value.findIndex(chat => chat.id === currentChat.value.id)\n  if (index !== -1) {\n    chatHistory.value[index] = JSON.parse(JSON.stringify(currentChat.value))\n    // 保存到本地存储\n    localStorage.setItem('chatHistory', JSON.stringify(chatHistory.value))\n  }\n}\n\n// 删除聊天记录\nconst deleteChat = (index) => {\n  const chatId = chatHistory.value[index].id\n  chatHistory.value.splice(index, 1)\n  // 保存更改\n  localStorage.setItem('chatHistory', JSON.stringify(chatHistory.value))\n  if (currentChatId.value === chatId) {\n    currentChat.value = { id: null, title: '', time: new Date(), messages: [], currentModel: null }\n    currentChatId.value = null\n  }\n}\n\n// 组件挂载时从本地存储加载历史记录和设置\nonMounted(() => {\n  const savedHistory = localStorage.getItem('chatHistory')\n  if (savedHistory) {\n    chatHistory.value = JSON.parse(savedHistory)\n    // 如果有当前聊天ID，加载对应的聊天记录\n    if (currentChatId.value) {\n      const chat = chatHistory.value.find(c => c.id === currentChatId.value)\n      if (chat) {\n        currentChat.value = JSON.parse(JSON.stringify(chat))\n      }\n    }\n  }\n  \n  // 加载已保存的设置或使用环境变量\n  const savedSettings = localStorage.getItem('modelSettings')\n  if (savedSettings) {\n    modelSettings.value = JSON.parse(savedSettings)\n  } else {\n    // 如果没有保存的设置，使用环境变量\n    if (process.env.VUE_APP_KIMI_API_KEY) {\n      modelSettings.value.apiKeys.kimi = process.env.VUE_APP_KIMI_API_KEY\n    }\n  }\n\n  // 监听点击事件关闭菜单\n  document.addEventListener('click', () => {\n    contextMenu.value.visible = false\n  })\n})\n\n// 创建新对话\nconst createNewChat = () => {\n  const now = new Date();\n  const formattedDate = `${now.getMonth() + 1}月${now.getDate()}日 ${now.getHours()}:${now.getMinutes()}`;\n  currentChat.value = {\n    id: Date.now(),\n    title: `新对话 - ${formattedDate}`,\n    time: new Date(),\n    messages: [],\n    currentModel: currentModel.value  // 记录初始模型\n  }\n  chatHistory.value.unshift(JSON.parse(JSON.stringify(currentChat.value)))\n  currentChatId.value = currentChat.value.id\n}\n\n// 使用 marked 格式化消息\nconst formatMessage = (content) => {\n  if (!content) return ''\n  \n  // 预处理原始内容，处理连续的换行\n  content = content\n    // 移除开头的空行\n    .replace(/^\\s+/, '')\n    // 移除结尾的空行\n    .replace(/\\s+$/, '')\n    // 将连续3个以上换行替换为2个换行\n    .replace(/\\n{3,}/g, '\\n\\n')\n    // 移除每行开头和结尾的空白字符\n    .replace(/^[ \\t]+|[ \\t]+$/gm, '')\n\n  // 使用marked处理markdown\n  let formattedContent = marked(content)\n  \n  // 处理多余的空行和格式\n  formattedContent = formattedContent\n    // 替换连续的多个空行为单个空行\n    .replace(/\\n\\s*\\n\\s*\\n/g, '\\n\\n')\n    // 移除段落标签之间的多余空行\n    .replace(/<\\/p>\\s*\\n+\\s*<p>/g, '</p><p>')\n    // 移除代码块前后的多余空行\n    .replace(/\\n+<pre>/g, '\\n<pre>')\n    .replace(/<\\/pre>\\n+/g, '</pre>\\n')\n    // 移除列表项之间的多余空行\n    .replace(/<\\/li>\\s*\\n+\\s*<li>/g, '</li><li>')\n    // 移除段落内部的多余空格\n    .replace(/>(\\s|&nbsp;)+</g, '><')\n    // 处理代码块内的格式\n    .replace(/<pre><code>([\\s\\S]*?)<\\/code><\\/pre>/g, (match, p1) => {\n      // 移除代码块中多余的空行，但保留缩进\n      const code = p1\n        .replace(/\\n{3,}/g, '\\n\\n')\n        .replace(/^\\s+|\\s+$/g, '')\n      return `<pre><code>${code}</code></pre>`\n    })\n  \n  return formattedContent\n}\n\n// 输入框提示\nconst inputPlaceholder = computed(() => {\n  const model = modelOptions.value.find(m => m.value === currentModel.value)\n  return model ? `使用 ${model.label} 提问...` : '请选择模型并输入问题...'\n})\n\n// 添加复制功能\nconst copyMessage = (content) => {\n  navigator.clipboard.writeText(content).then(() => {\n    ElMessage({\n      message: '复制成功',\n      type: 'success',\n      duration: 2000\n    })\n  }).catch(() => {\n    ElMessage({\n      message: '复制失败，请手动复制',\n      type: 'error',\n      duration: 2000\n    })\n  })\n}\n\n// 多选相关状态\nconst isSelectMode = ref(false)\nconst selectedMessages = ref([])\n\n// 切换选择模式\nconst toggleSelectMode = () => {\n  isSelectMode.value = !isSelectMode.value\n  if (!isSelectMode.value) {\n    selectedMessages.value = []\n  }\n}\n\n// 切换消息选择状态\nconst toggleMessageSelection = (message) => {\n  const index = selectedMessages.value.indexOf(message)\n  if (index === -1) {\n    selectedMessages.value.push(message)\n  } else {\n    selectedMessages.value.splice(index, 1)\n  }\n}\n\n// 删除单条消息\nconst deleteMessage = (index) => {\n  currentChat.value.messages.splice(index, 1)\n  saveChat()  // 保存更改\n}\n\n// 下载选中消息为图片\nconst downloadAsImage = async () => {\n  if (!selectedMessages.value.length) return\n  \n  // 创建临时容器\n  const container = document.createElement('div')\n  container.className = 'messages-container'\n  \n  // 添加选中的消息\n  selectedMessages.value.forEach(message => {\n    const messageDiv = document.createElement('div')\n    messageDiv.className = `message ${message.role}`\n    messageDiv.innerHTML = `\n      <div class=\"message-header\">\n        <span class=\"message-role\">${message.role === 'user' ? '用户' : 'AI'}</span>\n      </div>\n      <div class=\"message-content\">${formatMessage(message.content)}</div>\n    `\n    container.appendChild(messageDiv)\n  })\n  \n  // 添加到文档中\n  document.body.appendChild(container)\n  \n  try {\n    const canvas = await html2canvas(container, {\n      backgroundColor: '#ffffff'\n    })\n    \n    const link = document.createElement('a')\n    link.download = `chat-${Date.now()}.png`\n    link.href = canvas.toDataURL()\n    link.click()\n  } catch (error) {\n    console.error('Failed to generate image:', error)\n    ElMessage.error('生成图片失败')\n  } finally {\n    document.body.removeChild(container)\n  }\n}\n\n// 右键菜单相关\nconst contextMenu = ref({\n  visible: false,\n  x: 0,\n  y: 0,\n  message: null,\n  index: -1\n})\n\nconst contextMenuStyle = computed(() => ({\n  position: 'fixed',\n  left: contextMenu.value.x + 'px',\n  top: contextMenu.value.y + 'px',\n  display: contextMenu.value.visible ? 'block' : 'none'\n}))\n\nconst showContextMenu = (event, message, index) => {\n  contextMenu.value = {\n    visible: true,\n    x: event.clientX,\n    y: event.clientY,\n    message,\n    index\n  }\n}\n\n// 获取模型显示名称\nconst getModelLabel = (modelValue) => {\n  const model = modelOptions.value.find(m => m.value === modelValue) || modelOptions.value[0]\n  return model ? model.label : modelValue\n}\n\n// 修改编辑标题相关的状态\nconst editingChatId = ref(null)\nconst editingTitle = ref('')\n\n// 修改开始编辑标题的函数\nconst startEditTitle = (chat) => {\n  editingChatId.value = chat.id\n  editingTitle.value = chat.title\n}\n\n// 添加处理失焦事件的函数\nconst handleBlur = (chat) => {\n  // 给一个小延时，确保点击事件能够正确处理\n  setTimeout(() => {\n    saveTitle(chat)\n  }, 100)\n}\n\n// 保存编辑后的标题\nconst saveTitle = (chat) => {\n  if (editingTitle.value.trim()) {\n    // 更新历史记录中的标题\n    const chatToUpdate = chatHistory.value.find(c => c.id === chat.id)\n    if (chatToUpdate) {\n      chatToUpdate.title = editingTitle.value.trim()\n      // 如果是当前聊天，也更新当前聊天的标题\n      if (currentChat.value.id === chat.id) {\n        currentChat.value.title = editingTitle.value.trim()\n      }\n      // 保存更改\n      saveChat()\n    }\n  }\n  // 退出编辑模式\n  editingChatId.value = null\n  editingTitle.value = ''\n}\n</script>\n\n<style scoped>\n.ai-chat-container {\n  display: flex;\n  height: 100vh; /* 确保容器高度为视口高度 */\n  background-color: var(--el-bg-color);\n  overflow: hidden; /* 防止溢出 */\n}\n\n.sidebar {\n  width: 260px;\n  border-right: 1px solid var(--el-border-color-lighter);\n  display: flex;\n  flex-direction: column;\n  background-color: var(--el-bg-color-page);\n}\n\n.new-chat-btn {\n  margin: 16px;\n}\n\n.model-selector {\n  padding: 0 16px 16px;\n}\n\n.model-select {\n  width: 100%;\n}\n\n.model-option {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 8px 0;\n}\n\n.model-info {\n  flex: 1;\n}\n\n.model-name {\n  font-weight: 500;\n  margin-bottom: 4px;\n}\n\n.model-desc {\n  font-size: 12px;\n  color: var(--el-text-color-secondary);\n}\n\n.chat-history {\n  flex: 1;\n  overflow-y: auto; /* 允许历史记录区域滚动 */\n  padding: 0 8px;\n}\n\n.history-item {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 8px 12px;\n  margin: 4px 0;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.3s;\n}\n\n.history-item:hover {\n  background-color: var(--el-fill-color-light);\n}\n\n.history-item.active {\n  background-color: var(--el-color-primary-light-9);\n}\n\n.history-content {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  flex: 1;\n}\n\n.chat-title-wrapper {\n  flex: 1;\n  min-width: 0;\n  padding: 2px 0;\n}\n\n.chat-title {\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.history-actions {\n  opacity: 0;\n  transition: opacity 0.3s;\n  display: flex;\n  gap: 4px;\n}\n\n.history-item:hover .history-actions {\n  opacity: 1;\n}\n\n.sidebar-footer {\n  padding: 16px;\n  border-top: 1px solid var(--el-border-color-lighter);\n}\n\n.chat-area {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  background-color: var(--el-bg-color);\n  overflow: hidden; /* 防止溢出 */\n}\n\n.messages {\n  flex: 1;\n  overflow-y: auto; /* 允许消息区域滚动 */\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  height: 0; /* 确保不影响父容器的高度 */\n  align-items: flex-start;\n  scroll-behavior: smooth;\n}\n\n.messages-wrapper {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.message {\n  display: flex;\n  gap: 16px;\n  padding: 12px 20px;\n  transition: background-color 0.3s;\n  width: 100%;\n  max-width: 1200px;\n  margin: 0 auto;\n  border-bottom: 1px solid var(--el-border-color-lighter);\n  cursor: default;\n}\n\n.message:hover {\n  background-color: var(--el-fill-color-light);\n}\n\n.message.assistant {\n  background-color: var(--el-fill-color);\n}\n\n.message.selected {\n  background-color: var(--el-color-primary-light-9);\n}\n\n.message-body {\n  flex: 1;\n  width: 100%;\n  position: relative;\n}\n\n.message-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 4px;\n}\n\n.message-role {\n  font-size: 12px;\n  color: var(--el-text-color-secondary);\n}\n\n.message-content {\n  line-height: 1.5;\n  white-space: pre-wrap;\n  text-align: left;\n  font-size: 14px;\n  overflow-wrap: break-word;\n  word-break: break-all;\n}\n\n.message-content :deep(p) {\n  margin: 2px 0;  /* 进一步减小段落间距 */\n  min-height: 1.5em;  /* 确保空段落有最小高度 */\n}\n\n.message-content :deep(pre) {\n  background-color: var(--el-fill-color-darker);\n  padding: 12px;\n  border-radius: 8px;\n  overflow-x: auto;\n  margin: 4px 0;\n}\n\n.message-content :deep(code) {\n  font-family: monospace;\n  background-color: var(--el-fill-color-darker);\n  padding: 2px 4px;\n  border-radius: 4px;\n  line-height: 1.4;  /* 调整代码行高 */\n}\n\n.message-content :deep(ul), \n.message-content :deep(ol) {\n  margin: 4px 0;\n  padding-left: 20px;\n}\n\n.message-content :deep(li) {\n  margin: 2px 0;\n}\n\n.message-content :deep(br) {\n  display: block;\n  content: '';\n  margin: 1px 0;  /* 进一步减小换行间距 */\n}\n\n/* 处理表格样式 */\n.message-content :deep(table) {\n  margin: 4px 0;\n  border-collapse: collapse;\n}\n\n.message-content :deep(th),\n.message-content :deep(td) {\n  padding: 6px 10px;\n  border: 1px solid var(--el-border-color);\n}\n\n.empty-chat {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n  margin: auto;\n  justify-content: center;\n  color: var(--el-text-color-secondary);\n}\n\n.empty-icon {\n  margin-bottom: 16px;\n}\n\n.empty-chat h2 {\n  margin: 16px 0 8px;\n  font-size: 24px;\n  font-weight: 500;\n}\n\n.empty-chat p {\n  margin: 0;\n  color: var(--el-text-color-secondary);\n}\n\n.input-area {\n  padding: 20px;\n  border-top: 1px solid var(--el-border-color-lighter);\n}\n\n.input-container {\n  display: flex;\n  gap: 12px;\n}\n\n.input-container .el-input {\n  flex: 1;\n}\n\n.input-tip {\n  text-align: right;\n  margin-top: 8px;\n  font-size: 12px;\n  color: var(--el-text-color-secondary);\n}\n\n:deep(.el-dialog__body) {\n  padding-top: 16px;\n}\n\n.messages-container {\n  position: fixed;\n  left: -9999px;\n  background: white;\n  padding: 20px;\n  max-width: 800px;\n}\n\n/* Apple风格右键菜单样式 */\n.context-menu {\n  position: fixed;\n  background-color: #f9f9f9;\n  border-radius: 6px;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n  z-index: 1000;\n  width: 140px;\n  min-width: 140px;\n  border: 1px solid #d1d1d6;\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif;\n  font-size: 13px;\n  backdrop-filter: blur(10px);\n  background-color: rgba(249, 249, 249, 0.95);\n}\n\n.context-menu ul {\n  margin: 0;\n  padding: 4px 0;\n  list-style: none;\n}\n\n.context-menu li {\n  padding: 8px 16px;\n  cursor: pointer;\n  color: #333;\n  transition: background-color 0.2s ease, color 0.2s ease;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.context-menu li:hover {\n  background-color: #f0f0f5;\n  color: #007aff;\n}\n\n.context-menu li.danger {\n  color: #ff3b30;\n}\n\n.context-menu li.danger:hover {\n  background-color: #fff1f0;\n  color: #ff3b30;\n}\n\n.context-menu .el-icon {\n  font-size: 14px;\n}\n\n.el-divider {\n  margin: 16px 0;\n}\n\n:deep(.el-form-item__label) {\n  font-weight: normal;\n}\n\n/* 模型标记样式 */\n.model-indicator {\n  position: sticky;\n  top: 0;\n  z-index: 1;\n  display: flex;\n  justify-content: center;\n  padding: 8px 0;\n  background-color: var(--el-bg-color);\n  border-bottom: 1px solid var(--el-border-color-lighter);\n}\n\n/* 模型切换分隔线样式 */\n.model-switch-divider {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  margin: 16px 0;\n  width: 100%;\n  padding: 0 20px;  /* 添加左右内边距 */\n}\n\n.divider-line {\n  flex: 1;\n  height: 1px;\n  background-color: var(--el-border-color-lighter);\n}\n\n/* 系统消息样式 */\n.message.system {\n  justify-content: center;\n  background-color: transparent;\n  border-bottom: none;\n  padding: 8px 0;\n}\n\n/* 编辑输入框样式 */\n.chat-title-wrapper :deep(.el-input__wrapper) {\n  padding: 0 8px;\n  background-color: var(--el-bg-color-overlay);\n  box-shadow: none;\n  transition: box-shadow 0.2s;\n}\n\n.chat-title-wrapper :deep(.el-input__inner) {\n  height: 24px;\n  font-size: 14px;\n  color: var(--el-text-color-primary);\n  padding: 0;\n}\n\n.chat-title-wrapper :deep(.el-input__wrapper.is-focus) {\n  box-shadow: 0 0 0 1px var(--el-color-primary) inset;\n}\n</style> ","import script from \"./AIChatView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AIChatView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AIChatView.vue?vue&type=style&index=0&id=28680df8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-28680df8\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"diary-list\">\r\n    <div class=\"diary-list-header\">\r\n      <el-input\r\n        v-model=\"searchText\"\r\n        placeholder=\"搜索感恩内容...\"\r\n        prefix-icon=\"Search\"\r\n        clearable\r\n        class=\"search-input\"\r\n      />\r\n      <el-select v-model=\"sortBy\" placeholder=\"排序方式\" class=\"sort-select\">\r\n        <el-option label=\"最新日期\" value=\"newest\" />\r\n        <el-option label=\"最早日期\" value=\"oldest\" />\r\n      </el-select>\r\n    </div>\r\n\r\n    <div class=\"diary-list-content\">\r\n      <el-empty\r\n        v-if=\"filteredDiaries.length === 0\"\r\n        description=\"还没有记录感恩的事呢\"\r\n      >\r\n        <el-button type=\"primary\" @click=\"scrollToInput\">现在开始记录</el-button>\r\n      </el-empty>\r\n      \r\n      <el-timeline v-else>\r\n        <el-timeline-item\r\n          v-for=\"(entry, index) in filteredDiaries\"\r\n          :key=\"entry.date\"\r\n          :timestamp=\"entry.date\"\r\n          :type=\"entry.items.length >= 3 ? 'success' : 'primary'\"\r\n        >\r\n          <div class=\"diary-entry\" :class=\"{ 'diary-entry-highlight': isToday(entry.date) }\">\r\n            <div class=\"diary-content\">\r\n              <div class=\"diary-date\">\r\n                {{ formatDate(entry.date) }}\r\n                <el-tag size=\"small\" v-if=\"isToday(entry.date)\" type=\"success\">Today</el-tag>\r\n              </div>\r\n              <ul class=\"diary-items\">\r\n                <li \r\n                  v-for=\"(item, itemIndex) in entry.items\" \r\n                  :key=\"itemIndex\"\r\n                  class=\"diary-item\"\r\n                >\r\n                  <el-icon><Star /></el-icon>\r\n                  {{ item }}\r\n                </li>\r\n              </ul>\r\n            </div>\r\n            <div class=\"diary-actions\">\r\n              <el-button type=\"primary\" link @click=\"$emit('edit', index)\">\r\n                <el-icon><Edit /></el-icon>\r\n              </el-button>\r\n              <el-button type=\"danger\" link @click=\"$emit('delete', index)\">\r\n                <el-icon><Delete /></el-icon>\r\n              </el-button>\r\n            </div>\r\n          </div>\r\n        </el-timeline-item>\r\n      </el-timeline>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed } from 'vue'\r\nimport { Star, Edit, Delete } from '@element-plus/icons-vue'\r\n\r\nconst props = defineProps({\r\n  diaries: {\r\n    type: Array,\r\n    required: true\r\n  }\r\n})\r\n\r\ndefineEmits(['edit', 'delete'])\r\n\r\nconst searchText = ref('')\r\nconst sortBy = ref('newest')\r\n\r\nconst filteredDiaries = computed(() => {\r\n  let result = [...props.diaries]\r\n  \r\n  // 搜索过滤\r\n  if (searchText.value) {\r\n    result = result.filter(diary => \r\n      diary.items.some(item => \r\n        item.toLowerCase().includes(searchText.value.toLowerCase())\r\n      )\r\n    )\r\n  }\r\n  \r\n  // 排序\r\n  result.sort((a, b) => {\r\n    const dateA = new Date(a.date)\r\n    const dateB = new Date(b.date)\r\n    return sortBy.value === 'newest' ? dateB - dateA : dateA - dateB\r\n  })\r\n  \r\n  return result\r\n})\r\n\r\nconst isToday = (dateStr) => {\r\n  const today = new Date().toLocaleDateString('zh-CN')\r\n  return dateStr === today\r\n}\r\n\r\nconst formatDate = (dateStr) => {\r\n  const date = new Date(dateStr)\r\n  return date.toLocaleDateString('zh-CN', {\r\n    weekday: 'long',\r\n    month: 'long',\r\n    day: 'numeric'\r\n  })\r\n}\r\n\r\nconst scrollToInput = () => {\r\n  document.querySelector('.diary-input')?.scrollIntoView({ behavior: 'smooth' })\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.diary-list {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.diary-list-header {\r\n  padding: 16px;\r\n  display: flex;\r\n  gap: 16px;\r\n  background: white;\r\n  border-bottom: 1px solid var(--el-border-color-light);\r\n}\r\n\r\n.search-input {\r\n  max-width: 300px;\r\n}\r\n\r\n.sort-select {\r\n  width: 120px;\r\n}\r\n\r\n.diary-list-content {\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  padding: 20px;\r\n}\r\n\r\n.diary-entry {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  padding: 16px;\r\n  border-radius: 8px;\r\n  background: white;\r\n  box-shadow: 0 2px 12px 0 rgba(0,0,0,0.05);\r\n  transition: all 0.3s;\r\n}\r\n\r\n.diary-entry:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 16px 0 rgba(0,0,0,0.1);\r\n}\r\n\r\n.diary-entry-highlight {\r\n  background: var(--el-color-success-light-9);\r\n  border: 1px solid var(--el-color-success-light-5);\r\n}\r\n\r\n.diary-content {\r\n  flex: 1;\r\n}\r\n\r\n.diary-date {\r\n  font-size: 14px;\r\n  color: var(--el-text-color-secondary);\r\n  margin-bottom: 8px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.diary-items {\r\n  list-style: none;\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n\r\n.diary-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  margin-bottom: 8px;\r\n  font-size: 14px;\r\n}\r\n\r\n.diary-item .el-icon {\r\n  color: var(--el-color-warning);\r\n}\r\n\r\n.diary-actions {\r\n  display: flex;\r\n  gap: 8px;\r\n}\r\n\r\n:deep(.el-timeline-item__node) {\r\n  background-color: transparent;\r\n  border: 2px solid var(--el-color-primary);\r\n}\r\n\r\n:deep(.el-timeline-item__tail) {\r\n  border-left: 2px solid var(--el-border-color-light);\r\n}\r\n</style> ","import script from \"./GratitudeDiaryItems.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./GratitudeDiaryItems.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./GratitudeDiaryItems.vue?vue&type=style&index=0&id=1a46f95c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1a46f95c\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"gratitude-diary\">\r\n    <div class=\"diary-header\">\r\n      <h2>\r\n        <el-icon><StarFilled /></el-icon>\r\n        今日感恩\r\n      </h2>\r\n      <div class=\"diary-stats\">\r\n        <el-tooltip content=\"已记录天数\">\r\n          <el-tag type=\"info\">\r\n            <el-icon><Calendar /></el-icon>\r\n            {{ totalDays }}天\r\n          </el-tag>\r\n        </el-tooltip>\r\n        <el-tooltip content=\"感恩事项总数\">\r\n          <el-tag type=\"success\">\r\n            <el-icon><Star /></el-icon>\r\n            {{ totalItems }}条\r\n          </el-tag>\r\n        </el-tooltip>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"diary-content\">\r\n      <div class=\"diary-input-section\">\r\n        <el-card class=\"input-card\" :body-style=\"{ padding: '20px' }\">\r\n          <template #header>\r\n            <div class=\"card-header\">\r\n              <span>{{ isEditing ? '修改感恩日记' : '记录新的感恩' }}</span>\r\n              <el-button v-if=\"isEditing\" link @click=\"cancelEdit\">\r\n                <el-icon><Close /></el-icon>\r\n              </el-button>\r\n            </div>\r\n          </template>\r\n          \r\n          <el-form>\r\n            <div v-for=\"n in 3\" :key=\"n\" class=\"diary-input-item\">\r\n              <el-input\r\n                v-model=\"diaryEntry[`item${n}`]\"\r\n                type=\"textarea\"\r\n                :placeholder=\"`第${n}件感恩的事...`\"\r\n                :rows=\"2\"\r\n                maxlength=\"200\"\r\n                show-word-limit\r\n              >\r\n                <template #prefix>\r\n                  <el-icon><Star /></el-icon>\r\n                </template>\r\n              </el-input>\r\n            </div>\r\n            \r\n            <el-form-item>\r\n              <el-button \r\n                type=\"primary\" \r\n                @click=\"saveDiary\"\r\n                :icon=\"isEditing ? 'Check' : 'Plus'\"\r\n              >\r\n                {{ isEditing ? '保存修改' : '记录感恩' }}\r\n              </el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n        </el-card>\r\n      </div>\r\n\r\n      <div class=\"diary-list-section\">\r\n        <gratitude-diary-items\r\n          :diaries=\"diaryHistory\"\r\n          @edit=\"editDiary\"\r\n          @delete=\"confirmDelete\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted } from 'vue'\r\nimport { ElMessage, ElMessageBox } from 'element-plus'\r\nimport { StarFilled, Star, Calendar, Close } from '@element-plus/icons-vue'\r\nimport GratitudeDiaryItems from '../components/GratitudeDiaryItems.vue'\r\n\r\nconst STORAGE_KEY = 'gratitude-diaries'\r\n\r\nconst diaryEntry = ref({\r\n  item1: '',\r\n  item2: '',\r\n  item3: '',\r\n})\r\nconst diaryHistory = ref([])\r\nconst isEditing = ref(false)\r\nconst editingIndex = ref(-1)\r\n\r\n// 统计数据\r\nconst totalDays = computed(() => diaryHistory.value.length)\r\nconst totalItems = computed(() => \r\n  diaryHistory.value.reduce((sum, diary) => sum + diary.items.length, 0)\r\n)\r\n\r\n// 从 localStorage 加载数据\r\nonMounted(() => {\r\n  const stored = localStorage.getItem(STORAGE_KEY)\r\n  if (stored) {\r\n    diaryHistory.value = JSON.parse(stored)\r\n  }\r\n})\r\n\r\n// 保存到 localStorage\r\nconst saveToStorage = () => {\r\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(diaryHistory.value))\r\n}\r\n\r\nconst saveDiary = () => {\r\n  const items = [\r\n    diaryEntry.value.item1,\r\n    diaryEntry.value.item2,\r\n    diaryEntry.value.item3\r\n  ].filter(item => item.trim() !== '')\r\n\r\n  if (items.length === 0) {\r\n    ElMessage.warning('请至少填写一件感恩的事')\r\n    return\r\n  }\r\n\r\n  if (isEditing.value) {\r\n    diaryHistory.value[editingIndex.value] = {\r\n      ...diaryHistory.value[editingIndex.value],\r\n      items\r\n    }\r\n    isEditing.value = false\r\n    editingIndex.value = -1\r\n    ElMessage.success('修改成功')\r\n  } else {\r\n    const today = new Date().toLocaleDateString('zh-CN')\r\n    if (diaryHistory.value.some(d => d.date === today)) {\r\n      ElMessage.warning('今天已经记录过啦，请明天再来~')\r\n      return\r\n    }\r\n    \r\n    const newEntry = {\r\n      date: today,\r\n      items\r\n    }\r\n    diaryHistory.value.unshift(newEntry)\r\n    ElMessage.success('记录成功')\r\n  }\r\n\r\n  saveToStorage()\r\n  resetForm()\r\n}\r\n\r\nconst editDiary = (index) => {\r\n  const entry = diaryHistory.value[index]\r\n  diaryEntry.value = {\r\n    item1: entry.items[0] || '',\r\n    item2: entry.items[1] || '',\r\n    item3: entry.items[2] || ''\r\n  }\r\n  isEditing.value = true\r\n  editingIndex.value = index\r\n}\r\n\r\nconst cancelEdit = () => {\r\n  isEditing.value = false\r\n  editingIndex.value = -1\r\n  resetForm()\r\n}\r\n\r\nconst confirmDelete = (index) => {\r\n  ElMessageBox.confirm(\r\n    '确定要删除这条感恩日记吗？',\r\n    '提示',\r\n    {\r\n      confirmButtonText: '确定',\r\n      cancelButtonText: '取消',\r\n      type: 'warning'\r\n    }\r\n  ).then(() => {\r\n    diaryHistory.value.splice(index, 1)\r\n    saveToStorage()\r\n    ElMessage.success('删除成功')\r\n  }).catch(() => {})\r\n}\r\n\r\nconst resetForm = () => {\r\n  diaryEntry.value = {\r\n    item1: '',\r\n    item2: '',\r\n    item3: ''\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.gratitude-diary {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  background-color: var(--el-bg-color-page);\r\n}\r\n\r\n.diary-header {\r\n  padding: 20px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  background: white;\r\n  box-shadow: 0 2px 12px 0 rgba(0,0,0,0.05);\r\n}\r\n\r\n.diary-header h2 {\r\n  margin: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  color: var(--el-color-primary);\r\n}\r\n\r\n.diary-stats {\r\n  display: flex;\r\n  gap: 12px;\r\n}\r\n\r\n.diary-content {\r\n  flex: 1;\r\n  display: flex;\r\n  gap: 20px;\r\n  padding: 20px;\r\n  overflow: hidden;\r\n}\r\n\r\n.diary-input-section {\r\n  width: 400px;\r\n  min-width: 400px;\r\n}\r\n\r\n.input-card {\r\n  position: sticky;\r\n  top: 20px;\r\n}\r\n\r\n.card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.diary-input-item {\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.diary-list-section {\r\n  flex: 1;\r\n  overflow: hidden;\r\n  background: white;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 12px 0 rgba(0,0,0,0.05);\r\n}\r\n\r\n.el-tag {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n}\r\n</style>","import script from \"./GratitudeDiaryView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./GratitudeDiaryView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./GratitudeDiaryView.vue?vue&type=style&index=0&id=93bd9ff6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-93bd9ff6\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"iframe-container\">\r\n    <!-- 使用代理服务方式 -->\r\n    <iframe\r\n      v-if=\"useProxy\"\r\n      :src=\"proxyUrl\"\r\n      :title=\"pageTitle\"\r\n      frameborder=\"0\"\r\n      class=\"iframe-content\"\r\n      sandbox=\"allow-same-origin allow-scripts allow-popups allow-forms\"\r\n      referrerpolicy=\"no-referrer\"\r\n    ></iframe>\r\n    \r\n    <!-- 直接访问方式 -->\r\n    <iframe\r\n      v-else\r\n      :src=\"iframeUrl\"\r\n      :title=\"pageTitle\"\r\n      frameborder=\"0\"\r\n      class=\"iframe-content\"\r\n    ></iframe>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed, ref } from 'vue'\r\nimport { useRoute } from 'vue-router'\r\n\r\nconst route = useRoute()\r\nconst useProxy = ref(true) // 是否使用代理\r\n\r\nconst iframeUrl = computed(() => route.query.url || '')\r\nconst pageTitle = computed(() => route.query.title || '')\r\n\r\n// 构建代理URL\r\nconst proxyUrl = computed(() => {\r\n  if (!iframeUrl.value) return ''\r\n  return `/api/proxy?url=${encodeURIComponent(iframeUrl.value)}`\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.iframe-container {\r\n  width: 100%;\r\n  height: 100%;\r\n  min-height: calc(100vh - 100px); /* 减去头部高度 */\r\n}\r\n\r\n.iframe-content {\r\n  width: 100%;\r\n  height: 100%;\r\n  min-height: calc(100vh - 100px);\r\n  border: none;\r\n}\r\n</style> ","import script from \"./IframeView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./IframeView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./IframeView.vue?vue&type=style&index=0&id=1e57d300&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1e57d300\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"web-view\">\r\n    <div class=\"web-header\">\r\n      <div class=\"url-bar\">\r\n        <el-input\r\n          v-model=\"currentUrl\"\r\n          placeholder=\"输入网址\"\r\n          clearable\r\n          @keyup.enter=\"loadUrl\"\r\n        >\r\n          <template #prefix>\r\n            <el-icon><Link /></el-icon>\r\n          </template>\r\n        </el-input>\r\n      </div>\r\n      <div class=\"controls\">\r\n        <el-button-group>\r\n          <el-button @click=\"refresh\">\r\n            <el-icon><Refresh /></el-icon>\r\n          </el-button>\r\n          <el-button @click=\"openInNewTab\">\r\n            <el-icon><Position /></el-icon>\r\n          </el-button>\r\n        </el-button-group>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"web-content\">\r\n      <el-alert\r\n        v-if=\"showError\"\r\n        title=\"无法在iframe中显示此网站\"\r\n        type=\"warning\"\r\n        description=\"由于安全限制，此网站不允许被嵌入。点击'在新窗口打开'按钮访问。\"\r\n        show-icon\r\n        :closable=\"false\"\r\n        style=\"margin-bottom: 16px\"\r\n      />\r\n      \r\n      <iframe\r\n        ref=\"iframeRef\"\r\n        :src=\"currentUrl\"\r\n        class=\"iframe-content\"\r\n        @load=\"handleLoad\"\r\n        @error=\"handleError\"\r\n        sandbox=\"allow-same-origin allow-scripts allow-popups allow-forms\"\r\n      ></iframe>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue'\r\nimport { useRoute } from 'vue-router'\r\nimport { Link, Refresh, Position } from '@element-plus/icons-vue'\r\n\r\nconst route = useRoute()\r\nconst iframeRef = ref(null)\r\nconst currentUrl = ref('')\r\nconst showError = ref(false)\r\n\r\nonMounted(() => {\r\n  // 从路由参数获取初始URL\r\n  currentUrl.value = route.query.url || ''\r\n  if (currentUrl.value) {\r\n    loadUrl()\r\n  }\r\n})\r\n\r\nconst loadUrl = () => {\r\n  currentUrl.value = route.query.url || ''\r\n  if (!currentUrl.value) return\r\n  showError.value = false\r\n  // 如果URL不是以http或https开头，自动添加https://\r\n  if (!/^https?:\\/\\//i.test(currentUrl.value)) {\r\n    currentUrl.value = 'https://' + currentUrl.value\r\n  }\r\n}\r\n\r\nconst refresh = () => {\r\n  const iframe = iframeRef.value\r\n  if (iframe) {\r\n    // 使用一个临时变量保存当前URL\r\n    const currentSrc = iframe.src\r\n    // 先清空src\r\n    iframe.src = ''\r\n    // 然后重新设置src来触发刷新\r\n    setTimeout(() => {\r\n      iframe.src = currentSrc\r\n    }, 100)\r\n  }\r\n}\r\n\r\nconst openInNewTab = () => {\r\n  if (currentUrl.value) {\r\n    window.open(currentUrl.value, '_blank')\r\n  }\r\n}\r\n\r\nconst handleLoad = () => {\r\n  showError.value = false\r\n}\r\n\r\nconst handleError = () => {\r\n  showError.value = true\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.web-view {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: calc(100vh - 84px); /* 减去头部和padding的高度 */\r\n  padding: 16px;\r\n}\r\n\r\n.web-header {\r\n  display: flex;\r\n  gap: 16px;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.url-bar {\r\n  flex: 1;\r\n}\r\n\r\n.web-content {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.iframe-content {\r\n  flex: 1;\r\n  width: 100%;\r\n  border: 1px solid var(--el-border-color-light);\r\n  border-radius: 4px;\r\n  background: white;\r\n}\r\n\r\n.controls {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n</style> ","import script from \"./WebView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./WebView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./WebView.vue?vue&type=style&index=0&id=19522b54&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-19522b54\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"web-nav-container\" @contextmenu.prevent=\"showPageContextMenu($event)\">\r\n    <!-- 顶部区域 -->\r\n    <div class=\"top-section\">\r\n      <div class=\"datetime\">\r\n        <div class=\"time\">{{ currentTime }}</div>\r\n        <div class=\"date\">{{ currentDate }}</div>\r\n      </div>\r\n      <!-- 修改搜索框为搜索引擎 -->\r\n      <div class=\"search-box\">\r\n        <el-input\r\n          v-model=\"searchText\"\r\n          :placeholder=\"'使用' + currentEngine.name + '搜索...'\"\r\n          @keyup.enter=\"handleSearch\"\r\n          clearable\r\n          class=\"search-input\"\r\n        >\r\n          <template #prefix>\r\n            <img :src=\"currentEngine.icon\" class=\"engine-icon\" @click=\"toggleSearchEngine\">\r\n          </template>\r\n          <template #append>\r\n            <el-button @click=\"handleSearch\">\r\n              <el-icon><Search /></el-icon>\r\n            </el-button>\r\n          </template>\r\n        </el-input>\r\n        <!-- 添加搜索历史下拉框 -->\r\n        <div v-show=\"showHistory && searchHistory.length\" class=\"search-history\">\r\n          <div \r\n            v-for=\"(item, index) in searchHistory\" \r\n            :key=\"index\"\r\n            class=\"history-item\"\r\n            @click=\"selectHistory(item)\"\r\n          >\r\n            <el-icon><Clock /></el-icon>\r\n            <span>{{ item }}</span>\r\n            <el-icon class=\"delete-icon\" @click.stop=\"removeHistory(index)\"><Close /></el-icon>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 网站导航区域 -->\r\n    <div class=\"nav-content\">\r\n      <div class=\"toolbar\">\r\n        <div class=\"filter-box\">\r\n          <el-input\r\n            v-model=\"filterText\"\r\n            placeholder=\"筛选图标...\"\r\n            prefix-icon=\"Search\"\r\n            clearable\r\n            class=\"filter-input\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"website-grid\">\r\n        <Draggable\r\n          v-model=\"paginatedWebsites\"\r\n          :group=\"{ name: 'websites', pull: true, put: true }\"\r\n          :animation=\"200\"\r\n          ghost-class=\"ghost-card\"\r\n          chosen-class=\"dragging-card\"\r\n          drag-class=\"dragging-card\"\r\n          @start=\"handleDragStart\"\r\n          @end=\"handleDragEnd\"\r\n          @add=\"handleDragAdd\"\r\n          class=\"website-list\"\r\n          item-key=\"id\"\r\n          handle=\".website-item:not(.add-website)\"\r\n        >\r\n          <template #item=\"{ element }\">\r\n            <div \r\n              class=\"website-item\"\r\n              :class=\"{ \r\n                'is-folder': element.type === 'folder',\r\n                'drag-over': isDragOver(element)\r\n              }\"\r\n              @contextmenu.prevent=\"showContextMenu($event, element)\"\r\n              @click=\"handleItemClick(element)\"\r\n              :data-id=\"element.id\"\r\n              :data-type=\"element.type\"\r\n              @dragenter.prevent=\"handleDragEnter($event, element)\"\r\n              @dragover.prevent=\"handleDragOver($event, element)\"\r\n              @dragleave.prevent=\"handleDragLeave($event, element)\"\r\n            >\r\n              <div class=\"website-icon\">\r\n                <img \r\n                  :src=\"renderIcon(element)\" \r\n                  :alt=\"element.name\"\r\n                  @error=\"handleIconError($event, element)\"\r\n                >\r\n              </div>\r\n              <div class=\"website-name\">{{ element.name }}</div>\r\n            </div>\r\n          </template>\r\n\r\n          <template #footer>\r\n            <div class=\"website-item add-website\" @click=\"showAddDialog = true\">\r\n              <div class=\"website-icon add-icon\">\r\n                <el-icon><Plus /></el-icon>\r\n              </div>\r\n              <div class=\"website-name\">添加网站</div>\r\n            </div>\r\n          </template>\r\n        </Draggable>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 全屏切换按钮 -->\r\n    <div class=\"fullscreen-toggle\" @click=\"toggleFullscreen\">\r\n      <el-icon v-if=\"isFullscreen\"><Aim /></el-icon>\r\n      <el-icon v-else><FullScreen /></el-icon>\r\n    </div>\r\n\r\n    <!-- 页面右键菜单 -->\r\n    <div \r\n      v-show=\"pageContextMenu.show\" \r\n      :style=\"pageContextMenuStyle\" \r\n      class=\"context-menu\"\r\n      @mouseleave=\"hidePageContextMenu\"\r\n    >\r\n      <div class=\"menu-item\" @click=\"handleCreateFolder\">\r\n        <el-icon><Folder /></el-icon>\r\n        <span>新建文件夹</span>\r\n      </div>\r\n      <div class=\"menu-item\" @click=\"showAddDialog = true\">\r\n        <el-icon><Plus /></el-icon>\r\n        <span>添加网站</span>\r\n      </div>\r\n      <div class=\"menu-item\" @click=\"changeBackground\">\r\n        <el-icon><Picture /></el-icon>\r\n        <span>更换背景</span>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 右键菜单 -->\r\n    <div v-show=\"contextMenu.show\" :style=\"contextMenuStyle\" class=\"context-menu\">\r\n      <div class=\"menu-item\" @click=\"editWebsite\">\r\n        <el-icon><Edit /></el-icon>\r\n        <span>编辑</span>\r\n      </div>\r\n      <div class=\"menu-item\" @click=\"uploadIcon\">\r\n        <el-icon><Upload /></el-icon>\r\n        <span>上传图标</span>\r\n      </div>\r\n      <div class=\"menu-item\" @click=\"generateIcon\">\r\n        <el-icon><Refresh /></el-icon>\r\n        <span>随机生成图标</span>\r\n      </div>\r\n      <div class=\"menu-item delete\" @click=\"deleteWebsite\">\r\n        <el-icon><Delete /></el-icon>\r\n        <span>删除</span>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 添加/编辑网站对话框 -->\r\n    <el-dialog\r\n      v-model=\"showAddDialog\"\r\n      :title=\"editingWebsite ? '编辑网站' : '添加网站'\"\r\n      width=\"500px\"\r\n    >\r\n      <el-form :model=\"websiteForm\" label-width=\"80px\">\r\n        <el-form-item label=\"网站地址\">\r\n          <el-input \r\n            v-model=\"websiteForm.url\" \r\n            placeholder=\"请输入网站地址\"\r\n            @blur=\"autoFetchWebsiteInfo\"\r\n            clearable\r\n          >\r\n            <template #append>\r\n              <el-button @click=\"autoFetchWebsiteInfo\">\r\n                <el-icon><Refresh /></el-icon>\r\n              </el-button>\r\n            </template>\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"网站名称\">\r\n          <el-input \r\n            v-model=\"websiteForm.name\" \r\n            placeholder=\"请输入网站名称\"\r\n            :loading=\"fetchingInfo\"\r\n          />\r\n        </el-form-item>\r\n        <el-form-item label=\"网站图标\">\r\n          <div class=\"icon-preview\">\r\n            <img \r\n              v-if=\"websiteForm.icon || websiteForm.url\" \r\n              :src=\"websiteForm.icon || getFaviconUrl(websiteForm.url)\"\r\n              @error=\"handlePreviewIconError\"\r\n              class=\"preview-img\"\r\n            >\r\n          </div>\r\n          <el-input \r\n            v-model=\"websiteForm.icon\" \r\n            placeholder=\"请输入图标地址（可选）\"\r\n          >\r\n            <template #append>\r\n              <el-button @click=\"uploadIcon\">上传</el-button>\r\n            </template>\r\n          </el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <template #footer>\r\n        <span class=\"dialog-footer\">\r\n          <el-button @click=\"showAddDialog = false\">取消</el-button>\r\n          <el-button type=\"primary\" @click=\"saveWebsite\" :loading=\"fetchingInfo\">\r\n            确定\r\n          </el-button>\r\n        </span>\r\n      </template>\r\n    </el-dialog>\r\n\r\n    <!-- 添加文件夹编辑对话框 -->\r\n    <el-dialog\r\n      v-model=\"showFolderNameDialog\"\r\n      title=\"新建文件夹\"\r\n      width=\"300px\"\r\n      :close-on-click-modal=\"false\"\r\n      @closed=\"handleFolderDialogClosed\"\r\n    >\r\n      <el-input\r\n        ref=\"folderNameInput\"\r\n        v-model=\"newFolderName\"\r\n        placeholder=\"请输入文件夹名称\"\r\n        @keyup.enter=\"saveFolderName\"\r\n      />\r\n      <template #footer>\r\n        <span class=\"dialog-footer\">\r\n          <el-button @click=\"cancelFolderName\">取消</el-button>\r\n          <el-button type=\"primary\" @click=\"saveFolderName\">确定</el-button>\r\n        </span>\r\n      </template>\r\n    </el-dialog>\r\n\r\n    <!-- 文件夹内容查看对话框 -->\r\n    <el-dialog\r\n      v-model=\"showFolderContent\"\r\n      :title=\"currentFolder?.name\"\r\n      width=\"80%\"\r\n      class=\"folder-dialog\"\r\n    >\r\n      <div class=\"folder-content\">\r\n        <Draggable\r\n          v-model=\"currentFolder.children\"\r\n          :group=\"{ name: 'websites', pull: true, put: true }\"\r\n          :animation=\"200\"\r\n          ghost-class=\"ghost-card\"\r\n          chosen-class=\"dragging-card\"\r\n          drag-class=\"dragging-card\"\r\n          @start=\"handleFolderDragStart\"\r\n          @end=\"handleFolderDragEnd\"\r\n          @add=\"handleFolderDragAdd\"\r\n          class=\"folder-grid\"\r\n        >\r\n          <template #item=\"{ element }\">\r\n            <div \r\n              class=\"website-item\"\r\n              :class=\"{ 'is-folder': element.type === 'folder' }\"\r\n              @contextmenu.prevent=\"showContextMenu($event, element)\"\r\n            >\r\n              <div class=\"website-icon\">\r\n                <img \r\n                  :src=\"element.icon || getFaviconUrl(element.url)\" \r\n                  :alt=\"element.name\"\r\n                  @error=\"handleIconError($event, element)\"\r\n                >\r\n              </div>\r\n              <div class=\"website-name\">{{ element.name }}</div>\r\n            </div>\r\n          </template>\r\n        </Draggable>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <!-- 添加拖拽指示器 -->\r\n    <div \r\n      v-show=\"dropIndicator.show\"\r\n      class=\"drop-indicator\"\r\n      :class=\"{ 'is-folder': dropIndicator.type === 'folder' }\"\r\n      :style=\"{\r\n        left: dropIndicator.x + 'px',\r\n        top: dropIndicator.y + 'px',\r\n        width: dropIndicator.width + 'px',\r\n        height: dropIndicator.height + 'px'\r\n      }\"\r\n    ></div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted, onUnmounted, nextTick } from 'vue'\r\nimport { ElMessage, ElLoading } from 'element-plus'\r\nimport Draggable from 'vuedraggable'\r\nimport { Plus, Edit, Upload, Refresh, Delete, Search, Aim, FullScreen, Folder, Picture, Clock, Close } from '@element-plus/icons-vue'\r\nimport { useFullscreen } from '@vueuse/core'\r\n\r\n// 添加 loading 变量\r\nconst loading = ref(null)\r\n\r\n// 添加 emit 定义\r\nconst emit = defineEmits(['search'])\r\n\r\n// 状态\r\nconst websites = ref([])\r\nconst searchText = ref('')\r\nconst showAddDialog = ref(false)\r\nconst editingWebsite = ref(null)\r\nconst drag = ref(false)\r\nconst currentTime = ref('')\r\nconst currentDate = ref('')\r\nconst contextMenu = ref({\r\n  show: false,\r\n  x: 0,\r\n  y: 0,\r\n  website: null\r\n})\r\n\r\n// 表单数据\r\nconst websiteForm = ref({\r\n  name: '',\r\n  url: '',\r\n  icon: ''\r\n})\r\n\r\n// 添加新的状态\r\nconst fetchingInfo = ref(false)\r\n\r\n// 全屏控制\r\nconst { isFullscreen, toggle: toggleFullscreen } = useFullscreen()\r\n\r\n// 搜索引擎配置\r\nconst searchEngines = [\r\n  {\r\n    name: '必应',\r\n    icon: 'https://www.bing.com/favicon.ico',\r\n    url: 'https://www.bing.com/search?q='\r\n  },\r\n  {\r\n    name: '谷歌',\r\n    icon: 'https://www.google.com/favicon.ico',\r\n    url: 'https://www.google.com/search?q='\r\n  },\r\n  {\r\n    name: '百度',\r\n    icon: 'https://www.baidu.com/favicon.ico',\r\n    url: 'https://www.baidu.com/s?wd='\r\n  }\r\n]\r\n\r\nconst currentEngineIndex = ref(0)\r\nconst currentEngine = computed(() => searchEngines[currentEngineIndex.value])\r\n\r\n// 分页相关\r\nconst currentPage = ref(1)\r\nconst pageSize = ref(24)\r\nconst filterText = ref('')\r\n\r\n// 筛选后的网站列表\r\nconst filteredWebsites = computed(() => {\r\n  return websites.value.filter(site => \r\n    site.name.toLowerCase().includes(filterText.value.toLowerCase())\r\n  )\r\n})\r\n\r\n// 分页后的网站列表\r\nconst paginatedWebsites = computed({\r\n  get: () => {\r\n    const start = (currentPage.value - 1) * pageSize.value\r\n    const end = start + pageSize.value\r\n    return filteredWebsites.value.slice(start, end)\r\n  },\r\n  set: (value) => {\r\n    // 更新原始数据\r\n    const start = (currentPage.value - 1) * pageSize.value\r\n    const end = start + pageSize.value\r\n    const newWebsites = [...websites.value]\r\n    newWebsites.splice(start, end - start, ...value)\r\n    websites.value = newWebsites\r\n    saveWebsitesToStorage() // 保存更新\r\n  }\r\n})\r\n\r\n// 搜索引擎切换\r\nconst toggleSearchEngine = () => {\r\n  currentEngineIndex.value = (currentEngineIndex.value + 1) % searchEngines.length\r\n}\r\n\r\n// 搜索历史相关\r\nconst searchHistory = ref([])\r\nconst showHistory = ref(false)\r\n\r\n// 处理搜索\r\nconst handleSearch = () => {\r\n  if (!searchText.value) return\r\n  \r\n  // 保存到历史记录\r\n  if (!searchHistory.value.includes(searchText.value)) {\r\n    searchHistory.value.unshift(searchText.value)\r\n    if (searchHistory.value.length > 10) {\r\n      searchHistory.value.pop()\r\n    }\r\n    localStorage.setItem('search-history', JSON.stringify(searchHistory.value))\r\n  }\r\n\r\n  // 发送到父组件处理搜索\r\n  emit('search', {\r\n    engine: currentEngine.value,\r\n    query: searchText.value\r\n  })\r\n  \r\n  searchText.value = ''\r\n  showHistory.value = false\r\n}\r\n\r\n// 右键菜单相关的状态和方法\r\nconst pageContextMenu = ref({\r\n  show: false,\r\n  x: 0,\r\n  y: 0\r\n})\r\n\r\nconst pageContextMenuStyle = computed(() => ({\r\n  position: 'fixed',\r\n  left: `${pageContextMenu.value.x}px`,\r\n  top: `${pageContextMenu.value.y}px`,\r\n  zIndex: 1000\r\n}))\r\n\r\nconst showPageContextMenu = (event) => {\r\n  event.preventDefault()\r\n  pageContextMenu.value = {\r\n    show: true,\r\n    x: event.clientX,\r\n    y: event.clientY\r\n  }\r\n}\r\n\r\nconst hidePageContextMenu = () => {\r\n  pageContextMenu.value.show = false\r\n}\r\n\r\n// 文件夹相关的状态\r\nconst showFolderNameDialog = ref(false)\r\nconst newFolderName = ref('')\r\nconst folderNameInput = ref(null)\r\nconst currentFolder = ref(null)\r\nconst showFolderContent = ref(false)\r\n\r\n// 修改拖拽状态管理\r\nconst dragState = ref({\r\n  isDragging: false,\r\n  draggedItem: null,\r\n  draggedElement: null,\r\n  dropTarget: null,\r\n  dropType: null // 'before', 'after', 'inside'\r\n})\r\n\r\n// 判断是否正在拖拽到此元素上\r\nconst isDragOver = (element) => {\r\n  return dragState.value.dropTarget?.id === element.id && \r\n         dragState.value.dropType === 'inside'\r\n}\r\n\r\n// 添加拖拽位置指示器\r\nconst dropIndicator = ref({\r\n  show: false,\r\n  x: 0,\r\n  y: 0,\r\n  width: 0,\r\n  height: 0,\r\n  type: 'line' // 'line' 或 'folder'\r\n})\r\n\r\n// 处理拖拽开始\r\nconst handleDragStart = (evt) => {\r\n  const element = websites.value.find(w => w.id.toString() === evt.item.dataset.id)\r\n  if (!element) return\r\n  \r\n  dragState.value = {\r\n    isDragging: true,\r\n    draggedItem: evt.item,\r\n    draggedElement: element,\r\n    dropTarget: null,\r\n    dropType: null\r\n  }\r\n}\r\n\r\n// 处理拖拽进入\r\nconst handleDragEnter = (evt, element) => {\r\n  if (!dragState.value.isDragging) return\r\n  if (element.id === dragState.value.draggedElement?.id) return\r\n  \r\n  const rect = evt.currentTarget.getBoundingClientRect()\r\n  const mouseY = evt.clientY - rect.top\r\n  \r\n  // 判断拖拽位置\r\n  if (element.type === 'folder') {\r\n    // 如果目标是文件夹，默认放入文件夹内\r\n    dragState.value.dropTarget = element\r\n    dragState.value.dropType = 'inside'\r\n  } else {\r\n    // 如果目标是普通图标，判断位置\r\n    const threshold = rect.height * 0.3\r\n    if (mouseY < threshold) {\r\n      dragState.value.dropTarget = element\r\n      dragState.value.dropType = 'before'\r\n    } else if (mouseY > rect.height - threshold) {\r\n      dragState.value.dropTarget = element\r\n      dragState.value.dropType = 'after'\r\n    } else {\r\n      dragState.value.dropTarget = element\r\n      dragState.value.dropType = 'inside'\r\n    }\r\n  }\r\n}\r\n\r\n// 处理拖拽经过\r\nconst handleDragOver = (evt, element) => {\r\n  evt.preventDefault()\r\n}\r\n\r\n// 处理拖拽离开\r\nconst handleDragLeave = (evt, element) => {\r\n  if (element.id === dragState.value.dropTarget?.id) {\r\n    dragState.value.dropTarget = null\r\n    dragState.value.dropType = null\r\n  }\r\n}\r\n\r\n// 处理拖拽结束\r\nconst handleDragEnd = (evt) => {\r\n  const { draggedElement, dropTarget, dropType } = dragState.value\r\n  \r\n  if (draggedElement && dropTarget && dropType) {\r\n    if (dropType === 'inside' && dropTarget.type === 'folder') {\r\n      // 放入文件夹\r\n      dropTarget.children = dropTarget.children || []\r\n      dropTarget.children.push(draggedElement)\r\n      // 从原位置移除\r\n      websites.value = websites.value.filter(w => w.id !== draggedElement.id)\r\n    } else if (dropType === 'inside') {\r\n      // 创建新文件夹\r\n      const folder = {\r\n        id: Date.now(),\r\n        type: 'folder',\r\n        name: '',\r\n        icon: generateFolderIcon(),\r\n        children: [dropTarget, draggedElement]\r\n      }\r\n      \r\n      // 删除原始项\r\n      websites.value = websites.value.filter(w => \r\n        w.id !== draggedElement.id && w.id !== dropTarget.id\r\n      )\r\n      \r\n      // 添加新文件夹\r\n      websites.value.push(folder)\r\n      \r\n      // 显示命名对话框\r\n      showFolderNameDialog.value = true\r\n      nextTick(() => {\r\n        folderNameInput.value?.focus()\r\n      })\r\n    } else {\r\n      // 改变顺序\r\n      const draggedIndex = websites.value.findIndex(w => w.id === draggedElement.id)\r\n      const targetIndex = websites.value.findIndex(w => w.id === dropTarget.id)\r\n      \r\n      if (draggedIndex !== -1 && targetIndex !== -1) {\r\n        const [movedItem] = websites.value.splice(draggedIndex, 1)\r\n        const newIndex = dropType === 'before' ? \r\n          targetIndex : \r\n          targetIndex + (draggedIndex < targetIndex ? 0 : 1)\r\n        websites.value.splice(newIndex, 0, movedItem)\r\n      }\r\n    }\r\n    \r\n    saveWebsitesToStorage()\r\n  }\r\n  \r\n  // 重置拖拽状态\r\n  dragState.value = {\r\n    isDragging: false,\r\n    draggedItem: null,\r\n    draggedElement: null,\r\n    dropTarget: null,\r\n    dropType: null\r\n  }\r\n}\r\n\r\n// 处理图标点击\r\nconst handleItemClick = (item) => {\r\n  if (item.type === 'folder') {\r\n    // 显示文件夹内容\r\n    currentFolder.value = item\r\n    showFolderContent.value = true\r\n  } else {\r\n    // 打开网站\r\n    openWebsite(item)\r\n  }\r\n}\r\n\r\n// 处理创建文件夹\r\nconst handleCreateFolder = () => {\r\n  // 创建新文件夹对象\r\n  const folder = {\r\n    id: Date.now(),\r\n    type: 'folder',\r\n    name: '',\r\n    icon: generateFolderIcon(),\r\n    children: []\r\n  }\r\n  \r\n  // 添加到网站列表\r\n  websites.value.push(folder)\r\n  \r\n  // 显示命名对话框\r\n  showFolderNameDialog.value = true\r\n  hidePageContextMenu()\r\n  \r\n  // 自动聚焦输入框\r\n  nextTick(() => {\r\n    folderNameInput.value?.focus()\r\n  })\r\n}\r\n\r\n// 生成文件夹图标\r\nconst generateFolderIcon = () => {\r\n  const canvas = document.createElement('canvas')\r\n  canvas.width = 64\r\n  canvas.height = 64\r\n  const ctx = canvas.getContext('2d')\r\n  \r\n  // 绘制文件夹背景\r\n  ctx.fillStyle = '#FFB74D'\r\n  ctx.beginPath()\r\n  ctx.moveTo(8, 16)\r\n  ctx.lineTo(24, 16)\r\n  ctx.lineTo(28, 12)\r\n  ctx.lineTo(56, 12)\r\n  ctx.lineTo(56, 52)\r\n  ctx.lineTo(8, 52)\r\n  ctx.closePath()\r\n  ctx.fill()\r\n  \r\n  // 绘制文件夹前面部分\r\n  ctx.fillStyle = '#FFA726'\r\n  ctx.beginPath()\r\n  ctx.moveTo(4, 16)\r\n  ctx.lineTo(60, 16)\r\n  ctx.lineTo(56, 56)\r\n  ctx.lineTo(8, 56)\r\n  ctx.closePath()\r\n  ctx.fill()\r\n  \r\n  return canvas.toDataURL()\r\n}\r\n\r\n// 修改网站图标组件的显示逻辑\r\nconst renderIcon = (item) => {\r\n  if (item.type === 'folder') {\r\n    return item.icon || generateFolderIcon()\r\n  }\r\n  return item.icon || getFaviconUrl(item.url)\r\n}\r\n\r\n// 保存文件夹名称\r\nconst saveFolderName = () => {\r\n  if (!newFolderName.value.trim()) {\r\n    ElMessage.warning('请输入文件夹名称')\r\n    return\r\n  }\r\n\r\n  // 找到未命名的文件夹\r\n  const folder = websites.value.find(item => item.type === 'folder' && !item.name)\r\n  if (folder) {\r\n    folder.name = newFolderName.value.trim()\r\n    saveWebsitesToStorage() // 保存到本地存储\r\n    ElMessage.success('文件夹创建成功')\r\n  }\r\n\r\n  // 重置状态\r\n  newFolderName.value = ''\r\n  showFolderNameDialog.value = false\r\n}\r\n\r\n// 取消创建文件夹\r\nconst cancelFolderName = () => {\r\n  // 找到并删除未命名的文件夹\r\n  const index = websites.value.findIndex(item => item.type === 'folder' && !item.name)\r\n  if (index !== -1) {\r\n    websites.value.splice(index, 1)\r\n  }\r\n  \r\n  // 重置状态\r\n  newFolderName.value = ''\r\n  showFolderNameDialog.value = false\r\n}\r\n\r\n// 处理对话框关闭\r\nconst handleFolderDialogClosed = () => {\r\n  if (!newFolderName.value.trim()) {\r\n    cancelFolderName()\r\n  }\r\n}\r\n\r\n// 更换背景\r\nconst changeBackground = () => {\r\n  // 实现背景更换逻辑\r\n  hidePageContextMenu()\r\n}\r\n\r\nconst contextMenuStyle = computed(() => ({\r\n  left: `${contextMenu.value.x}px`,\r\n  top: `${contextMenu.value.y}px`\r\n}))\r\n\r\n// 方法\r\nconst updateDateTime = () => {\r\n  const now = new Date()\r\n  currentTime.value = now.toLocaleTimeString('zh-CN', {\r\n    hour: '2-digit',\r\n    minute: '2-digit',\r\n    hour12: false\r\n  })\r\n  currentDate.value = now.toLocaleDateString('zh-CN', {\r\n    weekday: 'long',\r\n    year: 'numeric',\r\n    month: 'long',\r\n    day: 'numeric'\r\n  })\r\n}\r\n\r\nconst showContextMenu = (event, website) => {\r\n  event.preventDefault()\r\n  contextMenu.value = {\r\n    show: true,\r\n    x: event.clientX,\r\n    y: event.clientY,\r\n    website\r\n  }\r\n}\r\n\r\nconst hideContextMenu = () => {\r\n  contextMenu.value.show = false\r\n}\r\n\r\nconst editWebsite = () => {\r\n  editingWebsite.value = contextMenu.value.website\r\n  websiteForm.value = { ...editingWebsite.value }\r\n  showAddDialog.value = true\r\n  hideContextMenu()\r\n}\r\n\r\nconst uploadIcon = () => {\r\n  const input = document.createElement('input')\r\n  input.type = 'file'\r\n  input.accept = 'image/*'\r\n  input.onchange = async (e) => {\r\n    const file = e.target.files[0]\r\n    if (file) {\r\n      try {\r\n        // 将文件转换为 base64\r\n        const reader = new FileReader()\r\n        reader.onload = (e) => {\r\n          if (editingWebsite.value) {\r\n            editingWebsite.value.icon = e.target.result\r\n          } else {\r\n            websiteForm.value.icon = e.target.result\r\n          }\r\n        }\r\n        reader.readAsDataURL(file)\r\n      } catch (error) {\r\n        ElMessage.error('上传图标失败')\r\n      }\r\n    }\r\n  }\r\n  input.click()\r\n  hideContextMenu()\r\n}\r\n\r\nconst generateIcon = (website) => {\r\n  // 使用网站首字母生成随机颜色的图标\r\n  const colors = ['#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEEAD', '#D4A5A5']\r\n  const randomColor = colors[Math.floor(Math.random() * colors.length)]\r\n  const canvas = document.createElement('canvas')\r\n  canvas.width = 64\r\n  canvas.height = 64\r\n  const ctx = canvas.getContext('2d')\r\n  \r\n  // 绘制圆形背景\r\n  ctx.fillStyle = randomColor\r\n  ctx.beginPath()\r\n  ctx.arc(32, 32, 32, 0, Math.PI * 2)\r\n  ctx.fill()\r\n  \r\n  // 绘制文字\r\n  ctx.fillStyle = '#FFFFFF'\r\n  ctx.font = 'bold 32px Arial'\r\n  ctx.textAlign = 'center'\r\n  ctx.textBaseline = 'middle'\r\n  ctx.fillText(website.name.charAt(0).toUpperCase(), 32, 32)\r\n  \r\n  website.icon = canvas.toDataURL()\r\n  saveWebsitesToStorage()\r\n  hideContextMenu()\r\n}\r\n\r\nconst deleteWebsite = () => {\r\n  const index = websites.value.findIndex(w => w.id === contextMenu.value.website.id)\r\n  if (index !== -1) {\r\n    websites.value.splice(index, 1)\r\n    saveWebsitesToStorage()\r\n    ElMessage.success('删除成功')\r\n  }\r\n  hideContextMenu()\r\n}\r\n\r\nconst saveWebsite = () => {\r\n  if (!websiteForm.value.name || !websiteForm.value.url) {\r\n    ElMessage.warning('请填写完整信息')\r\n    return\r\n  }\r\n\r\n  if (editingWebsite.value) {\r\n    // 更新现有网站\r\n    Object.assign(editingWebsite.value, websiteForm.value)\r\n  } else {\r\n    // 添加新网站\r\n    websites.value.push({\r\n      id: Date.now(),\r\n      ...websiteForm.value\r\n    })\r\n  }\r\n\r\n  saveWebsitesToStorage()\r\n  showAddDialog.value = false\r\n  editingWebsite.value = null\r\n  websiteForm.value = { name: '', url: '', icon: '' }\r\n  ElMessage.success(editingWebsite.value ? '更新成功' : '添加成功')\r\n}\r\n\r\nconst getFaviconUrl = (url) => {\r\n  try {\r\n    const urlObj = new URL(url)\r\n    // 尝试多个可能的图标地址\r\n    const possibleIcons = [\r\n      `${urlObj.origin}/favicon.ico`,\r\n      `${urlObj.origin}/favicon.png`,\r\n      `${urlObj.origin}/apple-touch-icon.png`,\r\n      `https://www.google.com/s2/favicons?domain=${urlObj.hostname}&sz=64`\r\n    ]\r\n    return possibleIcons[0] // 默认使用第一个\r\n  } catch {\r\n    return ''\r\n  }\r\n}\r\n\r\nconst handleIconError = (event, website) => {\r\n  // 尝试使用 Google Favicon 服务作为备选\r\n  try {\r\n    const urlObj = new URL(website.url)\r\n    event.target.src = `https://www.google.com/s2/favicons?domain=${urlObj.hostname}&sz=64`\r\n  } catch {\r\n    // 如果还是失败，生成一个随机颜色的字母图标\r\n    generateIcon(website)\r\n  }\r\n}\r\n\r\nconst openWebsite = (website) => {\r\n  if (!website.url) return\r\n  window.open(website.url, '_blank')\r\n}\r\n\r\nconst saveWebsitesToStorage = () => {\r\n  localStorage.setItem('websites', JSON.stringify(websites.value))\r\n}\r\n\r\nconst loadWebsitesFromStorage = () => {\r\n  const stored = localStorage.getItem('websites')\r\n  if (stored) {\r\n    websites.value = JSON.parse(stored)\r\n  }\r\n}\r\n\r\n// 添加自动获取网站信息的方法\r\nconst autoFetchWebsiteInfo = async () => {\r\n  const url = websiteForm.value.url\r\n  if (!url) return\r\n  \r\n  try {\r\n    // 标准化 URL\r\n    const normalizedUrl = url.startsWith('http') ? url : `https://${url}`\r\n    const urlObj = new URL(normalizedUrl)\r\n    \r\n    fetchingInfo.value = true\r\n    loading.value = ElLoading.service({\r\n      target: '.el-dialog',\r\n      text: '获取网站信息...'\r\n    })\r\n\r\n    try {\r\n      // 尝试获取网站标题\r\n      const response = await fetch(normalizedUrl)\r\n      const html = await response.text()\r\n      const doc = new DOMParser().parseFromString(html, 'text/html')\r\n      const title = doc.title || urlObj.hostname.replace('www.', '')\r\n      \r\n      // 更新表单\r\n      websiteForm.value.name = title\r\n      websiteForm.value.url = normalizedUrl\r\n      \r\n      // 尝试获取网站图标\r\n      const favicon = await getFaviconWithFallback(urlObj)\r\n      if (favicon) {\r\n        websiteForm.value.icon = favicon\r\n      }\r\n      \r\n      ElMessage.success('获取网站信息成功')\r\n    } catch (error) {\r\n      console.error('获取网站信息失败:', error)\r\n      // 至少设置一个基本的网站名称\r\n      websiteForm.value.name = urlObj.hostname.replace('www.', '')\r\n      ElMessage.warning('无法获取完整网站信息，已设置基本信息')\r\n    }\r\n  } catch (error) {\r\n    ElMessage.error('请输入有效的网址')\r\n  } finally {\r\n    fetchingInfo.value = false\r\n    loading.value.close()\r\n  }\r\n}\r\n\r\n// 添加获取网站图标的增强方法\r\nconst getFaviconWithFallback = async (urlObj) => {\r\n  const iconUrls = [\r\n    `${urlObj.origin}/favicon.ico`,\r\n    `${urlObj.origin}/favicon.png`,\r\n    `${urlObj.origin}/apple-touch-icon.png`,\r\n    `https://www.google.com/s2/favicons?domain=${urlObj.hostname}&sz=64`\r\n  ]\r\n\r\n  for (const url of iconUrls) {\r\n    try {\r\n      const response = await fetch(url)\r\n      if (response.ok) {\r\n        return url\r\n      }\r\n    } catch (error) {\r\n      continue\r\n    }\r\n  }\r\n  \r\n  return null\r\n}\r\n\r\n// 修改图标预览错误处理\r\nconst handlePreviewIconError = (event) => {\r\n  const url = websiteForm.value.url\r\n  if (url) {\r\n    try {\r\n      const urlObj = new URL(url)\r\n      event.target.src = `https://www.google.com/s2/favicons?domain=${urlObj.hostname}&sz=64`\r\n    } catch {\r\n      event.target.style.display = 'none'\r\n    }\r\n  } else {\r\n    event.target.style.display = 'none'\r\n  }\r\n}\r\n\r\n// 文件夹相关\r\nconst handleFolderDragStart = (evt) => {\r\n  const element = currentFolder.value.children.find(\r\n    w => w.id.toString() === evt.item.dataset.id\r\n  )\r\n  if (!element) return\r\n  \r\n  dragState.value = {\r\n    isDragging: true,\r\n    draggedItem: evt.item,\r\n    draggedElement: element,\r\n    dropTarget: null,\r\n    dropType: null\r\n  }\r\n}\r\n\r\nconst handleFolderDragEnd = (evt) => {\r\n  saveWebsitesToStorage()\r\n}\r\n\r\nconst handleFolderDragAdd = (evt) => {\r\n  saveWebsitesToStorage()\r\n}\r\n\r\n// 处理拖拽添加\r\nconst handleDragAdd = (evt) => {\r\n  saveWebsitesToStorage()\r\n}\r\n\r\n// 生命周期钩子\r\nonMounted(() => {\r\n  loadWebsitesFromStorage()\r\n  updateDateTime()\r\n  const timer = setInterval(updateDateTime, 1000)\r\n  document.addEventListener('click', hideContextMenu)\r\n  \r\n  onUnmounted(() => {\r\n    clearInterval(timer)\r\n    document.removeEventListener('click', hideContextMenu)\r\n  })\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.web-nav-container {\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n  padding: 1rem;\r\n}\r\n\r\n.top-section {\r\n  text-align: center;\r\n  margin-bottom: 3rem;\r\n}\r\n\r\n.datetime {\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.time {\r\n  font-size: 4rem;\r\n  font-weight: 700;\r\n  color: #2c3e50;\r\n}\r\n\r\n.date {\r\n  font-size: 1.2rem;\r\n  color: #7f8c8d;\r\n  margin-top: 0.5rem;\r\n}\r\n\r\n.search-box {\r\n  max-width: 600px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.search-input {\r\n  :deep(.el-input__wrapper) {\r\n    padding: 0.75rem 1rem;\r\n    border-radius: 1rem;\r\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n  }\r\n  \r\n  :deep(.el-input__inner) {\r\n    font-size: 1.1rem;\r\n  }\r\n}\r\n\r\n.nav-content {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n  background: rgba(255, 255, 255, 0.8);\r\n  backdrop-filter: blur(10px);\r\n  border-radius: 1rem;\r\n  margin-top: 1rem;\r\n}\r\n\r\n.toolbar {\r\n  padding: 1rem;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n}\r\n\r\n.filter-box {\r\n  position: absolute;\r\n  top: 1rem;\r\n  right: 1rem;\r\n  width: 200px;\r\n}\r\n\r\n.pagination {\r\n  margin: 1rem 0;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n.engine-icon {\r\n  width: 20px;\r\n  height: 20px;\r\n  cursor: pointer;\r\n  transition: transform 0.3s ease;\r\n}\r\n\r\n.engine-icon:hover {\r\n  transform: scale(1.1);\r\n}\r\n\r\n.website-grid {\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  padding: 1rem;\r\n}\r\n\r\n.website-list {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\r\n  gap: 1rem;\r\n  align-content: start;\r\n}\r\n\r\n.website-item {\r\n  aspect-ratio: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 1rem;\r\n  border-radius: 0.5rem;\r\n  background: rgba(255, 255, 255, 0.7);\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  position: relative;\r\n}\r\n\r\n.website-item:hover {\r\n  transform: translateY(-5px);\r\n  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.website-item.drag-over::before {\r\n  content: '';\r\n  position: absolute;\r\n  inset: 0;\r\n  border: 2px dashed #409EFF;\r\n  border-radius: 8px;\r\n  background: rgba(64, 158, 255, 0.1);\r\n  pointer-events: none;\r\n}\r\n\r\n.website-item.drag-over::after {\r\n  content: '';\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  height: 2px;\r\n  background: #409EFF;\r\n  pointer-events: none;\r\n}\r\n\r\n.website-item.drag-over[data-drop-type=\"before\"]::after {\r\n  top: -1px;\r\n}\r\n\r\n.website-item.drag-over[data-drop-type=\"after\"]::after {\r\n  bottom: -1px;\r\n}\r\n\r\n.website-icon {\r\n  width: 48px;\r\n  height: 48px;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.website-icon img {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: contain;\r\n  border-radius: 12px;\r\n  transition: all 0.3s ease;\r\n  background: #f5f7fa;\r\n  padding: 8px;\r\n}\r\n\r\n.website-item:hover .website-icon img {\r\n  transform: scale(1.05);\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.website-name {\r\n  margin-top: 8px;\r\n  font-size: 0.9rem;\r\n  color: #606266;\r\n  text-align: center;\r\n  width: 100%;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n  line-height: 1.3;\r\n  max-height: 2.6em; /* 限制最大高度 */\r\n}\r\n\r\n.add-website {\r\n  width: 120px;\r\n  height: 120px;\r\n  border: 2px dashed #e0e0e0;\r\n  background: rgba(255, 255, 255, 0.7);\r\n  cursor: pointer !important; /* 确保鼠标样式正确 */\r\n  pointer-events: all !important; /* 确保可以点击 */\r\n}\r\n\r\n.add-website:hover {\r\n  border-color: #409EFF;\r\n  background: #f0f7ff;\r\n  transform: translateY(-2px);\r\n}\r\n\r\n.add-icon {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 48px;\r\n  height: 48px;\r\n  border-radius: 12px;\r\n  background: #f5f7fa;\r\n  color: #909399;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.add-website:hover .add-icon {\r\n  background: #409EFF;\r\n  color: white;\r\n}\r\n\r\n.add-website:hover .website-name {\r\n  color: #409EFF;\r\n}\r\n\r\n.context-menu {\r\n  position: fixed;\r\n  background: white;\r\n  border-radius: 0.5rem;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n  padding: 0.5rem 0;\r\n  z-index: 1000;\r\n}\r\n\r\n.menu-item {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 0.5rem 1rem;\r\n  cursor: pointer;\r\n  transition: background-color 0.2s;\r\n}\r\n\r\n.menu-item:hover {\r\n  background-color: #f5f7fa;\r\n}\r\n\r\n.menu-item .el-icon {\r\n  margin-right: 0.5rem;\r\n  font-size: 1rem;\r\n}\r\n\r\n.menu-item.delete {\r\n  color: #f56c6c;\r\n}\r\n\r\n.menu-item.delete:hover {\r\n  background-color: #fef0f0;\r\n}\r\n\r\n/* 添加图标预览样式 */\r\n.icon-preview {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 48px;\r\n  height: 48px;\r\n  margin-bottom: 8px;\r\n  border-radius: 8px;\r\n  background: #f5f7fa;\r\n  overflow: hidden;\r\n}\r\n\r\n.preview-img {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: contain;\r\n  padding: 8px;\r\n}\r\n\r\n/* 调整对话框样式 */\r\n:deep(.el-dialog__body) {\r\n  padding-top: 20px;\r\n}\r\n\r\n:deep(.el-form-item:last-child) {\r\n  margin-bottom: 0;\r\n}\r\n\r\n/* 添加加载状态样式 */\r\n:deep(.el-loading-mask) {\r\n  background-color: rgba(255, 255, 255, 0.9);\r\n}\r\n\r\n:deep(.el-loading-spinner .el-loading-text) {\r\n  margin: 3px 0;\r\n  font-size: 14px;\r\n  color: var(--el-color-primary);\r\n}\r\n\r\n/* 全屏切换按钮 */\r\n.fullscreen-toggle {\r\n  position: fixed;\r\n  top: 1rem;\r\n  right: 1rem;\r\n  padding: 0.5rem;\r\n  background: rgba(255, 255, 255, 0.9);\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  z-index: 100;\r\n}\r\n\r\n.fullscreen-toggle:hover {\r\n  transform: scale(1.1);\r\n  background: white;\r\n}\r\n\r\n/* 拖拽相关样式 */\r\n.ghost-card {\r\n  opacity: 0.5;\r\n  background: #409EFF;\r\n  border: 2px dashed #409EFF;\r\n}\r\n\r\n.dragging-card {\r\n  transform: scale(1.05);\r\n  z-index: 100;\r\n  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n/* 文件夹样式 */\r\n.folder-dialog {\r\n  :deep(.el-dialog__body) {\r\n    padding: 20px;\r\n  }\r\n}\r\n\r\n.folder-content {\r\n  min-height: 400px;\r\n}\r\n\r\n.folder-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\r\n  gap: 1.5rem;\r\n  padding: 1rem;\r\n}\r\n\r\n/* 搜索历史样式 */\r\n.search-history {\r\n  position: absolute;\r\n  top: 100%;\r\n  left: 0;\r\n  right: 0;\r\n  background: white;\r\n  border-radius: 4px;\r\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\r\n  z-index: 1000;\r\n  margin-top: 4px;\r\n}\r\n\r\n.history-item {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 8px 16px;\r\n  cursor: pointer;\r\n  \r\n  &:hover {\r\n    background: #f5f7fa;\r\n  }\r\n  \r\n  .el-icon {\r\n    margin-right: 8px;\r\n    font-size: 14px;\r\n    color: #909399;\r\n  }\r\n  \r\n  .delete-icon {\r\n    margin-left: auto;\r\n    \r\n    &:hover {\r\n      color: #f56c6c;\r\n    }\r\n  }\r\n}\r\n\r\n.website-item.is-folder {\r\n  background: rgba(255, 236, 179, 0.7);\r\n  cursor: pointer;\r\n}\r\n\r\n.website-item.is-folder.drag-over {\r\n  background: rgba(255, 236, 179, 0.9);\r\n  border: 2px dashed #409EFF;\r\n}\r\n\r\n.website-item.is-folder:hover {\r\n  background: rgba(255, 236, 179, 0.9);\r\n  transform: translateY(-5px);\r\n}\r\n\r\n.website-item.is-folder .website-icon img {\r\n  padding: 4px;\r\n  background: transparent;\r\n}\r\n\r\n/* 右键菜单样式 */\r\n.context-menu {\r\n  background: white;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);\r\n  padding: 4px 0;\r\n}\r\n\r\n.menu-item {\r\n  padding: 8px 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s;\r\n}\r\n\r\n.menu-item:hover {\r\n  background-color: #f5f7fa;\r\n}\r\n\r\n.menu-item .el-icon {\r\n  margin-right: 8px;\r\n  font-size: 16px;\r\n}\r\n\r\n/* 添加拖拽指示器样式 */\r\n.drop-indicator {\r\n  position: fixed;\r\n  pointer-events: none;\r\n  z-index: 1000;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.drop-indicator:not(.is-folder) {\r\n  background-color: #409EFF;\r\n  border-radius: 2px;\r\n}\r\n\r\n.drop-indicator.is-folder {\r\n  border: 2px dashed #409EFF;\r\n  border-radius: 8px;\r\n  background-color: rgba(64, 158, 255, 0.1);\r\n}\r\n\r\n/* 修改拖拽时的样式 */\r\n.dragging-card {\r\n  transform: scale(1.05);\r\n  opacity: 0.8;\r\n  z-index: 100;\r\n}\r\n\r\n.ghost-card {\r\n  opacity: 0.3;\r\n  background: #409EFF;\r\n}\r\n</style> ","import script from \"./WebNav.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./WebNav.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./WebNav.vue?vue&type=style&index=0&id=3d3f4fc5&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3d3f4fc5\"]])\n\nexport default __exports__","import script from \"./WebNavigationView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./WebNavigationView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./WebNavigationView.vue?vue&type=style&index=0&id=06ba3648&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-06ba3648\"]])\n\nexport default __exports__","import { createRouter, createWebHistory } from 'vue-router';\nimport MainLayout from '../layouts/MainLayout.vue';\nimport Dashboard from '../views/Dashboard.vue';\nimport HelloWorld from '../components/HelloWorld.vue';\nimport GetStart from '../components/GetStart.vue';\nimport PasswordGenerator from '../components/PasswordGenerator.vue';\nimport ReportSummary from '../components/ReportSummary.vue';\nimport PomodoroTimer from '../components/PomodoroTimer.vue';\nimport TodoList from '../views/TodoList.vue';\nimport GoalManager from '../views/GoalManager.vue';\nimport LoginView from '@/views/LoginView.vue'\nimport ProfileView from '@/views/ProfileView.vue'\nimport SettingsView from '@/views/SettingsView.vue'\nimport NotesView from '../views/NotesView.vue'\nimport KnowledgeBaseView from '../views/KnowledgeBaseView.vue'\nimport MindMapView from '../views/MindMapView.vue'\nimport ReviewsView from '../views/ReviewsView.vue'\nimport CalendarView from '../views/CalendarView.vue'\nimport AIChatView from '../views/AIChatView.vue'\nimport GratitudeDiaryView from '../views/GratitudeDiaryView.vue'\nimport IframeView from '../views/IframeView.vue'\nimport WebView from '../views/WebView.vue'\nimport WebNavigationView from '../views/WebNavigationView.vue'\nimport WebNav from '../views/WebNav.vue'\n\n// 路由配置\nexport const routes = [\n  {\n    path: '/',\n    component: MainLayout,\n    children: [\n      { path: '', redirect: '/dashboard' },\n      { path: 'dashboard', name: 'Dashboard', component: Dashboard, description: '首页概览' },\n      { path: 'todos', name: 'TodoList', component: TodoList, description: '待办事项管理' },\n      { path: 'password-generator', name: 'PasswordGenerator', component: PasswordGenerator, description: '安全的密码生成器' },\n      { path: 'report-summary', name: 'ReportSummary', component: ReportSummary, description: '日报/周报总结' },\n      { path: 'pomodoro-timer', name: 'PomodoroTimer', component: PomodoroTimer, description: '一个番茄钟' },\n      { path: 'goals', name: 'GoalManager', component: GoalManager, description: '目标管理' },\n      { \n        path: 'profile', \n        name: 'Profile', \n        component: ProfileView, \n        meta: { \n          title: '个人信息',\n          requiresAuth: true \n        }\n      },\n      { \n        path: 'settings', \n        name: 'Settings', \n        component: SettingsView, \n        meta: { \n          title: '系统设置',\n          requiresAuth: true \n        }\n      },\n      { \n        path: 'notes', \n        name: 'Notes', \n        component: NotesView, \n        meta: { \n          title: '便签记录',\n          icon: 'Memo',\n          requiresAuth: true \n        }\n      },\n      { \n        path: 'knowledge', \n        name: 'KnowledgeBase', \n        component: KnowledgeBaseView, \n        meta: { \n          title: '知识库',\n          icon: 'Collection',\n          requiresAuth: true \n        }\n      },\n      { \n        path: 'mindmap', \n        name: 'MindMap', \n        component: MindMapView,\n        meta: { \n          title: '思维导图',\n          icon: 'Share',\n          requiresAuth: true \n        }\n      },\n      { \n        path: 'reviews', \n        name: 'Reviews', \n        component: ReviewsView,\n        meta: { \n          title: '复盘记录',\n          icon: 'DocumentChecked',\n          requiresAuth: true \n        }\n      },\n      { \n        path: 'calendar', \n        name: 'Calendar', \n        component: CalendarView, \n        meta: { \n          title: '日历',\n          icon: 'Calendar',\n          requiresAuth: true \n        }\n      },\n      {\n        path: 'password',\n        name: 'Password',\n        component: PasswordGenerator,\n        meta: {\n          title: '密码生成器',\n          icon: 'Key',\n          requiresAuth: true\n        }\n      },\n      { \n        path: 'ai-chat', \n        name: 'AIChat', \n        component: AIChatView, \n        meta: { \n          title: 'AI问答',\n          icon: 'ChatDotRound',\n          requiresAuth: true \n        }\n      },\n      {\n        path: 'gratitude-diary',\n        name: 'GratitudeDiary',\n        component: GratitudeDiaryView,\n        meta: {\n          title: '感恩日记',\n          icon: 'EditPen',\n          requiresAuth: true\n        }\n      },\n      {\n        path: 'iframe-view',\n        name: 'IframeView',\n        component: IframeView,\n        meta: { \n          title: '外部页面',\n          requiresAuth: true \n        }\n      },\n      {\n        path: 'web-view',\n        name: 'WebView',\n        component: WebView,\n        meta: { \n          title: '网页浏览',\n          requiresAuth: true \n        }\n      },\n      {\n        path: 'web-nav',\n        name: 'WebNav',\n        component: WebNav\n      }\n    ]\n  },\n  // 保留原来的欢迎和开始页面作为独立路由\n  { path: '/welcome', name: 'WelcomePage', component: HelloWorld, description: '欢迎来到高效办公' },\n  { path: '/get-start', name: 'GetStart', component: GetStart, description: '开始使用' },\n  {\n    path: '/login',\n    name: 'Login',\n    component: LoginView,\n    meta: {\n      title: '登录',\n      requiresAuth: false\n    }\n  }\n];\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n});\n\nexport default router;\n","<template>\r\n  <router-view />\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'App',\r\n}\r\n</script>\r\n\r\n<style>\r\nbody {\r\n  margin: 0;\r\n}\r\n\r\n#app {\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n  margin: 0;\r\n  padding: 0;\r\n  height: 100vh;\r\n  width: 100%;\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n</style>","import { render } from \"./App.vue?vue&type=template&id=a0cc2c0e\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=a0cc2c0e&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","const defaultMenus = [\r\n  {\r\n    id: 1,\r\n    title: '仪表盘',\r\n    path: '/dashboard',\r\n    icon: 'HomeFilled',\r\n    visible: true,\r\n    children: []\r\n  },\r\n  {\r\n    \"id\": 1739182210844,\r\n    \"title\": \"浏览器\",\r\n    \"path\": \"/web-view?url=http://linqingyang.com/\",\r\n    \"icon\": \"Menu\",\r\n    \"visible\": true,\r\n    \"children\": [],\r\n    \"editing\": false\r\n  },\r\n  {\r\n    \"id\": 1739182210845,\r\n    \"title\": \"WebView\",\r\n    \"path\": \"/web-nav\",\r\n    \"icon\": \"Menu\",\r\n    \"visible\": true,\r\n    \"children\": [],\r\n    \"editing\": false\r\n  },\r\n  {\r\n    id: 2,\r\n    title: '任务管理',\r\n    path: '/tasks',\r\n    icon: 'List',\r\n    visible: true,\r\n    children: [\r\n      {\r\n        id: 21,\r\n        title: '待办事项',\r\n        path: '/todos',\r\n        icon: 'List',\r\n        visible: true,\r\n        children: []\r\n      },\r\n      {\r\n        id: 22,\r\n        title: '目标管理',\r\n        path: '/goals',\r\n        icon: 'Aim',\r\n        visible: true,\r\n        children: []\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    id: 3,\r\n    title: '工具箱',\r\n    path: '/tools',\r\n    icon: 'Tools',\r\n    visible: true,\r\n    children: [\r\n      {\r\n        id: 31,\r\n        title: '番茄钟',\r\n        path: '/pomodoro-timer',\r\n        icon: 'Timer',\r\n        visible: true,\r\n        children: []\r\n      },\r\n      {\r\n        id: 32,\r\n        title: '密码生成器',\r\n        path: '/password',\r\n        icon: 'Key',\r\n        visible: true,\r\n        children: []\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    id: 4,\r\n    title: '知识管理',\r\n    path: '/knowledge',\r\n    icon: 'Collection',\r\n    visible: true,\r\n    children: [\r\n      {\r\n        id: 41,\r\n        title: '知识库',\r\n        path: '/knowledge',\r\n        icon: 'Collection',\r\n        visible: true,\r\n        children: []\r\n      },\r\n      {\r\n        id: 42,\r\n        title: '思维导图',\r\n        path: '/mindmap',\r\n        icon: 'Share',\r\n        visible: true,\r\n        children: []\r\n      },\r\n      {\r\n        id: 43,\r\n        title: '便签记录',\r\n        path: '/notes',\r\n        icon: 'Memo',\r\n        visible: true,\r\n        children: []\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    id: 5,\r\n    title: '日程管理',\r\n    path: '/schedule',\r\n    icon: 'Calendar',\r\n    visible: true,\r\n    children: [\r\n      {\r\n        id: 51,\r\n        title: '日历',\r\n        path: '/calendar',\r\n        icon: 'Calendar',\r\n        visible: true,\r\n        children: []\r\n      },\r\n      {\r\n        id: 52,\r\n        title: '复盘记录',\r\n        path: '/reviews',\r\n        icon: 'DocumentChecked',\r\n        visible: true,\r\n        children: []\r\n      },\r\n      {\r\n        id: 53,\r\n        title: '感恩日记',\r\n        path: '/gratitude-diary',\r\n        icon: 'EditPen',\r\n        visible: true,\r\n        children: []\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    id: 6,\r\n    title: 'AI助手',\r\n    path: '/ai-tools',\r\n    icon: 'ChatDotRound',\r\n    visible: true,\r\n    \"children\": [\r\n      {\r\n        \"id\": 61,\r\n        \"title\": \"系统AI助手\",\r\n        \"path\": \"/ai-chat\",\r\n        \"icon\": \"ChatDotRound\",\r\n        \"visible\": true,\r\n        \"children\": []\r\n      },\r\n      {\r\n        \"id\": 62,\r\n        \"title\": \"DeepSeek\",\r\n        \"path\": \"@https://chat.deepseek.com\",\r\n        \"icon\": \"Link\",\r\n        \"visible\": true,\r\n        \"children\": []\r\n      },\r\n      {\r\n        \"id\": 63,\r\n        \"title\": \"Claude\",\r\n        \"path\": \"@https://claude.ai/\",\r\n        \"icon\": \"Link\",\r\n        \"visible\": true,\r\n        \"children\": []\r\n      },\r\n      {\r\n        id: 64,\r\n        title: 'Gemini',\r\n        path: '@https://gemini.google.com',\r\n        icon: 'Link',\r\n        visible: true,\r\n        children: []\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    id: 7,\r\n    title: '系统设置',\r\n    path: '/settings',\r\n    icon: 'Setting',\r\n    visible: true,\r\n    children: []\r\n  }\r\n]\r\n\r\nexport function initMenuConfig() {\r\n  // 检查是否已经初始化过菜单配置\r\n  const existingConfig = localStorage.getItem('menu-config')\r\n  if (!existingConfig) {\r\n    // 如果没有,则保存默认配置\r\n    localStorage.setItem('menu-config', JSON.stringify(defaultMenus))\r\n  }\r\n} ","import { createApp } from 'vue'\nimport router from './router'\nimport App from './App.vue'\nimport { createPinia } from 'pinia'\nimport { initMenuConfig } from './utils/initMenuConfig'\n\n// 引入 Ant Design Vue\nimport Antd from 'ant-design-vue'\nimport 'ant-design-vue/dist/reset.css'\n\n// 首先引入 Tailwind CSS\nimport './assets/tailwind.css'\n\n// 然后是 Element Plus\nimport ElementPlus from 'element-plus'\nimport 'element-plus/dist/index.css'\nimport * as ElementPlusIcons from '@element-plus/icons-vue'\n\n// 最后是 Bootstrap\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport 'bootstrap-vue/dist/bootstrap-vue.min.css'\n\n// 引入 md-editor-v3\nimport MdEditor from 'md-editor-v3'\nimport 'md-editor-v3/lib/style.css'\n\nimport './styles/index.css'  // 引入全局样式\n\nconst app = createApp(App)\nconst pinia = createPinia()\n\n// 注册所有图标\nfor (const [key, component] of Object.entries(ElementPlusIcons)) {\n  app.component(key, component)\n}\n\n// 注册插件\napp.use(Antd)\napp.use(ElementPlus)\napp.use(pinia)\napp.component('MdEditor', MdEditor)\napp.use(router)\n\n// 初始化菜单配置\ninitMenuConfig()\n\napp.mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkfrontend\"] = self[\"webpackChunkfrontend\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(82629); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["router","useRouter","navigateTo","node","path","startsWith","window","open","slice","push","query","url","title","__exports__","route","useRoute","activeMenu","computed","isCollapse","ref","menuNodes","menuConfig","localStorage","getItem","JSON","parse","toggleCollapse","value","emit","__emit","watch","newValue","userInfo","name","avatar","userAvatar","handleCollapseChange","collapsed","handleCommand","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","command","wrap","_context","prev","next","t0","abrupt","handleLogout","stop","_x","apply","arguments","_ref2","_callee2","_context2","ElMessageBox","confirm","confirmButtonText","cancelButtonText","type","useReviewStore","defineStore","reviews","loadReviews","stored","saveReviews","setItem","stringify","addReview","review","unshift","updateReview","id","updatedReview","index","findIndex","r","_objectSpread","deleteReview","filter","getRecentReviews","limit","length","undefined","sort","a","b","Date","date","getFilteredReviews","use","CanvasRenderer","LineChart","PieChart","HeatmapChart","GridComponent","TooltipComponent","LegendComponent","ToolboxComponent","CalendarComponent","VisualMapComponent","todos","trendTimeRange","reviewStore","loadTodos","saveTodosToStorage","deep","stats","t","completed","description","class","icon","getTotalPomodoros","getCompletionRate","getCompletionTrend","getOverdueTasks","reduce","sum","task","pomodoros","total","Math","round","lastWeek","setDate","getDate","oldTasks","createdAt","getTime","oldCompleted","oldRate","currentRate","parseFloat","diff","abs","concat","isOverdue","dueDate","getCompletedTasksForDate","year","getFullYear","month","getMonth","startDate","endDate","completedAt","nextDay","getNewTasksForDate","getDateRange","daysInMonth","currentYear","dates","today","i","setHours","_i","_date","_month","_date2","taskTrendOption","completedData","map","newData","tooltip","trigger","formatter","params","dataIndex","formatDate","param","seriesName","join","legend","data","grid","left","right","bottom","containLabel","xAxis","boundaryGap","formatDateShort","axisLabel","interval","rotate","yAxis","minInterval","series","smooth","areaStyle","opacity","itemStyle","color","lineStyle","width","getVirtualData","time","dateStr","completedCount","newCount","updateRecentActivities","activities","now","threeDaysAgo","forEach","content","text","recentActivities","getGoalProgress","categories","target","todo","category","Object","entries","_slicedToArray","getCategoryColor","colors","goalProgressOption","top","max","axisLine","show","axisTick","barWidth","label","position","markLine","symbol","item","coord","heatmapOption","visualMap","min","calculable","orient","inRange","calendar","cellSize","range","borderWidth","yearLabel","coordinateSystem","recentTodos","goToTodo","setTimeout","input","document","querySelector","focus","getPriorityType","priority","types","timestamp","toLocaleString","day","hour","minute","handleStatClick","onMounted","reviewType","reviewDialogVisible","reviewFormRef","reviewForm","achievements","lessons","plans","reviewRules","required","message","filteredReviews","getReviewDialogTitle","typeMap","daily","weekly","monthly","openReviewDialog","submitReview","_ref3","validate","valid","reviewDate","newReview","resetFields","ElMessage","success","getReviewType","getReviewTagType","getReviewTypeText","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_router_link","to","default","_withCtx","_cache","_createTextVNode","_","render","_hoisted_3","_Fragment","_renderList","$data","routes","key","_hoisted_4","_hoisted_5","_hoisted_6","_toDisplayString","_hoisted_7","_hoisted_8","filteredRoutes","_component_a_card","bordered","_component_a_form","layout","_component_a_form_item","_component_a_input_number","passwordLength","$event","style","_component_a_checkbox_group","selectedOptions","_component_a_checkbox","_component_a_button","block","onClick","$options","generatePassword","_component_a_input_group","compact","_component_a_input","password","readonly","copyPassword","methods","characterSets","uppercase","lowercase","numbers","symbols","availableCharacters","this","option","newPassword","randomIndex","floor","random","alert","navigator","clipboard","writeText","then","catch","_createBlock","_component_el_container","_component_el_header","_component_el_radio_group","modelValue","$setup","reportType","onChange","handleReportTypeChange","_component_el_radio_button","_component_el_date_picker","reportDate","placeholder","datePlaceholder","datePickerOptions","handleDateChange","formattedDateInfo","_component_el_main","_component_el_card","_component_el_form","model","form","_component_el_form_item","_component_el_input","_component_el_select","status","_component_el_option","_component_el_button","onSubmit","inline","reportInput","done","doing","_component_el_table","reports","_component_el_table_column","prop","row","_component_el_tag","size","dayjs","weekOfYear","quarterOfYear","setup","firstDayOfWeek","format","pickerType","weekNumber","week","quarter","timer","percentage","timerRunning","currentEmoji","selectedTask","pomodoroDuration","showConfetti","confettiCanvas","searchText","showConfirmationModal","showContinueModal","startTime","lastTickTime","showCompletedTasks","sortBy","filterPriority","emojis","formattedTime","minutes","String","padStart","seconds","loadTodosFromStorage","incompleteTodos","completedTodos","filteredIncompleteTodos","toLowerCase","includes","completedSearchText","filteredCompletedTodos","result","_toConsumableArray","selectTask","cancelAnimationFrame","toggleTimer","startTimer","warning","pomodoroTimeInSeconds","performance","_tick","currentTime","elapsedSeconds","onPomodoroComplete","requestAnimationFrame","resetTimer","shouldReset","handleTaskComplete","completeTask","handleContinuePomodoro","handleContinueNextPomodoro","recordPomodoro","handleCancelPomodoro","find","showFullScreenConfetti","confetti","duration","animationEnd","defaults","randomInRange","nextTick","require","startVelocity","spread","ticks","zIndex","setInterval","timeLeft","clearInterval","particleCount","origin","x","y","goToTodoPage","selectTaskFromRoute","taskId","Number","splice","newTaskId","hoveredTask","mousePosition","showTaskCard","card","cardRect","getBoundingClientRect","height","maxX","innerWidth","minX","maxY","minY","handleMouseMove","event","clientX","clientY","hideTaskCard","handleVisibilityChange","hidden","elapsedTime","_tick2","toggleCompletedTasks","addEventListener","onUnmounted","removeEventListener","newTodo","editingId","editingText","filterStatus","newTodoPriority","newDueDate","datePickerVisible","tempDueDate","editingDueDate","newTodoCategory","isHovering","hoveredTodo","deleteHistory","sortState","columnKey","order","completedTask","columns","sorter","ellipsis","localeCompare","priorityWeight","defaultSortOrder","toLocaleDateString","weekday","filteredTodos","list","localSortState","statusCount","active","getPriorityColor","isNaN","addTodo","trim","deleteTodo","info","h","cursor","marginLeft","undoDelete","fontSize","startEdit","record","saveTodo","onSearch","onFilterChange","setPriority","setDueDate","handleDateOk","valueOf","toggleTodo","checked","_x2","formatDuration","ms","hours","days","startTask","deleteRecord","error","cleanupDeleteHistory","handleKeyDown","e","ctrlKey","preventDefault","lastDelete","cleanup","handleTableChange","pagination","filters","field","changePriority","updatedTodo","openDatePicker","clearDueDate","setCategory","getCategoryShortName","shortNames","changeCategory","showDetails","rect","tooltipEl","hideDetails","emoji","getRowClassName","props","__props","mindMapContainer","mindMap","d","transformGoalsToMindMap","goals","console","log","expand","isActive","fontWeight","children","goal","border","deadline","progress","steps","step","criteria","weight","high","medium","low","adjustView","execute","viewData","view","_mindMapContainer$val","clientWidth","clientHeight","scale","initMindMap","MindMap","el","theme","template","config","backgroundColor","lineColor","lineWidth","fontFamily","nodeStyle","borderRadius","padding","xGap","yGap","mousewheelAction","enableFreeDrag","textOverflow","enableAnimation","expandAnimation","enable","on","goalId","g","cleanupMindMap","off","destroy","handleResize","_mindMapContainer$val2","resize","newGoals","setData","onBeforeUnmount","_inject","inject","getStatusType","handleSelect","statuses","getGoalsByStatus","handleListUpdate","newList","newStatus","updatedGoals","updatedGoal","statusMap","pending","in_progress","getProgressStatus","emits","getTaskStatusType","handleStepChange","updatedSteps","totalSteps","completedSteps","s","handleNotesChange","notes","handleUpdate","handleDelete","formRef","goalForm","expectedResults","rules","addStep","removeStep","aiLoading","disablePastDates","disableDates","generateId","toString","substr","submitForm","formEl","newGoal","toISOString","resetForm","generateWithAI","stepRules","viewMode","showDetail","showCreateDialog","selectedGoal","quickFilters","currentFilter","filteredGoals","applyFilter","handleGoalSelect","handleGoalUpdate","handleGoalCreate","mindMapComponent","getCurrentInstance","refs","createNewGoal","provide","createStep","completedGoals","completionRate","currentViewComponent","MindMapView","ListView","KanbanView","getFilterCount","filterValue","handleCreateDialogClose","loading","rememberMe","loginForm","reactive","username","loginRules","handleLogin","Promise","resolve","finish","isEditing","profileForm","nickname","email","emailVerified","phone","phoneVerified","region","bio","securitySettings","twoFactor","regionOptions","handleEdit","handleSave","beforeAvatarUpload","file","isImage","isLt2M","handleAvatarSuccess","response","treeRef","menuList","currentMenu","iconList","defaultMenus","visible","loadMenus","savedMenus","saveMenus","handleAddRootMenu","newMenu","editing","handleAddChild","newChild","_currentMenu$value","parent","handleSaveForm","handleAllowDrop","draggingNode","dropNode","handleDrop","settingsForm","primaryColor","notifications","sound","notificationPosition","pomodoroLength","breakLength","autoStartBreak","autoStartNextRound","predefineColors","handleMenuSelect","handleReset","assign","exportData","_unused","_exportedAt","blob","Blob","URL","createObjectURL","link","createElement","href","download","split","body","appendChild","click","removeChild","revokeObjectURL","handleImport","reader","FileReader","onload","_typeof","Error","confirmImport","clear","location","reload","readAsText","slidingNote","slideOffset","touchStartX","currentOffset","touchStart","note","touches","touchMove","deltaX","newOffset","touchEnd","hoveredNote","deletedNote","deleteTimeout","deletedNotes","handleSlideDelete","shift","deleteNote","clearTimeout","lastDeleted","pop","handleKeydown","metaKey","useNoteStore","pinnedNotes","isPinned","unpinnedNotes","archivedNotes","isArchived","saveToLocal","addNote","newNote","tags","updatedAt","updateNote","updates","togglePin","toggleArchive","addTag","noteId","tag","Array","isArray","Set","removeTag","restoreNote","tagInputRef","noteStore","searchQuery","activeTab","currentNote","showTagInput","newTag","showTitleEdit","isEditingTitle","titleInputRef","filteredNotes","some","unarchivedNotes","createNote","selectNote","saveNote","_newTag$value","updatedTags","autoSaveTimer","autoSave","_currentNote$value","_currentNote$value2","showTagInputAndFocus","_tagInputRef$value","startTitleEdit","_titleInputRef$value","finishTitleEdit","formatDateTime","getHours","getMinutes","second","getSeconds","toolbars","docTree","currentDoc","defaultProps","handleNodeClick","createDoc","createFolder","saveDoc","handleUploadImage","insertImage","files","desc","_x3","currentMap","maps","currentTheme","canUndo","canRedo","newMapForm","themes","filteredMaps","saveTimeout","loadMap","draggable","keyboard","contextMenu","themeConfig","nodeMargin","viewportOptions","saveCurrentMap","createNewMap","handleCreateMap","newMap","uid","saveMapsToStorage","_mindMap$value","_data$data","getData","savedData","m","exportMap","zoomIn","currentZoom","getZoom","setZoom","zoomOut","resetZoom","_mindMap$value2","undo","_mindMap$value3","redo","_mindMap$value4","handleMapCommand","duplicatedMap","_yield$ElMessageBox$p","newTitle","_currentMap$value","_mindMap$value5","_mindMap$value6","_mindMap$value7","prompt","inputValue","inputValidator","sent","t1","setLayout","t2","resetMindMap","_mindMap$value8","_mindMap$value9","_mindMap$value10","loadMapsFromStorage","_mindMap$value11","initialData","currentReviewId","dialogTitle","newType","formatDateWithYear","weekStart","getDay","firstDayOfYear","ceil","replace","editReview","weekEnd","monthNames","getReviewTimeRange","monthStart","monthEnd","useTodoStore","state","actions","saveTodos","updateTodo","deleteTodosByDate","getters","getTodosByDate","todoDate","todoDueDate","activeTodos","getTodosByCategory","todoStore","currentDate","dialogVisible","showContextMenu","contextMenuPosition","selectedDate","dragMode","selectedDates","todoForm","startYear","getLunarDate","lunar","Lunar","fromDate","toDate","festivals","getFestivals","jieQi","getJieQi","getMonthInChinese","getDayInChinese","contextMenuStyle","handleContextMenu","innerHeight","handleAddTodo","handleViewTodos","handleDeleteTodo","Modal","onOk","handleClickOutside","closest","isHoliday","isWeekend","legalHolidays","isLegalHoliday","festival","holiday","isDueDate","isCreateDate","aiAvatar","userInput","currentChatId","messagesContainer","showSettings","chatHistory","currentChat","messages","currentModel","filteredHistory","chat","loadChat","scrollTop","scrollHeight","modelOptions","systemPrompt","modelSettings","apiUrls","kimi","deepseek","qwen","apiKeys","autoSummarize","saveSettings","generateTitle","fetch","method","headers","role","temperature","stream","json","choices","sendMessage","isNewChat","currentModelConfig","assistantMessage","apiMessages","lastMessage","decoder","isDone","_yield$reader$read","chunk","lines","_iterator","_step","line","_jsonData$choices","jsonData","chatIndex","modelSwitch","saveChat","msg","max_tokens","top_p","top_k","frequency_penalty","lastElementChild","scrollIntoView","behavior","getReader","TextDecoder","read","decode","_createForOfIteratorHelper","n","delta","warn","err","f","deleteChat","chatId","savedHistory","c","savedSettings","process","VUE_APP_KIMI_API_KEY","createNewChat","formattedDate","formatMessage","formattedContent","marked","match","p1","code","inputPlaceholder","copyMessage","selectedMessages","toggleMessageSelection","indexOf","deleteMessage","downloadAsImage","_callee3","container","canvas","_context3","className","messageDiv","innerHTML","html2canvas","toDataURL","display","getModelLabel","editingChatId","editingTitle","startEditTitle","handleBlur","saveTitle","chatToUpdate","filteredDiaries","diaries","diary","items","dateA","dateB","isToday","scrollToInput","_document$querySelect","STORAGE_KEY","diaryEntry","item1","item2","item3","diaryHistory","editingIndex","totalDays","totalItems","saveToStorage","saveDiary","newEntry","editDiary","entry","cancelEdit","confirmDelete","useProxy","iframeUrl","pageTitle","proxyUrl","encodeURIComponent","iframeRef","currentUrl","showError","loadUrl","test","refresh","iframe","currentSrc","src","openInNewTab","handleLoad","handleError","websites","showAddDialog","editingWebsite","website","websiteForm","fetchingInfo","_useFullscreen","useFullscreen","isFullscreen","toggleFullscreen","toggle","searchEngines","currentEngineIndex","currentEngine","currentPage","pageSize","filterText","filteredWebsites","site","paginatedWebsites","get","start","end","set","newWebsites","saveWebsitesToStorage","toggleSearchEngine","searchHistory","showHistory","handleSearch","engine","pageContextMenu","pageContextMenuStyle","showPageContextMenu","hidePageContextMenu","showFolderNameDialog","newFolderName","folderNameInput","currentFolder","showFolderContent","dragState","isDragging","draggedItem","draggedElement","dropTarget","dropType","isDragOver","element","_dragState$value$drop","dropIndicator","handleDragStart","evt","w","dataset","handleDragEnter","_dragState$value$drag","currentTarget","mouseY","threshold","handleDragOver","handleDragLeave","_dragState$value$drop2","handleDragEnd","_dragState$value","folder","generateFolderIcon","_folderNameInput$valu","draggedIndex","targetIndex","_websites$value$splic","_websites$value$splic2","movedItem","newIndex","handleItemClick","openWebsite","handleCreateFolder","_folderNameInput$valu2","ctx","getContext","fillStyle","beginPath","moveTo","lineTo","closePath","fill","renderIcon","getFaviconUrl","saveFolderName","cancelFolderName","handleFolderDialogClosed","changeBackground","updateDateTime","toLocaleTimeString","hour12","hideContextMenu","editWebsite","uploadIcon","accept","onchange","readAsDataURL","generateIcon","randomColor","arc","PI","font","textAlign","textBaseline","fillText","charAt","toUpperCase","deleteWebsite","saveWebsite","urlObj","possibleIcons","hostname","handleIconError","_unused2","loadWebsitesFromStorage","autoFetchWebsiteInfo","normalizedUrl","html","doc","favicon","ElLoading","service","DOMParser","parseFromString","getFaviconWithFallback","close","_ref4","iconUrls","_iconUrls","ok","handlePreviewIconError","_unused3","handleFolderDragStart","handleFolderDragEnd","handleFolderDragAdd","handleDragAdd","component","MainLayout","redirect","Dashboard","TodoList","PasswordGenerator","ReportSummary","PomodoroTimer","GoalManager","ProfileView","meta","requiresAuth","SettingsView","NotesView","KnowledgeBaseView","ReviewsView","CalendarView","AIChatView","GratitudeDiaryView","IframeView","WebView","WebNav","HelloWorld","GetStart","LoginView","createRouter","history","createWebHistory","_component_router_view","initMenuConfig","existingConfig","app","createApp","App","pinia","createPinia","_Object$entries","ElementPlusIcons","_Object$entries$_i","Antd","ElementPlus","MdEditor","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","deferred","O","chunkIds","fn","notFulfilled","Infinity","fulfilled","j","keys","every","getter","__esModule","definition","o","defineProperty","enumerable","globalThis","Function","obj","prototype","hasOwnProperty","Symbol","toStringTag","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}